language: java
sudo: false
git:
  submodules: false
addons:
  sonarcloud:
    organization: dotcms-github
    branches:
    - master
    - sonarqube-test-main-branch
cache:
  directories:
    - '$HOME/.m2/repository'
    - '$HOME/.sonar/cache'
    - '$HOME/.gradle'
    - '.gradle'
    - 'dotCMS/.gradle'
jdk:
- oraclejdk8
before_install:
- chmod +x dotCMS/travis.sh
before_script:
 - "echo $JAVA_OPTS"
 - "export JAVA_OPTS=-Xmx1024m"
script:
- export SONAR_SCANNER_OPTS="-Xmx512m"
- export SONARQUBE_SKIPPED=false
- ./dotCMS/travis.sh
env:
  global:
  - secure: NM3GcS3C5bpA22g0IhZo6HeNDjRZD4CW9GLhlgumxDpsrstQ97x986JudZgcEOP5723JwKQMMpkpZZMLmacI6fR9VHaKmpwyXRCjZHs/MrCdk5eGy3lL7zy0oRORWf1zRMpb6wNp5srufREnp1uK4PL+lmCi0fAWbNjM+8KqoNCI3TELTyI1cUtikO9XiQ0VZjgFJuyJYuRWuXpsJTGdk3MVwufia/13QSmxRhHZrKBTUzwPzgdynx6ZRZXdV+Hs91QsVzAN2WecKrPYX1OFf+A2GsrfnZHmwHiYFqNxUaMDavYxBJ+rDmhzC7DhElcIJqkIBiFHoRfNO5+u5Ph9GNPfLV3iiKb63MfPWDKPkq+llkQi0S+Qg2QHs045iwVSx+xWFm9EtvWhzl7Y82WXy7gdAPrmlDCRmUBoIEl1pShsGeXUUwLtbCPkKjbrzpWkkKXl9eqTg5YpTG0gTBS1LyOUtnso+yrPH0LEs+FMmoF/caPp00/2QX06GZt/61jveoqw8IJM3hb5qDXHWkiU1dKE0zLpr05GicJf70pWbB+U/qU8v+t2kk35MrWwf/4C39Wv9/dS+q0q+/JdUrafGyWQFj3AW1lTNDWFPyxv4mpxVwlmfuw2p8xMd/4M7BXUrT2jS+yr65QuOnUCsvpuBtk3hcdZH8Idy7dZzu2jkb4=
  - secure: kzXZcbp5n6SQd/KiZCwTfMOCVewAK+04rXKYiW/+NYXgBsFdaWqFowl5G4KKWo6S6wS+ep0qVTQUJcj0/qp73yaU79ljhCf/qM0kp8ZcH3GK3Q2fnLrjd6Qu1YLkt942rsy+Hm333s8Bd9BNQ/ne/bQ9IPmsDDUKPzIG30iayGFo5tP175bt0r6U7id1mtKLHdqQCKP85izPBwZGLFmatEfjn7Op8NH7aQ5Fy0cKq8sZhJsxpTqK38W70j+MuO4AN0sZO94QHsu+vp3JG3LHS5WuD4gTvx5MjYlgDpP31pPpdmBwuhIuDVVqhDvm3li9SgWvaN2rqW6FQ/3WmhqKeTCyNhIfBYuiUjYYokv19z7jAsNyvz2GqMISC993k4h4qK66jtQC8CvRmabnr4Md1D8lFHmkBzQL15fRCFJPTeQatVg9pc8DdVbOWGjCAAQ3Vku01GPrFiWmXWvcFUv3kl9oPspLgA5EzKLWlVHNaRxVsFGkPTmUzGSeevewMQvRuS3ZxTsjwvE2UDFD6AF1HS4ZW0D5VkF1zdHb3w0Hqfyp4QHR5p6lAavylL5G0s73H//7DkGAV+wTepBxA0TbyMhhwzwtSIao4eG+B574NikbCfKbL1gPDIzdT1hQ0Ar5xk0kFlMdv6pSZ/yCAyupiZWLasdPs4n7ZubFnPF6dA8=
  - secure: XsM4vy9q6h1/bvxwPjKfi70yH0voNs913QSHA9iz2PhizpW80Jdupoxxl34F28Dw97W4gqAplHxpjKjywOwaF06E5rb30Yw4MALiFes7xVUwI7P6QatRC7wkgT8v/9iWg1Vujwb2ia4Iae6uX0FvpQEyubqtBgSH+5SVRquUdvg10eV5YZBgiRpcxVvf5Lk2ulZ9d3iXfj7788JAzXaG9bH+zuwUIusMSZkG33eqqR8M3ojho1Klm0w5qUgm52Re70xytRNr9FKlPj2QHEv0yAPigseuTsQhMiftLM+2EfgMYSQxC5zIiPLb8ODT7bdAq8Sk2HLZwityTnVrP6J0PLmGQYTZEy9AYI1kQuCk3EcxpVTOCQQT3uW32jXnZ/FXXiI20a6sY/4IMwGgU0NTiWf/YnC4hJZTA1XCY0nVXoCWb6BbXvKW2yfCIzTIzK0M8RAyGZFAlpgduu/cqjNO2K7ICP10FdGLJ/lbOUmtfbtJxVxu/H3kqc0GQiG9GGCMD8pDwEyGRtBlpsW9q9juE/2Kjt97s+zdCVNeJUTqRkZgDl9XNm2rLVW45zgbXz5RTDzMdMZ7N0N9+kISPdBbCKatl5C4I/qIpgPjRs542JWpAb/zafh2b1g5tTJakYXycaFB2qmgClYI77WD5eIpv3ZQG7Qh33T91Z6M3UJqD8s=
  - secure: 1cHLfAcnk4KSMyfPAHYIz9cMmauPA8Qsb/OyKe77hv/qqswvdhf3ggH8jUILrcyY3osEuB47maDZneRzy06OTl/x9TOoZ3hQxO+fHePTYYxfmkSDg8OAG36ycXhiN+7uRY7IvVbfgcYMDjhcJ8Tv/yez1Yku3kxqUwQ7CcLgbd6CRnYlQG68pEKtAT82LKBkt9UXuSUFV9L7RchpaeFrl1v8bY2SBxCoof/i/fNI7Q294tLURGZ97KI6vkOLP2fpFhKBIrCuquvBZyhnST4PkUdENx26ZG6WETCzsnus7PIdkMPKnXUmOOPFfGgi7xQWHPqQtufszV+q2dGN7YRVYOYljji/1w3xCR6bzAr9GIc/bxNc/dbEbI2Wzz0kX/PTM9Zu35D55B7hteqVyorm1JhsEHRBpXAAcavSMocuCGAaVr+p6jJ0pzaPWlnpci3HGf+uwtnQHW5IMKao5hWMU+bH3v9oPtrxxKtc6HPKBCej4JBAfvGAUZ/gTHqeSaX9lXcKGH2E2L2uGAuKM8mRzhNEOu3pESnNdgDvJVnkCbYGfOcEpXgpT8qG3Mrl9mLkD4eQJYTUHO4elaBx07OSLbnC1vdirZZQiiH+U1QDBIOMbUvnuNNKYqk/TFq1BeCG20stGOwF2jqgxjMGftlptB2hXLC9UrTSXy95sP3Mp68=
