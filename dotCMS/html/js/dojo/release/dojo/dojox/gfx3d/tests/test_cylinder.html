<html xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office" >
<head>
<title>Cylinder test of dojox.gfx3d.</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">
	@import "../../../dojo/resources/dojo.css";
	@import "../../../dijit/tests/css/dijitTests.css";
</style>
<script type="text/javascript" src="../../../dojo/dojo.js" djConfig="isDebug: true"></script>
<script type="text/javascript" src="../lighting.js"></script>
<script type="text/javascript" src="../gradient.js"></script>
<script type="text/javascript" src="../object.js"></script>
<script type="text/javascript">

dojo.require("dojox.gfx3d");

makeObjects = function(){
	var surface = dojox.gfx.createSurface("test", 500, 400);
	var view = surface.createViewport();
	view.setLights([
			{direction: {x: 0, y: 0, z: -10}, color: "white"},
			{direction: {x: 10, y: 0, z: -10}, color: "#444"}
		], {color: "white", intensity: 2}, "white");

	var m = dojox.gfx3d.matrix;
	
	view.createCylinder({})
		.setTransform([m.translate(150, 250, 0), m.rotateZg(60), m.rotateXg(-60)])
		.setStroke("black")
		.setFill({type: "plastic", finish: "glossy", color: "red"});
	
	view.createCylinder({})
		.setTransform([m.translate(150, 100, 0), m.rotateZg(45), m.rotateXg(-135)])
		.setStroke("black")
		.setFill({type: "plastic", finish: "shiny", color: "yellow"});

	view.createCylinder({})
		.setTransform([m.translate(250, 200, 0), m.rotateZg(-30), m.rotateXg(-30)])
		.setStroke("black")
		.setFill({type: "plastic", finish: "dull", color: "lime"});

	//var camera = m.normalize([m.cameraRotateXg(15), m.cameraRotateYg(15), m.cameraTranslate(-200, -300, 0)]);
	//var camera = m.normalize([m.cameraRotateXg(15), m.cameraRotateYg(15)]);
	var camera = m.normalize({});

	view.applyCameraTransform(camera);
	view.render();
};

mdebug = function(matrix){
	var m = dojox.gfx3d.matrix.normalize(matrix);
	console.debug("xx: " + m.xx + ", xy: " + m.xy + " | xz:" + m.xz + " | dx:" + m.dx);
	console.debug("yx: " + m.yx + ", yy: " + m.yy + " | yz:" + m.yz + " | dy:" + m.dy);
	console.debug("zx: " + m.zx + ", zy: " + m.zy + " | zz:" + m.zz + " | dz:" + m.dz);
};

dojo.addOnLoad(makeObjects);

</script>
</head>
<body>
	<h1>Cylinder Test</h1>
<div id="test" style="width: 500px; height: 400px;"></div>
<p>That's all Folks!</p>
</body>
</html>
