import{r as t,c as s,h as e,H as i,g as a}from"./p-17c4ed33.js";const h=(t,s)=>t&&t.length&&s&&"string"==typeof s?t.filter(({data:{inode:t}})=>s.split(",").includes(t)).map(({data:t})=>t):[],c=class{constructor(e){t(this,e),this.items=[],this.selection=[],this.selected=s(this,"selected",7),this.cardClick=s(this,"cardClick",7)}async getValue(){return this.selection}watchItems(t){this.selection=h(t,this.value)}watchValue(t){this.selection=h(this.items,t)}render(){const t=(t=>t&&"string"==typeof t?t.split(","):[])(this.value);return e(i,null,this.items.map(s=>e("dot-card-contentlet",{onClick:t=>{const s=this.el.shadowRoot.querySelectorAll("dot-card-contentlet"),e=t.target;let i=!1;t.shiftKey&&e.checked&&s.forEach(t=>{t!==e&&t!==this.lastChecked||(i=!i),i&&(t.checked=!0)}),this.lastChecked=e},key:s.data.inode,checked:t.includes(s.data.inode),onCheckboxChange:({detail:{originalTarget:t,data:s}})=>{t.checked?this.selection.push(s):this.selection=this.selection.filter(t=>t.identifier!==s.identifier),this.value=this.selection.map(({inode:t})=>t).join(","),this.selected.emit(this.selection)},item:s})))}get el(){return a(this)}static get watchers(){return{items:["watchItems"],value:["watchValue"]}}static get style(){return":host{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));grid-gap:var(--basic-padding-2)}dot-card-contentlet{height:100%}dot-card-contentlet:before{content:\"\";display:inline-block;-ms-flex:0 0 0px;flex:0 0 0;height:0;padding-bottom:calc(100%)}"}};export{c as dot_card_view};