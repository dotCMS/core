import{h as e}from"./p-17c4ed33.js";import{g as t,i as a}from"./p-f1ae637c.js";const n={Text:t=>e("dot-textfield",{hint:t.hint,label:t.name,name:t.variable,ref:e=>{l(e,t.fieldVariables)},"regex-check":t.regexCheck,required:t.required,value:t.defaultValue}),Textarea:t=>e("dot-textarea",{hint:t.hint,label:t.name,name:t.variable,ref:e=>{l(e,t.fieldVariables)},"regex-check":t.regexCheck,required:t.required,value:t.defaultValue}),Checkbox:t=>e("dot-checkbox",{hint:t.hint,label:t.name,name:t.variable,options:t.values,ref:e=>{l(e,t.fieldVariables)},required:t.required,value:t.defaultValue}),"Multi-Select":t=>e("dot-multi-select",{hint:t.hint,label:t.name,name:t.variable,options:t.values,ref:e=>{l(e,t.fieldVariables)},required:t.required,value:t.defaultValue}),"Key-Value":t=>e("dot-key-value",{"field-type":t.fieldType,hint:t.hint,label:t.name,name:t.variable,required:t.required,value:t.defaultValue}),Select:t=>e("dot-select",{hint:t.hint,label:t.name,name:t.variable,options:t.values,ref:e=>{l(e,t.fieldVariables)},required:t.required,value:t.defaultValue}),Radio:t=>e("dot-radio",{hint:t.hint,label:t.name,name:t.variable,options:t.values,ref:e=>{l(e,t.fieldVariables)},required:t.required,value:t.defaultValue}),Date:t=>e("dot-date",{hint:t.hint,label:t.name,name:t.variable,ref:e=>{l(e,t.fieldVariables)},required:t.required,value:t.defaultValue}),Time:t=>e("dot-time",{hint:t.hint,label:t.name,name:t.variable,ref:e=>{l(e,t.fieldVariables)},required:t.required,value:t.defaultValue}),"Date-and-Time":t=>e("dot-date-time",{hint:t.hint,label:t.name,name:t.variable,ref:e=>{l(e,t.fieldVariables)},required:t.required,value:t.defaultValue}),"Date-Range":t=>e("dot-date-range",{hint:t.hint,label:t.name,name:t.variable,required:t.required,value:t.defaultValue}),Tag:t=>e("dot-tags",{data:()=>fetch("/api/v1/tags").then(e=>e.json()).then(e=>Object.keys(e)).catch(()=>[]),hint:t.hint,label:t.name,name:t.variable,required:t.required,value:t.defaultValue}),Binary:t=>e("dot-binary-file",{accept:d(t.fieldVariables,"accept"),"max-file-length":d(t.fieldVariables,"maxFileLength"),hint:t.hint,label:t.name,name:t.variable,ref:e=>{l(e,t.fieldVariables)},required:t.required})},r="dot";function l(e,t){t.forEach(({key:t,value:a})=>{e.setAttribute(t,a)})}function i(e,t){t.forEach(({name:t,value:a})=>{e.setAttribute(t.replace("dot",""),a)})}function o(e,t){const a=t.map(e=>e.toUpperCase());return e.filter(e=>!a.includes(e.name.toUpperCase())&&e.name.startsWith("dot"))}const u=(e,t)=>{const a=t?t.split(","):[];return!a.length||a.includes(e.variable)},d=(e,t)=>{if(e&&e.length){const[a]=e.filter(e=>e.key.toUpperCase()===t.toUpperCase());return a&&a.value}return null},c=e=>{const t=JSON.parse(e);return t.errors.length&&t.errors[0].message?t.errors[0].message:e},s=e=>e.reduce((e,{columns:t})=>e.concat(...t.map(e=>e.fields)),[]),m={"Key-Value":e=>{if(e.defaultValue&&"string"!=typeof e.defaultValue){const a=Object.keys(e.defaultValue).map(t=>({key:t,value:e.defaultValue[t]}));e.defaultValue=t(a)}return n["Key-Value"](e)}},f={"DOT-KEY-VALUE":e=>a(e)?e.split(",").reduce((e,t)=>{const[a,n]=t.split("|");return Object.assign(Object.assign({},e),{[a]:n})},{}):null},b={Time:n.Time,Textarea:n.Textarea,Text:n.Text,Tag:n.Tag,Select:n.Select,Radio:n.Radio,"Multi-Select":n["Multi-Select"],"Key-Value":m["Key-Value"],"Date-and-Time":n["Date-and-Time"],"Date-Range":n["Date-Range"],Date:n.Date,Checkbox:n.Checkbox,Binary:n.Binary};export{r as D,c as a,s as b,u as c,b as d,f,o as g,i as s};