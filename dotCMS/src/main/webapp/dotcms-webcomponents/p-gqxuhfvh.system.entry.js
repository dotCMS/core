System.register(["./p-aa15c74d.system.js","./p-835fa369.system.js","./p-8b2e6c31.system.js"],(function(e){"use strict";var t,i,n,r,l,s,o,u,a,f,h;return{setters:[function(e){t=e.r;i=e.c;n=e.h;r=e.H;l=e.g},function(e){s=e.e;o=e.k;u=e.m;a=e.n;f=e.l},function(e){h=e.D}],execute:function(){var c=e("dot_binary_file_preview",function(){function e(e){t(this,e);this.fileName="";this.previewUrl="";this.deleteLabel="Delete";this.delete=i(this,"delete",7)}e.prototype.render=function(){var e=this;return this.fileName?n(r,null,this.getPreviewElement(),n("div",{class:"dot-file-preview__info"},n("span",{class:"dot-file-preview__name"},this.fileName),n("button",{type:"button",onClick:function(){return e.clearFile()}},this.deleteLabel))):null};e.prototype.clearFile=function(){this.delete.emit();this.fileName=null;this.previewUrl=null};e.prototype.getPreviewElement=function(){return this.previewUrl?n("img",{alt:this.fileName,src:this.previewUrl}):n("div",{class:"dot-file-preview__extension"},n("span",null,this.getExtention()))};e.prototype.getExtention=function(){return this.fileName.substr(this.fileName.lastIndexOf("."))};Object.defineProperty(e.prototype,"el",{get:function(){return l(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return"dot-binary-file-preview{display:-ms-flexbox;display:flex}dot-binary-file-preview .dot-file-preview__extension,dot-binary-file-preview img{width:100px;height:100px}dot-binary-file-preview .dot-file-preview__info{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-item-align:end;align-self:flex-end;padding-left:.5rem}dot-binary-file-preview .dot-file-preview__info span{margin-bottom:1rem;word-break:break-all}dot-binary-file-preview .dot-file-preview__info button{-ms-flex-item-align:start;align-self:flex-start;background-color:#d3d3d3;border:0;padding:.3rem 1.5rem;cursor:pointer}dot-binary-file-preview .dot-file-preview__extension{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;background-color:#d3d3d3}dot-binary-file-preview .dot-file-preview__extension span{overflow:hidden;padding:.5rem;text-overflow:ellipsis;font-size:2rem}"},enumerable:true,configurable:true});return e}());var p=e("dot_binary_text_field",function(){function e(e){t(this,e);this.value=null;this.hint="";this.placeholder="";this.required=false;this.disabled=false;this.fileChange=i(this,"fileChange",7);this.lostFocus=i(this,"lostFocus",7)}e.prototype.render=function(){var e=this;return n(r,null,n("input",{type:"text","aria-describedby":s(this.hint),class:o(this.isValid()),disabled:this.disabled,placeholder:this.placeholder,value:this.value,onBlur:function(){return e.lostFocus.emit()},onKeyDown:function(t){return e.keyDownHandler(t)},onPaste:function(t){return e.pasteHandler(t)}}))};e.prototype.keyDownHandler=function(e){if(e.key==="Backspace"){this.handleBackspace()}else if(this.shouldPreventEvent(e)){e.preventDefault()}};e.prototype.shouldPreventEvent=function(e){return!(e.ctrlKey||e.metaKey)};e.prototype.handleBackspace=function(){this.value="";this.emitFile(null,this.required?h.REQUIRED:null)};e.prototype.pasteHandler=function(e){e.preventDefault();this.value="";var t=e.clipboardData;if(t.items.length){if(this.isPastingFile(t)){this.handleFilePaste(t.items)}else{var i=t.items[0];this.handleURLPaste(i)}}};e.prototype.handleFilePaste=function(e){var t=this;var i=e[0];var n=e[1].getAsFile();i.getAsString((function(e){if(u(e,t.accept)){t.value=e;t.emitFile(n)}else{t.emitFile(null,h.INVALID)}}))};e.prototype.handleURLPaste=function(e){var t=this;e.getAsString((function(e){if(a(e)){t.value=e;t.emitFile(e)}else{t.emitFile(null,h.URLINVALID)}}))};e.prototype.isPastingFile=function(e){return!!e.files.length};e.prototype.isValid=function(){return!(this.required&&!!this.value)};e.prototype.emitFile=function(e,t){this.fileChange.emit({file:e,errorType:t})};Object.defineProperty(e.prototype,"el",{get:function(){return l(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return""},enumerable:true,configurable:true});return e}());var d=e("dot_binary_upload_button",function(){function e(e){t(this,e);this.name="";this.required=false;this.disabled=false;this.buttonLabel="";this.fileChange=i(this,"fileChange",7)}e.prototype.componentDidLoad=function(){this.fileInput=this.el.querySelector("dot-label input")};e.prototype.render=function(){var e=this;return n(r,null,n("input",{accept:this.accept,disabled:this.disabled,id:f(this.name),onChange:function(t){return e.fileChangeHandler(t)},required:this.required||null,type:"file"}),n("button",{type:"button",disabled:this.disabled,onClick:function(){e.fileInput.click()}},this.buttonLabel))};e.prototype.fileChangeHandler=function(e){var t=this.fileInput.files[0];if(u(t.name,this.accept)){this.emitFile(t)}else{e.preventDefault();this.emitFile(null,h.INVALID)}};e.prototype.emitFile=function(e,t){this.fileChange.emit({file:e,errorType:t})};Object.defineProperty(e.prototype,"el",{get:function(){return l(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return""},enumerable:true,configurable:true});return e}())}}}));