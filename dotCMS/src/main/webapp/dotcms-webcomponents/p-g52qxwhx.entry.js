import{r as t,c as s,h as i,H as h,g as a}from"./p-d73782c7.js";import{h as e,c as o,j as r,a as n,f as l,b as d,k as u,l as c,e as p,u as m}from"./p-d445492c.js";import{g,s as b}from"./p-552e854f.js";const v=class{constructor(i){t(this,i),this.value="",this.name="",this.label="",this.hint="",this.required=!1,this.disabled=!1,this.requiredMessage="",this.options="",this.dotValueChange=s(this,"dotValueChange",7),this.dotStatusChange=s(this,"dotStatusChange",7)}async reset(){this.value="",this.status=e(this.isValid()),this.emitStatusChange(),this.emitValueChange()}componentWillLoad(){this.value=this.value||"",this.validateProps(),this.status=e(this.isValid()),this.emitStatusChange()}componentDidLoad(){const t=["dottype"],s=this.el.querySelectorAll('input[type="radio"]');setTimeout(()=>{const i=g(Array.from(this.el.attributes),t);s.forEach(t=>{b(t,i)})},0)}optionsWatch(){const t=o(this,"options");this._options=r(t)}valueWatch(){this.value=this.value||""}render(){const t=n(this.status,this.isValid(),this.required);return i(h,{class:Object.assign({},t)},i("dot-label",{label:this.label,required:this.required,name:this.name},i("div",{class:"dot-radio__items","aria-describedby":p(this.hint),tabIndex:this.hint?0:null,role:"radiogroup"},this._options.map(t=>(t.value=t.value.trim(),i("label",null,i("input",{checked:this.value.indexOf(t.value)>=0||null,class:u(this.isValid()),name:c(this.name),disabled:this.disabled||null,onInput:t=>this.setValue(t),type:"radio",value:t.value}),t.label))))),d(this.hint),l(this.showErrorMessage(),this.getErrorMessage()))}validateProps(){this.optionsWatch()}isValid(){return!this.required||!!this.value}showErrorMessage(){return this.getErrorMessage()&&!this.status.dotPristine}getErrorMessage(){return this.isValid()?"":this.requiredMessage}setValue(t){this.value=t.target.value.trim(),this.status=m(this.status,{dotTouched:!0,dotPristine:!1,dotValid:this.isValid()}),this.emitValueChange(),this.emitStatusChange()}emitStatusChange(){this.dotStatusChange.emit({name:this.name,status:this.status})}emitValueChange(){this.dotValueChange.emit({name:this.name,value:this.value})}get el(){return a(this)}static get watchers(){return{options:["optionsWatch"],value:["valueWatch"]}}static get style(){return".dot-radio__items{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.dot-radio__items label{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex}.dot-radio__items input{margin:0 .25rem 0 0}"}};export{v as dot_radio};