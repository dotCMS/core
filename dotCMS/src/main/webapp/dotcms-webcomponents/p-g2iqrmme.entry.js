import{r as t,c as s,h as e,g as i}from"./p-276a5fbc.js";const l={key:"",value:""},h=class{constructor(e){t(this,e),this.disabled=!1,this.addButtonLabel="Add",this.keyPlaceholder="",this.valuePlaceholder="",this.keyLabel="Key",this.valueLabel="Value",this.inputs=Object.assign({},l),this.add=s(this,"add",7),this.lostFocus=s(this,"lostFocus",7)}render(){const t=this.isButtonDisabled();return e("form",{onSubmit:this.addKey.bind(this)},e("label",null,this.keyLabel,e("input",{disabled:this.disabled,name:"key",onBlur:t=>this.lostFocus.emit(t),onInput:t=>this.setValue(t),placeholder:this.keyPlaceholder,type:"text",value:this.inputs.key})),e("label",null,this.valueLabel,e("input",{disabled:this.disabled,name:"value",onBlur:t=>this.lostFocus.emit(t),onInput:t=>this.setValue(t),placeholder:this.valuePlaceholder,type:"text",value:this.inputs.value})),e("button",{class:"key-value-form__save__button",type:"submit",disabled:t},this.addButtonLabel))}isButtonDisabled(){return!this.isFormValid()||this.disabled||null}isFormValid(){return!(!this.inputs.key.length||!this.inputs.value.length)}setValue(t){t.stopImmediatePropagation();const s=t.target;this.inputs=Object.assign(Object.assign({},this.inputs),{[s.name]:s.value.toString()})}addKey(t){t.preventDefault(),t.stopImmediatePropagation(),this.inputs.key&&this.inputs.value&&(this.add.emit(this.inputs),this.clearForm(),this.focusKeyInputField())}clearForm(){this.inputs=Object.assign({},l)}focusKeyInputField(){this.el.querySelector('input[name="key"]').focus()}get el(){return i(this)}static get style(){return"key-value-form form{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}key-value-form form button{margin:0}key-value-form form input{margin:0 1rem 0 .5rem}key-value-form form label{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex}key-value-form form label,key-value-form form label input{-ms-flex-positive:1;flex-grow:1}"}},u=class{constructor(e){t(this,e),this.items=[],this.disabled=!1,this.buttonLabel="Delete",this.emptyMessage="No values",this.delete=s(this,"delete",7)}render(){return e("table",null,e("tbody",null,this.renderRows(this.items)))}onDelete(t){this.delete.emit(t)}getRow(t,s){return e("tr",null,e("td",null,e("button",{"aria-label":`${this.buttonLabel} ${t.key}, ${t.value}`,disabled:this.disabled||null,onClick:()=>this.onDelete(s),class:"dot-key-value__delete-button"},this.buttonLabel)),e("td",null,t.key),e("td",null,t.value))}renderRows(t){return this.isValidItems(t)?t.map((t,s)=>this.getRow(t,s)):this.getEmptyRow()}getEmptyRow(){return e("tr",null,e("td",null,this.emptyMessage))}isValidItems(t){return Array.isArray(t)&&!!t.length}};export{h as key_value_form,u as key_value_table};