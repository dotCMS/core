const e=window.dotcmsFields.h;import{a as t,b as a,c as s,d as i,e as l,f as r,g as u,h as n,i as h,j as d,k as o}from"./chunk-c28f28f8.js";class m{constructor(){this.disabled=!1,this.status=t()}componentWillLoad(){this._options=a(this.options),this.emitValueChange(),this.emitStatusChange()}hostData(){return{class:s(this.status,this.isValid(),this.required)}}reset(){this.value="",this.status=t(this.isValid()),this.emitValueChange(),this.emitStatusChange()}render(){let t={name:this.name,label:this.label,required:this.required};return e(i,null,l(t),this._options.map(a=>{const s=a.value.trim();return t={name:s,label:a.label},e(i,null,e("input",{class:r(this.isValid()),type:"checkbox",disabled:this.disabled||null,id:s,checked:this.value.indexOf(s)>=0||null,onInput:e=>this.setValue(e),value:s}),l(t))}),u(this.hint),n(!this.isValid(),this.requiredMessage))}setValue(e){this.value=this.getValueFromCheckInputs(e.target.value.trim(),e.target.checked),this.status=h(this.status,{dotTouched:!0,dotPristine:!1,dotValid:this.isValid()}),this.emitValueChange(),this.emitStatusChange()}getValueFromCheckInputs(e,t){const a=this.value.trim().length?this.value.split(","):[],s=new Set(a);return t?s.add(e):s.delete(e),Array.from(s).join(",")}emitStatusChange(){this.statusChange.emit({name:this.name,status:this.status})}isValid(){return!this.required||!!this.value}emitValueChange(){this.valueChange.emit({name:this.name,value:this.value})}static get is(){return"dot-checkbox"}static get properties(){return{_options:{state:!0},disabled:{type:Boolean,attr:"disabled"},el:{elementRef:!0},hint:{type:String,attr:"hint"},label:{type:String,attr:"label"},name:{type:String,attr:"name"},options:{type:String,attr:"options"},required:{type:Boolean,attr:"required"},requiredMessage:{type:String,attr:"required-message"},reset:{method:!0},status:{state:!0},value:{type:String,attr:"value",mutable:!0}}}static get events(){return[{name:"valueChange",method:"valueChange",bubbles:!0,cancelable:!0,composed:!0},{name:"statusChange",method:"statusChange",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return""}}class g{constructor(){this.disabled=!1}reset(){this.el.querySelector("dot-input-calendar").reset()}emitValueChange(e){e.stopImmediatePropagation(),this.valueChange.emit(e.detail)}emitStatusChange(e){e.stopImmediatePropagation();const t=e.detail;this.classNames=s(t.status,t.status.dotValid,this.required),this.statusChange.emit(e.detail)}showErrorElement(e){e.stopImmediatePropagation(),this.errorMessageElement=n(e.detail.show,e.detail.message)}hostData(){return{class:this.classNames}}render(){return e(i,null,l({name:this.name,label:this.label,required:this.required}),e("dot-input-calendar",{disabled:this.disabled,type:"date",label:this.label,name:this.name,hint:this.hint,value:this.value,required:this.required,"required-message":this.requiredMessage,"validation-message":this.validationMessage,min:this.min,max:this.max,step:this.step}),u(this.hint),this.errorMessageElement)}static get is(){return"dot-date"}static get properties(){return{classNames:{state:!0},disabled:{type:Boolean,attr:"disabled"},el:{elementRef:!0},errorMessageElement:{state:!0},hint:{type:String,attr:"hint"},label:{type:String,attr:"label"},max:{type:String,attr:"max"},min:{type:String,attr:"min"},name:{type:String,attr:"name"},required:{type:Boolean,attr:"required"},requiredMessage:{type:String,attr:"required-message"},reset:{method:!0},step:{type:String,attr:"step"},validationMessage:{type:String,attr:"validation-message"},value:{type:String,attr:"value",mutable:!0}}}static get events(){return[{name:"valueChange",method:"valueChange",bubbles:!0,cancelable:!0,composed:!0},{name:"statusChange",method:"statusChange",bubbles:!0,cancelable:!0,composed:!0}]}static get listeners(){return[{name:"_valueChange",method:"emitValueChange"},{name:"_statusChange",method:"emitStatusChange"},{name:"_errorMessage",method:"showErrorElement"}]}static get style(){return""}}const c={Text:t=>e("dot-textfield",{disabled:t.disabled,label:t.name,name:t.variable,"regex-check":t.regexCheck,"validation-message":t.validationMessage,placeholder:t.placeholder,hint:t.hint,value:t.defaultValue,required:t.required,"required-message":t.requiredMessage}),Textarea:t=>e("dot-textarea",{disabled:t.disabled,label:t.name,name:t.variable,"regex-check":t.regexCheck,"validation-message":t.validationMessage,hint:t.hint,value:t.defaultValue,required:t.required,"required-message":t.requiredMessage}),Checkbox:t=>e("dot-checkbox",{disabled:t.disabled,hint:t.hint,label:t.name,name:t.variable,options:t.values,required:t.required,"required-message":t.requiredMessage,value:t.defaultValue}),"Multi-Select":t=>e("dot-multi-select",{disabled:t.disabled,hint:t.hint,label:t.name,name:t.variable,options:t.values,required:t.required,"required-message":t.requiredMessage,size:+t.size,value:t.defaultValue}),"Key-Value":t=>e("dot-key-value",{disabled:t.disabled,label:t.name,"field-type":t.fieldType,"save-btn-label":t.saveBtnLabel,name:t.variable,"key-placeholder":t.keyPlaceholder,"value-placeholder":t.valuePlaceholder,hint:t.hint,value:t.defaultValue,required:t.required,"required-message":t.requiredMessage}),Select:t=>e("dot-select",{disabled:t.disabled,hint:t.hint,label:t.name,name:t.variable,options:t.values,required:t.required,"required-message":t.requiredMessage,value:t.defaultValue}),Radio:t=>e("dot-radio",{disabled:t.disabled,hint:t.hint,label:t.name,name:t.variable,options:t.values,required:t.required,"required-message":t.requiredMessage,value:t.defaultValue}),Date:t=>e("dot-date",{disabled:t.disabled,label:t.name,name:t.variable,hint:t.hint,value:t.defaultValue,required:t.required,"required-message":t.requiredMessage,"validation-message":t.validationMessage,min:t.min,max:t.max,step:t.step}),Time:t=>e("dot-time",{disabled:t.disabled,label:t.name,name:t.variable,hint:t.hint,value:t.defaultValue,required:t.required,"required-message":t.requiredMessage,"validation-message":t.validationMessage,min:t.min,max:t.max,step:t.step})},b={"Key-Value":e=>{const t={};return e.split(",").forEach(e=>{const[a,s]=e.split("|");t[a]=s}),t}},p={"Key-Value":e=>{if(e.defaultValue&&"string"!=typeof e.defaultValue){const t=Object.keys(e.defaultValue).map(t=>({key:t,value:e.defaultValue[t]}));e.defaultValue=d(t)}return c["Key-Value"](e)}},v={Text:c.Text,Textarea:c.Textarea,Checkbox:c.Checkbox,"Key-Value":p["Key-Value"],"Multi-Select":c["Multi-Select"],Select:c.Select,Radio:c.Radio,Date:c.Date,Time:c.Time};class S{constructor(){this.fields=[],this.fieldsToShow=[],this.resetLabel="Reset",this.submitLabel="Submit",this.value={},this.status=t(),this.fieldsStatus={}}onValueChange(e){const{name:t,value:a,fieldType:s}=e.detail;this.value[t]=s?b[s](a):a,this.updateFieldsValues()}onStatusChange(e){this.fieldsStatus[e.detail.name]=e.detail.status,this.status.dotPristine=this.getStatusValue("dotPristine"),this.status.dotTouched=this.getStatusValue("dotTouched"),this.status.dotValid=this.getStatusValue("dotValid")}hostData(){return{class:s(this.status,this.status.dotValid)}}componentWillLoad(){this.fields.forEach(e=>{this.getFieldTag(e)&&(this.value[e.variable]=e.defaultValue||"")})}render(){return e("form",{onSubmit:e=>this.handleSubmit(e)},this.fields.map(e=>this.getField(e)),e("div",{class:"form__buttons"},e("button",{type:"button",onClick:()=>this.resetForm()},this.resetLabel),e("button",{type:"submit",disabled:!this.status.dotValid||null},this.submitLabel)))}updateFieldsValues(){this.fields=this.fields.map(e=>void 0!==this.value[e.variable]?Object.assign({},e,{defaultValue:this.value[e.variable]}):e)}getStatusValue(e){let t;const a=Object.keys(this.fieldsStatus);for(const s of a){if(!this.fieldsStatus[s][e]){t=this.fieldsStatus[s][e];break}t=this.fieldsStatus[s][e]}return t}handleSubmit(e){e.preventDefault(),this.onSubmit.emit(Object.assign({},this.value))}getFieldTag(e){return v[e.fieldType]?v[e.fieldType](e):""}areFieldsToShowDefined(e){return 0===this.fieldsToShow.length||this.fieldsToShow.includes(e.variable)}getField(e){return this.areFieldsToShowDefined(e)?this.getFieldTag(e):""}resetForm(){Array.from(this.el.querySelectorAll("form > *:not(button)")).forEach(e=>{try{e.reset()}catch(e){console.error("Error:",e)}})}static get is(){return"dot-form"}static get properties(){return{el:{elementRef:!0},fields:{type:"Any",attr:"fields",mutable:!0},fieldsToShow:{type:"Any",attr:"fields-to-show"},resetLabel:{type:String,attr:"reset-label"},status:{state:!0},submitLabel:{type:String,attr:"submit-label"},value:{type:"Any",attr:"value",mutable:!0}}}static get events(){return[{name:"onSubmit",method:"onSubmit",bubbles:!0,cancelable:!0,composed:!0}]}static get listeners(){return[{name:"valueChange",method:"onValueChange"},{name:"statusChange",method:"onStatusChange"}]}static get style(){return"dot-form form>*{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;margin:1rem 0}dot-form form label{margin:0}dot-form form .dot-field__hint{font-size:.75rem}dot-form form .form__buttons{-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:end;justify-content:flex-end}dot-form form .form__buttons button:last-child{margin-left:1rem}"}}class y{constructor(){this.disabled=!1,this.status=t(),this._dotTouched=!1,this._dotPristine=!0}componentWillLoad(){this._options=a(this.options),this.emitInitialValue(),this.emitStatusChange()}hostData(){return{class:s(this.status,this.isValid(),this.required)}}reset(){this.value="",this.status=t(this.isValid()),this.emitInitialValue(),this.emitStatusChange()}render(){return e(i,null,l({name:this.name,label:this.label,required:this.required}),e("select",{multiple:!0,size:+this.size||0,class:r(this.status.dotValid),id:o(this.name),disabled:this.shouldBeDisabled(),onChange:()=>this.setValue()},this._options.map(t=>e("option",{selected:this.value===t.value||null,value:t.value},t.label))),u(this.hint),n(!this.isValid(),this.requiredMessage))}shouldBeDisabled(){return!!this.disabled||null}setValue(){this.value=this.getValueFromMultiSelect(),this.status=h(this.status,{dotTouched:!0,dotPristine:!1,dotValid:this.isValid()}),this.emitValueChange(),this.emitStatusChange()}getValueFromMultiSelect(){const e=this.el.querySelectorAll("option:checked"),t=Array.from(e).map(e=>e.value);return Array.from(t).join(",")}emitInitialValue(){this.value||(this.value=this._options[0].value,this.emitValueChange())}emitStatusChange(){this.statusChange.emit({name:this.name,status:this.status})}isValid(){return!this.required||!!this.value}emitValueChange(){this.valueChange.emit({name:this.name,value:this.value})}static get is(){return"dot-multi-select"}static get properties(){return{_options:{state:!0},disabled:{type:Boolean,attr:"disabled"},el:{elementRef:!0},hint:{type:String,attr:"hint"},label:{type:String,attr:"label"},name:{type:String,attr:"name"},options:{type:String,attr:"options"},required:{type:Boolean,attr:"required"},requiredMessage:{type:String,attr:"required-message"},reset:{method:!0},size:{type:Number,attr:"size"},status:{state:!0},value:{type:String,attr:"value",mutable:!0}}}static get events(){return[{name:"valueChange",method:"valueChange",bubbles:!0,cancelable:!0,composed:!0},{name:"statusChange",method:"statusChange",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return""}}class V{constructor(){this.disabled=!1,this.status=t()}reset(){this.value="",this.status=t(this.isValid()),this.emitStatusChange(),this.emitValueChange()}componentWillLoad(){this._options=a(this.options),this.emitStatusChange()}hostData(){return{class:s(this.status,this.isValid(),this.required)}}render(){let t={name:this.name,label:this.label,required:this.required};return e(i,null,l(t),e("div",{class:"dot-radio__items"},this._options.map(a=>(t={name:"dot-radio-"+a.label.toLocaleLowerCase(),label:a.label},e(i,null,e("div",{class:"dot-radio__item"},e("input",{class:r(this.isValid()),type:"radio",disabled:this.disabled||null,id:"dot-radio-"+a.label.toLocaleLowerCase(),name:this.name.toLocaleLowerCase(),value:a.value,checked:this.value.indexOf(a.value)>=0||null,onInput:e=>this.setValue(e)}),l(t)))))),u(this.hint),n(this.showErrorMessage(),this.getErrorMessage()))}isValid(){return!this.required||!!this.value}showErrorMessage(){return this.getErrorMessage()&&!this.status.dotPristine}getErrorMessage(){return this.isValid()?"":this.requiredMessage}setValue(e){this.value=e.target.value.trim(),this.status=h(this.status,{dotTouched:!0,dotPristine:!1,dotValid:this.isValid()}),this.emitValueChange(),this.emitStatusChange()}emitStatusChange(){this.statusChange.emit({name:this.name,status:this.status})}emitValueChange(){this.valueChange.emit({name:this.name,value:this.value})}static get is(){return"dot-radio"}static get properties(){return{_options:{state:!0},disabled:{type:Boolean,attr:"disabled"},el:{elementRef:!0},hint:{type:String,attr:"hint"},label:{type:String,attr:"label"},name:{type:String,attr:"name"},options:{type:String,attr:"options"},required:{type:Boolean,attr:"required"},requiredMessage:{type:String,attr:"required-message"},reset:{method:!0},status:{state:!0},value:{type:String,attr:"value",mutable:!0}}}static get events(){return[{name:"valueChange",method:"valueChange",bubbles:!0,cancelable:!0,composed:!0},{name:"statusChange",method:"statusChange",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return""}}class C{constructor(){this.disabled=!1,this.status=t(),this._dotTouched=!1,this._dotPristine=!0}componentWillLoad(){this._options=a(this.options),this.emitInitialValue(),this.emitStatusChange()}hostData(){return{class:s(this.status,this.isValid(),this.required)}}reset(){this.value="",this.status=t(this.isValid()),this.emitInitialValue(),this.emitStatusChange()}render(){return e(i,null,l({name:this.name,label:this.label,required:this.required}),e("select",{class:r(this.status.dotValid),id:o(this.name),disabled:this.shouldBeDisabled(),onChange:e=>this.setValue(e)},this._options.map(t=>e("option",{selected:this.value===t.value||null,value:t.value},t.label))),u(this.hint),n(!this.isValid(),this.requiredMessage))}shouldBeDisabled(){return!!this.disabled||null}setValue(e){this.value=e.target.value,this.status=h(this.status,{dotTouched:!0,dotPristine:!1,dotValid:this.isValid()}),this.emitValueChange(),this.emitStatusChange()}emitInitialValue(){this.value||(this.value=this._options[0].value,this.emitValueChange())}emitStatusChange(){this.statusChange.emit({name:this.name,status:this.status})}isValid(){return!this.required||!!this.value}emitValueChange(){this.valueChange.emit({name:this.name,value:this.value})}static get is(){return"dot-select"}static get properties(){return{_options:{state:!0},disabled:{type:Boolean,attr:"disabled"},el:{elementRef:!0},hint:{type:String,attr:"hint"},label:{type:String,attr:"label"},name:{type:String,attr:"name"},options:{type:String,attr:"options"},required:{type:Boolean,attr:"required"},requiredMessage:{type:String,attr:"required-message"},reset:{method:!0},status:{state:!0},value:{type:String,attr:"value",mutable:!0}}}static get events(){return[{name:"valueChange",method:"valueChange",bubbles:!0,cancelable:!0,composed:!0},{name:"statusChange",method:"statusChange",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return""}}class q{constructor(){this.disabled=!1,this.status=t()}reset(){this.value="",this.status=t(this.isValid()),this.emitStatusChange(),this.emitValueChange()}componentWillLoad(){this.emitStatusChange()}hostData(){return{class:s(this.status,this.isValid(),this.required)}}render(){return e(i,null,l({name:this.name,label:this.label,required:this.required}),e("textarea",{class:r(this.status.dotValid),id:o(this.name),name:this.name,value:this.value,required:this.disabled||null,onInput:e=>this.setValue(e),onBlur:()=>this.blurHandler(),disabled:this.required||null}),u(this.hint),n(this.shouldShowErrorMessage(),this.getErrorMessage()))}isValid(){return!this.isValueRequired()&&this.isRegexValid()}isValueRequired(){return this.required&&!this.value}isRegexValid(){return!this.regexCheck||!this.value||new RegExp(this.regexCheck,"ig").test(this.value)}shouldShowErrorMessage(){return this.getErrorMessage()&&!this.status.dotPristine}getErrorMessage(){return this.isRegexValid()?this.isValid()?"":this.requiredMessage:this.validationMessage}blurHandler(){this.status.dotTouched||(this.status=h(this.status,{dotTouched:!0}),this.emitStatusChange())}setValue(e){this.value=e.target.value.toString(),this.status=h(this.status,{dotTouched:!0,dotPristine:!1,dotValid:this.isValid()}),this.emitValueChange(),this.emitStatusChange()}emitStatusChange(){this.statusChange.emit({name:this.name,status:this.status})}emitValueChange(){this.valueChange.emit({name:this.name,value:this.value})}static get is(){return"dot-textarea"}static get properties(){return{disabled:{type:Boolean,attr:"disabled"},el:{elementRef:!0},hint:{type:String,attr:"hint"},label:{type:String,attr:"label"},name:{type:String,attr:"name"},regexCheck:{type:String,attr:"regex-check"},required:{type:Boolean,attr:"required"},requiredMessage:{type:String,attr:"required-message"},reset:{method:!0},status:{state:!0},validationMessage:{type:String,attr:"validation-message"},value:{type:String,attr:"value",mutable:!0}}}static get events(){return[{name:"valueChange",method:"valueChange",bubbles:!0,cancelable:!0,composed:!0},{name:"statusChange",method:"statusChange",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return"input{outline:none}.dot-field__input--error{border:1px solid red}"}}class f{constructor(){this.disabled=!1,this.status=t()}reset(){this.value="",this.status=t(this.isValid()),this.emitStatusChange(),this.emitValueChange()}componentWillLoad(){this.emitStatusChange()}hostData(){return{class:s(this.status,this.isValid(),this.required)}}render(){return e(i,null,l({name:this.name,label:this.label,required:this.required}),e("input",{class:r(this.status.dotValid),disabled:this.disabled||null,id:o(this.name),onBlur:()=>this.blurHandler(),onInput:e=>this.setValue(e),placeholder:this.placeholder,required:this.required||null,type:"text",value:this.value}),u(this.hint),n(this.shouldShowErrorMessage(),this.getErrorMessage()))}isValid(){return!this.isValueRequired()&&this.isRegexValid()}isValueRequired(){return this.required&&!this.value}isRegexValid(){return!this.regexCheck||!this.value||new RegExp(this.regexCheck,"ig").test(this.value)}shouldShowErrorMessage(){return this.getErrorMessage()&&!this.status.dotPristine}getErrorMessage(){return this.isRegexValid()?this.isValid()?"":this.requiredMessage:this.validationMessage}blurHandler(){this.status.dotTouched||(this.status=h(this.status,{dotTouched:!0}),this.emitStatusChange())}setValue(e){this.value=e.target.value.toString(),this.status=h(this.status,{dotTouched:!0,dotPristine:!1,dotValid:this.isValid()}),this.emitValueChange(),this.emitStatusChange()}emitStatusChange(){this.statusChange.emit({name:this.name,status:this.status})}emitValueChange(){this.valueChange.emit({name:this.name,value:this.value})}static get is(){return"dot-textfield"}static get properties(){return{disabled:{type:Boolean,attr:"disabled"},el:{elementRef:!0},hint:{type:String,attr:"hint"},label:{type:String,attr:"label"},name:{type:String,attr:"name"},placeholder:{type:String,attr:"placeholder"},regexCheck:{type:String,attr:"regex-check"},required:{type:Boolean,attr:"required"},requiredMessage:{type:String,attr:"required-message"},reset:{method:!0},status:{state:!0},validationMessage:{type:String,attr:"validation-message"},value:{type:String,attr:"value",mutable:!0}}}static get events(){return[{name:"valueChange",method:"valueChange",bubbles:!0,cancelable:!0,composed:!0},{name:"statusChange",method:"statusChange",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return"input{outline:none}"}}class M{constructor(){this.disabled=!1}reset(){this.el.querySelector("dot-input-calendar").reset()}emitValueChange(e){e.stopImmediatePropagation(),this.valueChange.emit(e.detail)}emitStatusChange(e){e.stopImmediatePropagation();const t=e.detail;this.classNames=s(t.status,t.status.dotValid,this.required),this.statusChange.emit(e.detail)}setErrorElement(e){e.stopImmediatePropagation(),this.errorMessageElement=n(e.detail.show,e.detail.message)}hostData(){return{class:this.classNames}}render(){return e(i,null,l({name:this.name,label:this.label,required:this.required}),e("dot-input-calendar",{disabled:this.disabled,type:"time",label:this.label,name:this.name,hint:this.hint,value:this.value,required:this.required,"required-message":this.requiredMessage,"validation-message":this.validationMessage,min:this.min,max:this.max,step:this.step}),u(this.hint),this.errorMessageElement)}static get is(){return"dot-time"}static get properties(){return{classNames:{state:!0},disabled:{type:Boolean,attr:"disabled"},el:{elementRef:!0},errorMessageElement:{state:!0},hint:{type:String,attr:"hint"},label:{type:String,attr:"label"},max:{type:String,attr:"max"},min:{type:String,attr:"min"},name:{type:String,attr:"name"},required:{type:Boolean,attr:"required"},requiredMessage:{type:String,attr:"required-message"},reset:{method:!0},step:{type:String,attr:"step"},validationMessage:{type:String,attr:"validation-message"},value:{type:String,attr:"value",mutable:!0}}}static get events(){return[{name:"valueChange",method:"valueChange",bubbles:!0,cancelable:!0,composed:!0},{name:"statusChange",method:"statusChange",bubbles:!0,cancelable:!0,composed:!0}]}static get listeners(){return[{name:"_valueChange",method:"emitValueChange"},{name:"_statusChange",method:"emitStatusChange"},{name:"_errorMessage",method:"setErrorElement"}]}static get style(){return""}}export{m as DotCheckbox,g as DotDate,S as DotForm,y as DotMultiSelect,V as DotRadio,C as DotSelect,q as DotTextarea,f as DotTextfield,M as DotTime};