dotcmsFields.loadBundle("aqymctoc",["exports","./chunk-ce967dd2.js","./chunk-eb273c2f.js"],function(t,e,o){var a=window.dotcmsFields.h,n=function(){function t(){this.resetLabel="Reset",this.submitLabel="Submit",this.layout=[],this.status=e.getOriginalStatus(),this.fieldsStatus={},this.value={}}return t.prototype.onValueChange=function(t){var e=t.detail,a=e.value,n=o.fieldParamsConversionToBE[t.target.tagName];this.value[e.name]=n?n(a):a},t.prototype.onStatusChange=function(t){var o=t.detail;this.fieldsStatus[o.name]=o.status,this.status=e.updateStatus(this.status,{dotTouched:this.getTouched(),dotPristine:this.getStatusValueByName("dotPristine"),dotValid:this.getStatusValueByName("dotValid")})},t.prototype.layoutWatch=function(){this.value=this.getUpdateValue()},t.prototype.fieldsToShowWatch=function(){this.value=this.getUpdateValue()},t.prototype.hostData=function(){return{class:e.getClassNames(this.status,this.status.dotValid)}},t.prototype.componentWillLoad=function(){this.value=this.getUpdateValue()},t.prototype.render=function(){var t=this;return a("form",{onSubmit:this.handleSubmit.bind(this)},this.layout.map(function(e){return a("dot-form-row",{row:e,"fields-to-show":t.fieldsToShow})}),a("div",{class:"dot-form__buttons"},a("button",{type:"reset",onClick:function(){return t.resetForm()}},this.resetLabel),a("button",{type:"submit",disabled:!this.status.dotValid},this.submitLabel)))},t.prototype.getStatusValueByName=function(t){return Object.values(this.fieldsStatus).map(function(e){return e[t]}).every(function(t){return!0===t})},t.prototype.getTouched=function(){return Object.values(this.fieldsStatus).map(function(t){return t.dotTouched}).includes(!0)},t.prototype.handleSubmit=function(t){t.preventDefault(),this.onSubmit.emit(Object.assign({},this.value))},t.prototype.resetForm=function(){Array.from(this.el.querySelectorAll("form dot-form-column > *")).forEach(function(t){try{t.reset()}catch(e){console.warn(""+t.tagName,e)}})},t.prototype.getUpdateValue=function(){return o.getFieldsFromLayout(this.layout).reduce(function(t,e){var o;return Object.assign({},t,((o={})[e.variable]=e.defaultValue,o))},{})},Object.defineProperty(t,"is",{get:function(){return"dot-form"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{el:{elementRef:!0},fieldsToShow:{type:String,attr:"fields-to-show",watchCallbacks:["fieldsToShowWatch"]},layout:{type:"Any",attr:"layout",reflectToAttr:!0,mutable:!0,watchCallbacks:["layoutWatch"]},resetLabel:{type:String,attr:"reset-label",reflectToAttr:!0},status:{state:!0},submitLabel:{type:String,attr:"submit-label",reflectToAttr:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"events",{get:function(){return[{name:"onSubmit",method:"onSubmit",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"listeners",{get:function(){return[{name:"valueChange",method:"onValueChange"},{name:"statusChange",method:"onStatusChange"}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return"dot-form{display:block}dot-form>form dot-form-column>*{display:block;margin:1rem 0}dot-form>form dot-form-column>:first-child{margin-top:0}dot-form>form dot-form-column>:last-child{margin-bottom:0}dot-form>form .dot-form__buttons{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:end;justify-content:flex-end}dot-form>form .dot-form__buttons button:last-child{margin-left:1rem}"},enumerable:!0,configurable:!0}),t}();t.DotForm=n,Object.defineProperty(t,"__esModule",{value:!0})});