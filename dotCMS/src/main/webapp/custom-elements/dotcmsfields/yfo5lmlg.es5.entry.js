dotcmsFields.loadBundle("yfo5lmlg",["exports","./chunk-da13425c.js"],function(e,t){var i=window.dotcmsFields.h,a=function(){function e(){this.saveBtnLabel="Add",this.disabled=!1,this.values=[],this.fieldInput={key:"",value:""}}return e.prototype.reset=function(){this.fieldInput={key:"",value:""},this.values=[],this.status=t.getOriginalStatus(this.isValid()),this.emitStatusChange(),this.emitValueChange()},e.prototype.deleteItemHandler=function(e){e.stopImmediatePropagation(),this.values=this.values.filter(function(t,i){return i!==e.detail}),this.refreshStatus(),this.emitStatusChange(),this.emitValueChange()},e.prototype.componentWillLoad=function(){this.setInitialValue(),this.emitStatusChange()},e.prototype.hostData=function(){return{class:t.getClassNames(this.status,this.isValid(),this.required)}},e.prototype.render=function(){var e=this;return i(t.Fragment,null,t.getTagLabel({name:this.name,label:this.label,required:this.required}),i("input",{class:t.getErrorClass(this.status.dotValid),disabled:this.isDisabled(),id:t.getId(this.name),name:"key",onInput:function(t){return e.setValue(t)},placeholder:this.keyPlaceholder,type:"text",value:this.fieldInput.key}),i("input",{class:t.getErrorClass(this.status.dotValid),disabled:this.isDisabled(),name:"value",onInput:function(t){return e.setValue(t)},placeholder:this.valuePlaceholder,type:"text",value:this.fieldInput.value}),i("button",{class:"dot-key-value__save__button",type:"button",disabled:this.disabled||null,onClick:function(){return e.addKey()}},this.saveBtnLabel),this.getKeyValueList(),t.getTagHint(this.hint),t.getTagError(this.showErrorMessage(),this.getErrorMessage()))},e.prototype.isDisabled=function(){return this.disabled||null},e.prototype.getKeyValueList=function(){return this.values.length?i("key-value-table",{items:this.values,disabled:this.disabled}):""},e.prototype.setInitialValue=function(){this.values=this.value?this.value.split(",").filter(function(e){return e.length>0}).map(function(e){var t=e.split("|");return{key:t[0],value:t[1]}}):[],this.status=t.getOriginalStatus(this.isValid())},e.prototype.isValid=function(){return!(this.required&&!this.values.length)},e.prototype.showErrorMessage=function(){return this.getErrorMessage()&&!this.status.dotPristine},e.prototype.getErrorMessage=function(){return this.isValid()?"":this.requiredMessage},e.prototype.setValue=function(e){this.fieldInput[e.target.name]=e.target.value.toString()},e.prototype.refreshStatus=function(){this.status=t.updateStatus(this.status,{dotTouched:!0,dotPristine:!1,dotValid:this.isValid()})},e.prototype.emitStatusChange=function(){this.statusChange.emit({name:this.name,status:this.status})},e.prototype.emitValueChange=function(){var e=t.getStringFromDotKeyArray(this.values);this.valueChange.emit({name:this.name,value:e,fieldType:this.fieldType})},e.prototype.addKey=function(){this.fieldInput.key&&this.fieldInput.value&&(this.values=this.values.concat([{key:this.fieldInput.key,value:this.fieldInput.value}]),this.refreshStatus(),this.emitStatusChange(),this.emitValueChange())},Object.defineProperty(e,"is",{get:function(){return"dot-key-value"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{disabled:{type:Boolean,attr:"disabled"},el:{elementRef:!0},fieldType:{type:String,attr:"field-type"},hint:{type:String,attr:"hint"},keyPlaceholder:{type:String,attr:"key-placeholder"},label:{type:String,attr:"label"},name:{type:String,attr:"name"},required:{type:Boolean,attr:"required"},requiredMessage:{type:String,attr:"required-message"},reset:{method:!0},saveBtnLabel:{type:String,attr:"save-btn-label"},status:{state:!0},value:{type:String,attr:"value",mutable:!0},valuePlaceholder:{type:String,attr:"value-placeholder"},values:{state:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"valueChange",method:"valueChange",bubbles:!0,cancelable:!0,composed:!0},{name:"statusChange",method:"statusChange",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"listeners",{get:function(){return[{name:"deleteItemEvt",method:"deleteItemHandler"}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return""},enumerable:!0,configurable:!0}),e}(),n=function(){function e(){this.items=[],this.disabled=!1}return e.prototype.render=function(){var e=this;return i("table",null,i("tbody",null,this.items.map(function(a,n){return i("tr",null,i("td",null,i("button",{type:"button",id:a.key+"_"+a.value+"_"+n,disabled:e.disabled||null,onClick:function(){return e.deleteItem(n)},class:"dot-key-value__delete__button"},t.getTagLabel({name:a.key+"_"+a.value+"_"+n,label:"Delete",required:!1}))),i("td",null,a.key),i("td",null,a.value))})))},e.prototype.deleteItem=function(e){this.deleteItemEvt.emit(e)},Object.defineProperty(e,"is",{get:function(){return"key-value-table"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{disabled:{type:Boolean,attr:"disabled"},items:{type:"Any",attr:"items"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"deleteItemEvt",method:"deleteItemEvt",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),e}();e.DotKeyValue=a,e.KeyValueTable=n,Object.defineProperty(e,"__esModule",{value:!0})});