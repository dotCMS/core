var runtime=function(s){"use strict";var v,C=Object.prototype,p=C.hasOwnProperty,G="function"==typeof Symbol?Symbol:{},w=G.iterator||"@@iterator",$=G.asyncIterator||"@@asyncIterator",_=G.toStringTag||"@@toStringTag";function h(r,t,e){return Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}),r[t]}try{h({},"")}catch(r){h=function(t,e,o){return t[e]=o}}function M(r,t,e,o){var i=Object.create((t&&t.prototype instanceof k?t:k).prototype),a=new I(o||[]);return i._invoke=function B(r,t,e){var o=R;return function(i,a){if(o===Y)throw new Error("Generator is already running");if(o===L){if("throw"===i)throw a;return W()}for(e.method=i,e.arg=a;;){var u=e.delegate;if(u){var c=D(u,e);if(c){if(c===l)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(o===R)throw o=L,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=Y;var f=O(r,t,e);if("normal"===f.type){if(o=e.done?L:z,f.arg===l)continue;return{value:f.arg,done:e.done}}"throw"===f.type&&(o=L,e.method="throw",e.arg=f.arg)}}}(r,e,a),i}function O(r,t,e){try{return{type:"normal",arg:r.call(t,e)}}catch(o){return{type:"throw",arg:o}}}s.wrap=M;var R="suspendedStart",z="suspendedYield",Y="executing",L="completed",l={};function k(){}function b(){}function d(){}var T={};h(T,w,function(){return this});var N=Object.getPrototypeOf,S=N&&N(N(P([])));S&&S!==C&&p.call(S,w)&&(T=S);var g=d.prototype=k.prototype=Object.create(T);function q(r){["next","throw","return"].forEach(function(t){h(r,t,function(e){return this._invoke(t,e)})})}function E(r,t){function e(i,a,u,c){var f=O(r[i],r,a);if("throw"!==f.type){var A=f.arg,m=A.value;return m&&"object"==typeof m&&p.call(m,"__await")?t.resolve(m.__await).then(function(y){e("next",y,u,c)},function(y){e("throw",y,u,c)}):t.resolve(m).then(function(y){A.value=y,u(A)},function(y){return e("throw",y,u,c)})}c(f.arg)}var o;this._invoke=function n(i,a){function u(){return new t(function(c,f){e(i,a,c,f)})}return o=o?o.then(u,u):u()}}function D(r,t){var e=r.iterator[t.method];if(e===v){if(t.delegate=null,"throw"===t.method){if(r.iterator.return&&(t.method="return",t.arg=v,D(r,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var o=O(e,r.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,l;var n=o.arg;return n?n.done?(t[r.resultName]=n.value,t.next=r.nextLoc,"return"!==t.method&&(t.method="next",t.arg=v),t.delegate=null,l):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function H(r){var t={tryLoc:r[0]};1 in r&&(t.catchLoc=r[1]),2 in r&&(t.finallyLoc=r[2],t.afterLoc=r[3]),this.tryEntries.push(t)}function j(r){var t=r.completion||{};t.type="normal",delete t.arg,r.completion=t}function I(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(H,this),this.reset(!0)}function P(r){if(r){var t=r[w];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var e=-1,o=function n(){for(;++e<r.length;)if(p.call(r,e))return n.value=r[e],n.done=!1,n;return n.value=v,n.done=!0,n};return o.next=o}}return{next:W}}function W(){return{value:v,done:!0}}return b.prototype=d,h(g,"constructor",d),h(d,"constructor",b),b.displayName=h(d,_,"GeneratorFunction"),s.isGeneratorFunction=function(r){var t="function"==typeof r&&r.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},s.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,d):(r.__proto__=d,h(r,_,"GeneratorFunction")),r.prototype=Object.create(g),r},s.awrap=function(r){return{__await:r}},q(E.prototype),h(E.prototype,$,function(){return this}),s.AsyncIterator=E,s.async=function(r,t,e,o,n){void 0===n&&(n=Promise);var i=new E(M(r,t,e,o),n);return s.isGeneratorFunction(t)?i:i.next().then(function(a){return a.done?a.value:i.next()})},q(g),h(g,_,"Generator"),h(g,w,function(){return this}),h(g,"toString",function(){return"[object Generator]"}),s.keys=function(r){var t=[];for(var e in r)t.push(e);return t.reverse(),function o(){for(;t.length;){var n=t.pop();if(n in r)return o.value=n,o.done=!1,o}return o.done=!0,o}},s.values=P,I.prototype={constructor:I,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(j),!r)for(var t in this)"t"===t.charAt(0)&&p.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=v)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var t=this;function e(c,f){return i.type="throw",i.arg=r,t.next=c,f&&(t.method="next",t.arg=v),!!f}for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o],i=n.completion;if("root"===n.tryLoc)return e("end");if(n.tryLoc<=this.prev){var a=p.call(n,"catchLoc"),u=p.call(n,"finallyLoc");if(a&&u){if(this.prev<n.catchLoc)return e(n.catchLoc,!0);if(this.prev<n.finallyLoc)return e(n.finallyLoc)}else if(a){if(this.prev<n.catchLoc)return e(n.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return e(n.finallyLoc)}}}},abrupt:function(r,t){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&p.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var n=o;break}}n&&("break"===r||"continue"===r)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var i=n?n.completion:{};return i.type=r,i.arg=t,n?(this.method="next",this.next=n.finallyLoc,l):this.complete(i)},complete:function(r,t){if("throw"===r.type)throw r.arg;return"break"===r.type||"continue"===r.type?this.next=r.arg:"return"===r.type?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):"normal"===r.type&&t&&(this.next=t),l},finish:function(r){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.finallyLoc===r)return this.complete(e.completion,e.afterLoc),j(e),l}},catch:function(r){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.tryLoc===r){var o=e.completion;if("throw"===o.type){var n=o.arg;j(e)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(r,t,e){return this.delegate={iterator:P(r),resultName:t,nextLoc:e},"next"===this.method&&(this.arg=v),l}},s}("object"==typeof module?module.exports:{});try{regeneratorRuntime=runtime}catch(s){"object"==typeof globalThis?globalThis.regeneratorRuntime=runtime:Function("r","regeneratorRuntime = r")(runtime)}(()=>{"use strict";var e,v={},d={};function n(e){var a=d[e];if(void 0!==a)return a.exports;var r=d[e]={exports:{}};return v[e](r,r.exports,n),r.exports}n.m=v,e=[],n.O=(a,r,l,o)=>{if(!r){var u=1/0;for(t=0;t<e.length;t++){for(var[r,l,o]=e[t],s=!0,f=0;f<r.length;f++)(!1&o||u>=o)&&Object.keys(n.O).every(h=>n.O[h](r[f]))?r.splice(f--,1):(s=!1,o<u&&(u=o));if(s){e.splice(t--,1);var c=l();void 0!==c&&(a=c)}}return a}o=o||0;for(var t=e.length;t>0&&e[t-1][2]>o;t--)e[t]=e[t-1];e[t]=[r,l,o]},n.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return n.d(a,{a}),a},n.d=(e,a)=>{for(var r in a)n.o(a,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})},n.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={666:0};n.O.j=l=>0===e[l];var a=(l,o)=>{var f,c,[t,u,s]=o,_=0;if(t.some(i=>0!==e[i])){for(f in u)n.o(u,f)&&(n.m[f]=u[f]);if(s)var b=s(n)}for(l&&l(o);_<t.length;_++)n.o(e,c=t[_])&&e[c]&&e[c][0](),e[c]=0;return n.O(b)},r=self.webpackChunkdotcms_block_editor=self.webpackChunkdotcms_block_editor||[];r.forEach(a.bind(null,0)),r.push=a.bind(null,r.push.bind(r))})()})();(self.webpackChunkdotcms_block_editor=self.webpackChunkdotcms_block_editor||[]).push([[429],{61:(X,oe,ge)=>{"use strict";ge(583),ge(757)},757:()=>{!function(X,oe){"use strict";function ge(){var e=Ue.splice(0,Ue.length);for(F=0;e.length;)e.shift().call(null,e.shift())}function ye(e,r){for(var i=0,h=e.length;i<h;i++)Ae(e[i],r)}function Ve(e){return function(r){L(r)&&(Ae(r,e),le.length&&ye(r.querySelectorAll(le),e))}}function Ie(e){var r=R.call(e,"is"),i=e.nodeName.toUpperCase(),h=Ee.call(He,r?st+r.toUpperCase():qe+i);return r&&-1<h&&!Je(i,r)?-1:h}function Je(e,r){return-1<le.indexOf(e+'[is="'+r+'"]')}function Qe(e){var r=e.currentTarget,i=e.attrChange,h=e.attrName,s=e.target,o=e[ot]||2,l=e[pt]||3;!n||s&&s!==r||!r[pe]||"style"===h||e.prevValue===e.newValue&&(""!==e.newValue||i!==o&&i!==l)||r[pe](h,i===o?null:e.prevValue,i===l?null:e.newValue)}function et(e){var r=Ve(e);return function(i){Ue.push(r,i.target),F&&clearTimeout(F),F=setTimeout(ge,1)}}function he(e){k&&(k=!1,e.currentTarget.removeEventListener(bt,he)),le.length&&ye((e.target||A).querySelectorAll(le),e.detail===me?me:Le),G&&function lt(){for(var e,r=0,i=T.length;r<i;r++)De.contains(e=T[r])||(i--,T.splice(r--,1),Ae(e,me))}()}function ve(e,r){var i=this;K.call(i,e,r),je.call(i,{target:i})}function Ze(e,r,i){var h=r.apply(e,i),s=Ie(h);return-1<s&&ae(h,We[s]),i.pop()&&le.length&&function _t(e){for(var r,i=0,h=e.length;i<h;i++)ae(r=e[i],We[Ie(r)])}(h.querySelectorAll(le)),h}function Fe(e,r){b(e,r),Ge?Ge.observe(e,re):(I&&(e.setAttribute=ve,e[de]=nt(e),e[be](Et,je)),e[be](Oe,Qe)),e[ze]&&n&&(e.created=!0,e[ze](),e.created=!1)}function U(e){throw new Error("A "+e+" type is already registered")}function Ae(e,r){var i,h,s=Ie(e);-1<s&&!B.call(e,"TEMPLATE")&&(we(e,We[s]),s=0,r!==Le||e[Le]?r!==me||e[me]||(e[Le]=!1,e[me]=!0,h="disconnected",s=1):(e[me]=!1,e[Le]=!0,h="connected",s=1,G&&Ee.call(T,e)<0&&T.push(e)),s&&(i=e[r+ce]||e[h+ce])&&i.call(e))}function ke(){}function J(e,r,i){var h=i&&i[te]||"",s=r.prototype,o=w(s),l=r.observedAttributes||Ne,d={prototype:o};x(o,ze,{value:function(){if(f)f=!1;else if(!this[$e]){this[$e]=!0,new r(this),s[ze]&&s[ze].call(this);var p=m[v.get(r)];(!t||p.create.length>1)&&tt(this)}}}),x(o,pe,{value:function(p){-1<Ee.call(l,p)&&s[pe]&&s[pe].apply(this,arguments)}}),s[rt]&&x(o,vt,{value:s[rt]}),s[mt]&&x(o,kt,{value:s[mt]}),h&&(d[te]=h),e=e.toUpperCase(),m[e]={constructor:r,create:h?[h,C(e)]:[e]},v.set(r,e),A[se](e.toLowerCase(),d),ut(e),E[e].r()}function gt(e){var r=m[e.toUpperCase()];return r&&r.constructor}function yt(e){return"string"==typeof e?e:e&&e.is||""}function tt(e){for(var r,i=e[pe],h=i?e.attributes:Ne,s=h.length;s--;)i.call(e,(r=h[s]).name||r.nodeName,null,r.value||r.nodeValue)}function ut(e){return(e=e.toUpperCase())in E||(E[e]={},E[e].p=new c(function(r){E[e].r=r})),E[e].p}function ft(){Me&&delete X.customElements,Re(X,"customElements",{configurable:!0,value:new ke}),Re(X,"CustomElementRegistry",{configurable:!0,value:ke});for(var e=ht.get(/^HTML[A-Z]*[a-z]/),r=e.length;r--;function(i){var h=X[i];if(h){X[i]=function(s){var o,l;return s||(s=this),s[$e]||(f=!0,o=m[v.get(s.constructor)],(s=(l=t&&1===o.create.length)?Reflect.construct(h,Ne,o.constructor):A.createElement.apply(A,o.create))[$e]=!0,f=!1,l||tt(s)),s},X[i].prototype=h.prototype;try{h.prototype.constructor=X[i]}catch(s){Re(h,$e,{value:X[i]})}}}(e[r]));A.createElement=function(i,h){var s=yt(h);return s?O.call(this,i,C(s)):O.call(this,i)},ue||(W=!0,A[se](""))}var A=X.document,ne=X.Object,ht=function(e){var r,i,h,s,o=/^[A-Z]+[a-z]/,d=function(_,g){(g=g.toLowerCase())in p||(p[_]=(p[_]||[]).concat(g),p[g]=p[g.toUpperCase()]=_)},p=(ne.create||ne)(null),y={};for(i in e)for(s in e[i])for(p[s]=h=e[i][s],r=0;r<h.length;r++)p[h[r].toLowerCase()]=p[h[r].toUpperCase()]=s;return y.get=function(_){return"string"==typeof _?p[_]||(o.test(_)?[]:""):function(_){var g,M=[];for(g in p)_.test(g)&&M.push(g);return M}(_)},y.set=function(_,g){return o.test(_)?d(_,g):d(g,_),y},y}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});"object"!=typeof oe&&(oe={type:oe||"auto"});var Ue,je,Be,nt,Ge,ie,we,ae,Ce,e,r,i,h,s,se="registerElement",dt=1e5*X.Math.random()>>0,de="__"+se+dt,be="addEventListener",Le="attached",ce="Callback",me="detached",te="extends",pe="attributeChanged"+ce,vt=Le+ce,rt="connected"+ce,mt="disconnected"+ce,ze="created"+ce,kt=me+ce,ot="ADDITION",pt="REMOVAL",Oe="DOMAttrModified",bt="DOMContentLoaded",Et="DOMSubtreeModified",qe="<",st="=",Mt=/^[A-Z][._A-Z0-9]*-[-._A-Z0-9]*$/,wt=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],He=[],We=[],le="",De=A.documentElement,Ee=He.indexOf||function(e){for(var r=this.length;r--&&this[r]!==e;);return r},it=ne.prototype,Pe=it.hasOwnProperty,at=it.isPrototypeOf,Re=ne.defineProperty,Ne=[],Xe=ne.getOwnPropertyDescriptor,Y=ne.getOwnPropertyNames,Ct=ne.getPrototypeOf,Ye=ne.setPrototypeOf,Se=!!ne.__proto__,$e="__dreCEv1",Me=X.customElements,t=!/^force/.test(oe.type)&&!!(Me&&Me.define&&Me.get&&Me.whenDefined),a=ne.create||ne,u=X.Map||function(){var e,r=[],i=[];return{get:function(h){return i[Ee.call(r,h)]},set:function(h,s){(e=Ee.call(r,h))<0?i[r.push(h)-1]=s:i[e]=s}}},c=X.Promise||function(e){function r(o){for(h=!0;i.length;)i.shift()(o)}var i=[],h=!1,s={catch:function(){return s},then:function(o){return i.push(o),h&&setTimeout(r,1),s}};return e(r),s},f=!1,m=a(null),E=a(null),v=new u,C=function(e){return e.toLowerCase()},w=ne.create||function e(r){return r?(e.prototype=r,new e):this},b=Ye||(Se?function(e,r){return e.__proto__=r,e}:Y&&Xe?function(){function e(r,i){for(var h,s=Y(i),o=0,l=s.length;o<l;o++)Pe.call(r,h=s[o])||Re(r,h,Xe(i,h))}return function(r,i){do{e(r,i)}while((i=Ct(i))&&!at.call(i,r));return r}}():function(e,r){for(var i in r)e[i]=r[i];return e}),H=X.MutationObserver||X.WebKitMutationObserver,S=X.HTMLAnchorElement,P=(X.HTMLElement||X.Element||X.Node).prototype,G=!at.call(P,De),x=G?function(e,r,i){return e[r]=i.value,e}:Re,L=G?function(e){return 1===e.nodeType}:function(e){return at.call(P,e)},T=G&&[],Z=P.attachShadow,z=P.cloneNode,B=P.closest||function(e){for(var r=this;r&&r.nodeName!==e;)r=r.parentNode;return r},$=P.dispatchEvent,R=P.getAttribute,Q=P.hasAttribute,V=P.removeAttribute,K=P.setAttribute,N=A.createElement,j=A.importNode,O=N,re=H&&{attributes:!0,characterData:!0,attributeOldValue:!0},Te=H||function(e){I=!1,De.removeEventListener(Oe,Te)},F=0,ue=se in A&&!/^force-all/.test(oe.type),fe=!0,W=!1,I=!0,k=!0,n=!0;if(H&&((Ce=A.createElement("div")).innerHTML="<div><div></div></div>",new H(function(e,r){if(e[0]&&"childList"==e[0].type&&!e[0].removedNodes[0].childNodes.length){var i=(Ce=Xe(P,"innerHTML"))&&Ce.set;i&&Re(P,"innerHTML",{set:function(h){for(;this.lastChild;)this.removeChild(this.lastChild);i.call(this,h)}})}r.disconnect(),Ce=null}).observe(Ce,{childList:!0,subtree:!0}),Ce.innerHTML=""),ue||(Ye||Se?(we=function(e,r){at.call(r,e)||Fe(e,r)},ae=Fe):(we=function(e,r){e[de]||(e[de]=ne(!0),Fe(e,r))},ae=we),G?(I=!1,e=Xe(P,be),r=e.value,i=function(o){var l=new CustomEvent(Oe,{bubbles:!0});l.attrName=o,l.prevValue=R.call(this,o),l.newValue=null,l[pt]=l.attrChange=2,V.call(this,o),$.call(this,l)},h=function(o,l){var d=Q.call(this,o),p=d&&R.call(this,o),y=new CustomEvent(Oe,{bubbles:!0});K.call(this,o,l),y.attrName=o,y.prevValue=d?p:null,y.newValue=l,d?y.MODIFICATION=y.attrChange=1:y[ot]=y.attrChange=0,$.call(this,y)},s=function(o){var l,d=o.currentTarget,p=d[de],y=o.propertyName;p.hasOwnProperty(y)&&(p=p[y],(l=new CustomEvent(Oe,{bubbles:!0})).attrName=p.name,l.prevValue=p.value||null,l.newValue=p.value=d[y]||null,null==l.prevValue?l[ot]=l.attrChange=0:l.MODIFICATION=l.attrChange=1,$.call(d,l))},e.value=function(o,l,d){o===Oe&&this[pe]&&this.setAttribute!==h&&(this[de]={className:{name:"class",value:this.className}},this.setAttribute=h,this.removeAttribute=i,r.call(this,"propertychange",s)),r.call(this,o,l,d)},Re(P,be,e)):H||(De[be](Oe,Te),De.setAttribute(de,1),De.removeAttribute(de),I&&(je=function(e){var r,i,h,s=this;if(s===e.target){for(h in r=s[de],s[de]=i=nt(s),i){if(!(h in r))return Be(0,s,h,r[h],i[h],ot);if(i[h]!==r[h])return Be(1,s,h,r[h],i[h],"MODIFICATION")}for(h in r)if(!(h in i))return Be(2,s,h,r[h],i[h],pt)}},Be=function(e,r,i,h,s,o){var l={attrChange:e,currentTarget:r,attrName:i,prevValue:h,newValue:s};l[o]=e,Qe(l)},nt=function(e){for(var r,i,h={},s=e.attributes,o=0,l=s.length;o<l;o++)"setAttribute"!==(i=(r=s[o]).name)&&(h[i]=r.value);return h})),A[se]=function(e,r){if(i=e.toUpperCase(),fe&&(fe=!1,H?(Ge=function(p,y){function _(g,M){for(var D=0,q=g.length;D<q;M(g[D++]));}return new H(function(g){for(var M,D,q,ee=0,_e=g.length;ee<_e;ee++)"childList"===(M=g[ee]).type?(_(M.addedNodes,p),_(M.removedNodes,y)):(D=M.target,n&&D[pe]&&"style"!==M.attributeName&&(q=R.call(D,M.attributeName))!==M.oldValue&&D[pe](M.attributeName,M.oldValue,q))})}(Ve(Le),Ve(me)),(ie=function(p){return Ge.observe(p,{childList:!0,subtree:!0}),p})(A),Z&&(P.attachShadow=function(){return ie(Z.apply(this,arguments))})):(Ue=[],A[be]("DOMNodeInserted",et(Le)),A[be]("DOMNodeRemoved",et(me))),A[be](bt,he),A[be]("readystatechange",he),A.importNode=function(p,y){switch(p.nodeType){case 1:return Ze(A,j,[p,!!y]);case 11:for(var _=A.createDocumentFragment(),g=p.childNodes,M=g.length,D=0;D<M;D++)_.appendChild(A.importNode(g[D],!!y));return _;default:return z.call(p,!!y)}},P.cloneNode=function(p){return Ze(this,z,[!!p])}),W)return W=!1;if(-2<Ee.call(He,st+i)+Ee.call(He,qe+i)&&U(e),!Mt.test(i)||-1<Ee.call(wt,i))throw new Error("The type "+e+" is invalid");var i,h,s=function(){return l?A.createElement(d,i):A.createElement(d)},o=r||it,l=Pe.call(o,te),d=l?r[te].toUpperCase():i;return l&&-1<Ee.call(He,qe+d)&&U(d),h=He.push((l?st:qe)+i)-1,le=le.concat(le.length?",":"",l?d+'[is="'+e.toLowerCase()+'"]':d),s.prototype=We[h]=Pe.call(o,"prototype")?o.prototype:w(P),le.length&&ye(A.querySelectorAll(le),Le),s},A.createElement=O=function(e,r){var i=yt(r),h=i?N.call(A,e,C(i)):N.call(A,e),s=""+e,o=Ee.call(He,(i?st:qe)+(i||s).toUpperCase()),l=-1<o;return i&&(h.setAttribute("is",i=i.toLowerCase()),l&&(l=Je(s.toUpperCase(),i))),n=!A.createElement.innerHTMLHelper,l&&ae(h,We[o]),h}),addEventListener("beforeunload",function(){delete A.createElement,delete A.importNode,delete A[se]},!1),ke.prototype={constructor:ke,define:t?function(e,r,i){if(i)J(e,r,i);else{var h=e.toUpperCase();m[h]={constructor:r,create:[h]},v.set(r,h),Me.define(e,r)}}:J,get:t?function(e){return Me.get(e)||gt(e)}:gt,whenDefined:t?function(e){return c.race([Me.whenDefined(e),ut(e)])}:ut},!Me||/^force/.test(oe.type))ft();else if(!oe.noBuiltIn)try{!function(e,r,i){var h=new RegExp("^<a\\s+is=('|\")"+i+"\\1></a>$");if(r[te]="a",(e.prototype=w(S.prototype)).constructor=e,X.customElements.define(i,e,r),!h.test(A.createElement("a",{is:i}).outerHTML)||!h.test((new e).outerHTML))throw r}(function e(){return Reflect.construct(S,[],e)},{},"document-register-element-a"+dt)}catch(e){ft()}if(!oe.noBuiltIn)try{if(N.call(A,"a","a").outerHTML.indexOf("is")<0)throw{}}catch(e){C=function(r){return{is:r.toLowerCase()}}}}(window)},583:()=>{"use strict";!function(t){const a=t.performance;function u(I){a&&a.mark&&a.mark(I)}function c(I,k){a&&a.measure&&a.measure(I,k)}u("Zone");const f=t.__Zone_symbol_prefix||"__zone_symbol__";function m(I){return f+I}const E=!0===t[m("forceDuplicateZoneCheck")];if(t.Zone){if(E||"function"!=typeof t.Zone.__symbol__)throw new Error("Zone already loaded.");return t.Zone}let v=(()=>{class I{constructor(n,e){this._parent=n,this._name=e?e.name||"unnamed":"<root>",this._properties=e&&e.properties||{},this._zoneDelegate=new w(this,this._parent&&this._parent._zoneDelegate,e)}static assertZonePatched(){if(t.Promise!==re.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let n=I.current;for(;n.parent;)n=n.parent;return n}static get current(){return F.zone}static get currentTask(){return ue}static __load_patch(n,e,r=!1){if(re.hasOwnProperty(n)){if(!r&&E)throw Error("Already loaded patch: "+n)}else if(!t["__Zone_disable_"+n]){const i="Zone:"+n;u(i),re[n]=e(t,I,Te),c(i,i)}}get parent(){return this._parent}get name(){return this._name}get(n){const e=this.getZoneWith(n);if(e)return e._properties[n]}getZoneWith(n){let e=this;for(;e;){if(e._properties.hasOwnProperty(n))return e;e=e._parent}return null}fork(n){if(!n)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,n)}wrap(n,e){if("function"!=typeof n)throw new Error("Expecting function got: "+n);const r=this._zoneDelegate.intercept(this,n,e),i=this;return function(){return i.runGuarded(r,this,arguments,e)}}run(n,e,r,i){F={parent:F,zone:this};try{return this._zoneDelegate.invoke(this,n,e,r,i)}finally{F=F.parent}}runGuarded(n,e=null,r,i){F={parent:F,zone:this};try{try{return this._zoneDelegate.invoke(this,n,e,r,i)}catch(h){if(this._zoneDelegate.handleError(this,h))throw h}}finally{F=F.parent}}runTask(n,e,r){if(n.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(n.zone||z).name+"; Execution: "+this.name+")");if(n.state===B&&(n.type===O||n.type===j))return;const i=n.state!=Q;i&&n._transitionTo(Q,R),n.runCount++;const h=ue;ue=n,F={parent:F,zone:this};try{n.type==j&&n.data&&!n.data.isPeriodic&&(n.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,n,e,r)}catch(s){if(this._zoneDelegate.handleError(this,s))throw s}}finally{n.state!==B&&n.state!==K&&(n.type==O||n.data&&n.data.isPeriodic?i&&n._transitionTo(R,Q):(n.runCount=0,this._updateTaskCount(n,-1),i&&n._transitionTo(B,Q,B))),F=F.parent,ue=h}}scheduleTask(n){if(n.zone&&n.zone!==this){let r=this;for(;r;){if(r===n.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${n.zone.name}`);r=r.parent}}n._transitionTo($,B);const e=[];n._zoneDelegates=e,n._zone=this;try{n=this._zoneDelegate.scheduleTask(this,n)}catch(r){throw n._transitionTo(K,$,B),this._zoneDelegate.handleError(this,r),r}return n._zoneDelegates===e&&this._updateTaskCount(n,1),n.state==$&&n._transitionTo(R,$),n}scheduleMicroTask(n,e,r,i){return this.scheduleTask(new b(N,n,e,r,i,void 0))}scheduleMacroTask(n,e,r,i,h){return this.scheduleTask(new b(j,n,e,r,i,h))}scheduleEventTask(n,e,r,i,h){return this.scheduleTask(new b(O,n,e,r,i,h))}cancelTask(n){if(n.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(n.zone||z).name+"; Execution: "+this.name+")");n._transitionTo(V,R,Q);try{this._zoneDelegate.cancelTask(this,n)}catch(e){throw n._transitionTo(K,V),this._zoneDelegate.handleError(this,e),e}return this._updateTaskCount(n,-1),n._transitionTo(B,V),n.runCount=0,n}_updateTaskCount(n,e){const r=n._zoneDelegates;-1==e&&(n._zoneDelegates=null);for(let i=0;i<r.length;i++)r[i]._updateTaskCount(n.type,e)}}return I.__symbol__=m,I})();const C={name:"",onHasTask:(I,k,n,e)=>I.hasTask(n,e),onScheduleTask:(I,k,n,e)=>I.scheduleTask(n,e),onInvokeTask:(I,k,n,e,r,i)=>I.invokeTask(n,e,r,i),onCancelTask:(I,k,n,e)=>I.cancelTask(n,e)};class w{constructor(k,n,e){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=k,this._parentDelegate=n,this._forkZS=e&&(e&&e.onFork?e:n._forkZS),this._forkDlgt=e&&(e.onFork?n:n._forkDlgt),this._forkCurrZone=e&&(e.onFork?this.zone:n._forkCurrZone),this._interceptZS=e&&(e.onIntercept?e:n._interceptZS),this._interceptDlgt=e&&(e.onIntercept?n:n._interceptDlgt),this._interceptCurrZone=e&&(e.onIntercept?this.zone:n._interceptCurrZone),this._invokeZS=e&&(e.onInvoke?e:n._invokeZS),this._invokeDlgt=e&&(e.onInvoke?n:n._invokeDlgt),this._invokeCurrZone=e&&(e.onInvoke?this.zone:n._invokeCurrZone),this._handleErrorZS=e&&(e.onHandleError?e:n._handleErrorZS),this._handleErrorDlgt=e&&(e.onHandleError?n:n._handleErrorDlgt),this._handleErrorCurrZone=e&&(e.onHandleError?this.zone:n._handleErrorCurrZone),this._scheduleTaskZS=e&&(e.onScheduleTask?e:n._scheduleTaskZS),this._scheduleTaskDlgt=e&&(e.onScheduleTask?n:n._scheduleTaskDlgt),this._scheduleTaskCurrZone=e&&(e.onScheduleTask?this.zone:n._scheduleTaskCurrZone),this._invokeTaskZS=e&&(e.onInvokeTask?e:n._invokeTaskZS),this._invokeTaskDlgt=e&&(e.onInvokeTask?n:n._invokeTaskDlgt),this._invokeTaskCurrZone=e&&(e.onInvokeTask?this.zone:n._invokeTaskCurrZone),this._cancelTaskZS=e&&(e.onCancelTask?e:n._cancelTaskZS),this._cancelTaskDlgt=e&&(e.onCancelTask?n:n._cancelTaskDlgt),this._cancelTaskCurrZone=e&&(e.onCancelTask?this.zone:n._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const r=e&&e.onHasTask;(r||n&&n._hasTaskZS)&&(this._hasTaskZS=r?e:C,this._hasTaskDlgt=n,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=k,e.onScheduleTask||(this._scheduleTaskZS=C,this._scheduleTaskDlgt=n,this._scheduleTaskCurrZone=this.zone),e.onInvokeTask||(this._invokeTaskZS=C,this._invokeTaskDlgt=n,this._invokeTaskCurrZone=this.zone),e.onCancelTask||(this._cancelTaskZS=C,this._cancelTaskDlgt=n,this._cancelTaskCurrZone=this.zone))}fork(k,n){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,k,n):new v(k,n)}intercept(k,n,e){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,k,n,e):n}invoke(k,n,e,r,i){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,k,n,e,r,i):n.apply(e,r)}handleError(k,n){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,k,n)}scheduleTask(k,n){let e=n;if(this._scheduleTaskZS)this._hasTaskZS&&e._zoneDelegates.push(this._hasTaskDlgtOwner),e=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,k,n),e||(e=n);else if(n.scheduleFn)n.scheduleFn(n);else{if(n.type!=N)throw new Error("Task is missing scheduleFn.");T(n)}return e}invokeTask(k,n,e,r){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,k,n,e,r):n.callback.apply(e,r)}cancelTask(k,n){let e;if(this._cancelTaskZS)e=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,k,n);else{if(!n.cancelFn)throw Error("Task is not cancelable");e=n.cancelFn(n)}return e}hasTask(k,n){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,k,n)}catch(e){this.handleError(k,e)}}_updateTaskCount(k,n){const e=this._taskCounts,r=e[k],i=e[k]=r+n;if(i<0)throw new Error("More tasks executed then were scheduled.");0!=r&&0!=i||this.hasTask(this.zone,{microTask:e.microTask>0,macroTask:e.macroTask>0,eventTask:e.eventTask>0,change:k})}}class b{constructor(k,n,e,r,i,h){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=k,this.source=n,this.data=r,this.scheduleFn=i,this.cancelFn=h,!e)throw new Error("callback is not defined");this.callback=e;const s=this;this.invoke=k===O&&r&&r.useG?b.invokeTask:function(){return b.invokeTask.call(t,s,this,arguments)}}static invokeTask(k,n,e){k||(k=this),fe++;try{return k.runCount++,k.zone.runTask(k,n,e)}finally{1==fe&&Z(),fe--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(B,$)}_transitionTo(k,n,e){if(this._state!==n&&this._state!==e)throw new Error(`${this.type} '${this.source}': can not transition to '${k}', expecting state '${n}'${e?" or '"+e+"'":""}, was '${this._state}'.`);this._state=k,k==B&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const H=m("setTimeout"),S=m("Promise"),P=m("then");let L,G=[],x=!1;function T(I){if(0===fe&&0===G.length)if(L||t[S]&&(L=t[S].resolve(0)),L){let k=L[P];k||(k=L.then),k.call(L,Z)}else t[H](Z,0);I&&G.push(I)}function Z(){if(!x){for(x=!0;G.length;){const I=G;G=[];for(let k=0;k<I.length;k++){const n=I[k];try{n.zone.runTask(n,null,null)}catch(e){Te.onUnhandledError(e)}}}Te.microtaskDrainDone(),x=!1}}const z={name:"NO ZONE"},B="notScheduled",$="scheduling",R="scheduled",Q="running",V="canceling",K="unknown",N="microTask",j="macroTask",O="eventTask",re={},Te={symbol:m,currentZoneFrame:()=>F,onUnhandledError:W,microtaskDrainDone:W,scheduleMicroTask:T,showUncaughtError:()=>!v[m("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:W,patchMethod:()=>W,bindArguments:()=>[],patchThen:()=>W,patchMacroTask:()=>W,patchEventPrototype:()=>W,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>W,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>W,wrapWithCurrentZone:()=>W,filterProperties:()=>[],attachOriginToPatched:()=>W,_redefineProperty:()=>W,patchCallbacks:()=>W};let F={parent:null,zone:new v(null,null)},ue=null,fe=0;function W(){}c("Zone","Zone"),t.Zone=v}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const oe=Object.getOwnPropertyDescriptor,ge=Object.defineProperty,ye=Object.getPrototypeOf,_t=Object.create,Ve=Array.prototype.slice,Ie="addEventListener",Je="removeEventListener",Qe=Zone.__symbol__(Ie),et=Zone.__symbol__(Je),he="true",ve="false",Ze=Zone.__symbol__("");function Fe(t,a){return Zone.current.wrap(t,a)}function lt(t,a,u,c,f){return Zone.current.scheduleMacroTask(t,a,u,c,f)}const U=Zone.__symbol__,Ae="undefined"!=typeof window,ke=Ae?window:void 0,J=Ae&&ke||"object"==typeof self&&self||global,yt=[null];function tt(t,a){for(let u=t.length-1;u>=0;u--)"function"==typeof t[u]&&(t[u]=Fe(t[u],a+"_"+u));return t}function ft(t){return!t||!1!==t.writable&&!("function"==typeof t.get&&void 0===t.set)}const A="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,ne=!("nw"in J)&&void 0!==J.process&&"[object process]"==={}.toString.call(J.process),ht=!ne&&!A&&!(!Ae||!ke.HTMLElement),Ue=void 0!==J.process&&"[object process]"==={}.toString.call(J.process)&&!A&&!(!Ae||!ke.HTMLElement),je={},Be=function(t){if(!(t=t||J.event))return;let a=je[t.type];a||(a=je[t.type]=U("ON_PROPERTY"+t.type));const u=this||t.target||J,c=u[a];let f;if(ht&&u===ke&&"error"===t.type){const m=t;f=c&&c.call(this,m.message,m.filename,m.lineno,m.colno,m.error),!0===f&&t.preventDefault()}else f=c&&c.apply(this,arguments),null!=f&&!f&&t.preventDefault();return f};function nt(t,a,u){let c=oe(t,a);if(!c&&u&&oe(u,a)&&(c={enumerable:!0,configurable:!0}),!c||!c.configurable)return;const f=U("on"+a+"patched");if(t.hasOwnProperty(f)&&t[f])return;delete c.writable,delete c.value;const m=c.get,E=c.set,v=a.substr(2);let C=je[v];C||(C=je[v]=U("ON_PROPERTY"+v)),c.set=function(w){let b=this;!b&&t===J&&(b=J),b&&(b[C]&&b.removeEventListener(v,Be),E&&E.apply(b,yt),"function"==typeof w?(b[C]=w,b.addEventListener(v,Be,!1)):b[C]=null)},c.get=function(){let w=this;if(!w&&t===J&&(w=J),!w)return null;const b=w[C];if(b)return b;if(m){let H=m&&m.call(this);if(H)return c.set.call(this,H),"function"==typeof w.removeAttribute&&w.removeAttribute(a),H}return null},ge(t,a,c),t[f]=!0}function Ge(t,a,u){if(a)for(let c=0;c<a.length;c++)nt(t,"on"+a[c],u);else{const c=[];for(const f in t)"on"==f.substr(0,2)&&c.push(f);for(let f=0;f<c.length;f++)nt(t,c[f],u)}}const ie=U("originalInstance");function we(t){const a=J[t];if(!a)return;J[U(t)]=a,J[t]=function(){const f=tt(arguments,t);switch(f.length){case 0:this[ie]=new a;break;case 1:this[ie]=new a(f[0]);break;case 2:this[ie]=new a(f[0],f[1]);break;case 3:this[ie]=new a(f[0],f[1],f[2]);break;case 4:this[ie]=new a(f[0],f[1],f[2],f[3]);break;default:throw new Error("Arg list too long.")}},se(J[t],a);const u=new a(function(){});let c;for(c in u)"XMLHttpRequest"===t&&"responseBlob"===c||function(f){"function"==typeof u[f]?J[t].prototype[f]=function(){return this[ie][f].apply(this[ie],arguments)}:ge(J[t].prototype,f,{set:function(m){"function"==typeof m?(this[ie][f]=Fe(m,t+"."+f),se(this[ie][f],m)):this[ie][f]=m},get:function(){return this[ie][f]}})}(c);for(c in a)"prototype"!==c&&a.hasOwnProperty(c)&&(J[t][c]=a[c])}function ae(t,a,u){let c=t;for(;c&&!c.hasOwnProperty(a);)c=ye(c);!c&&t[a]&&(c=t);const f=U(a);let m=null;if(c&&(!(m=c[f])||!c.hasOwnProperty(f))&&(m=c[f]=c[a],ft(c&&oe(c,a)))){const v=u(m,f,a);c[a]=function(){return v(this,arguments)},se(c[a],m)}return m}function Ce(t,a,u){let c=null;function f(m){const E=m.data;return E.args[E.cbIdx]=function(){m.invoke.apply(this,arguments)},c.apply(E.target,E.args),m}c=ae(t,a,m=>function(E,v){const C=u(E,v);return C.cbIdx>=0&&"function"==typeof v[C.cbIdx]?lt(C.name,v[C.cbIdx],C,f):m.apply(E,v)})}function se(t,a){t[U("OriginalDelegate")]=a}let dt=!1,de=!1;function Le(){if(dt)return de;dt=!0;try{const t=ke.navigator.userAgent;(-1!==t.indexOf("MSIE ")||-1!==t.indexOf("Trident/")||-1!==t.indexOf("Edge/"))&&(de=!0)}catch(t){}return de}Zone.__load_patch("ZoneAwarePromise",(t,a,u)=>{const c=Object.getOwnPropertyDescriptor,f=Object.defineProperty,E=u.symbol,v=[],C=!0===t[E("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],w=E("Promise"),b=E("then");u.onUnhandledError=s=>{if(u.showUncaughtError()){const o=s&&s.rejection;o?console.error("Unhandled Promise rejection:",o instanceof Error?o.message:o,"; Zone:",s.zone.name,"; Task:",s.task&&s.task.source,"; Value:",o,o instanceof Error?o.stack:void 0):console.error(s)}},u.microtaskDrainDone=()=>{for(;v.length;){const s=v.shift();try{s.zone.runGuarded(()=>{throw s.throwOriginal?s.rejection:s})}catch(o){P(o)}}};const S=E("unhandledPromiseRejectionHandler");function P(s){u.onUnhandledError(s);try{const o=a[S];"function"==typeof o&&o.call(this,s)}catch(o){}}function G(s){return s&&s.then}function x(s){return s}function L(s){return n.reject(s)}const T=E("state"),Z=E("value"),z=E("finally"),B=E("parentPromiseValue"),$=E("parentPromiseState"),Q=null,V=!0,K=!1;function j(s,o){return l=>{try{F(s,o,l)}catch(d){F(s,!1,d)}}}const Te=E("currentTaskTrace");function F(s,o,l){const d=function(){let s=!1;return function(l){return function(){s||(s=!0,l.apply(null,arguments))}}}();if(s===l)throw new TypeError("Promise resolved with itself");if(s[T]===Q){let p=null;try{("object"==typeof l||"function"==typeof l)&&(p=l&&l.then)}catch(y){return d(()=>{F(s,!1,y)})(),s}if(o!==K&&l instanceof n&&l.hasOwnProperty(T)&&l.hasOwnProperty(Z)&&l[T]!==Q)fe(l),F(s,l[T],l[Z]);else if(o!==K&&"function"==typeof p)try{p.call(l,d(j(s,o)),d(j(s,!1)))}catch(y){d(()=>{F(s,!1,y)})()}else{s[T]=o;const y=s[Z];if(s[Z]=l,s[z]===z&&o===V&&(s[T]=s[$],s[Z]=s[B]),o===K&&l instanceof Error){const _=a.currentTask&&a.currentTask.data&&a.currentTask.data.__creationTrace__;_&&f(l,Te,{configurable:!0,enumerable:!1,writable:!0,value:_})}for(let _=0;_<y.length;)W(s,y[_++],y[_++],y[_++],y[_++]);if(0==y.length&&o==K){s[T]=0;let _=l;try{throw new Error("Uncaught (in promise): "+function m(s){return s&&s.toString===Object.prototype.toString?(s.constructor&&s.constructor.name||"")+": "+JSON.stringify(s):s?s.toString():Object.prototype.toString.call(s)}(l)+(l&&l.stack?"\n"+l.stack:""))}catch(g){_=g}C&&(_.throwOriginal=!0),_.rejection=l,_.promise=s,_.zone=a.current,_.task=a.currentTask,v.push(_),u.scheduleMicroTask()}}}return s}const ue=E("rejectionHandledHandler");function fe(s){if(0===s[T]){try{const o=a[ue];o&&"function"==typeof o&&o.call(this,{rejection:s[Z],promise:s})}catch(o){}s[T]=K;for(let o=0;o<v.length;o++)s===v[o].promise&&v.splice(o,1)}}function W(s,o,l,d,p){fe(s);const y=s[T],_=y?"function"==typeof d?d:x:"function"==typeof p?p:L;o.scheduleMicroTask("Promise.then",()=>{try{const g=s[Z],M=!!l&&z===l[z];M&&(l[B]=g,l[$]=y);const D=o.run(_,void 0,M&&_!==L&&_!==x?[]:[g]);F(l,!0,D)}catch(g){F(l,!1,g)}},l)}const k=function(){};class n{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(o){return F(new this(null),V,o)}static reject(o){return F(new this(null),K,o)}static race(o){let l,d,p=new this((g,M)=>{l=g,d=M});function y(g){l(g)}function _(g){d(g)}for(let g of o)G(g)||(g=this.resolve(g)),g.then(y,_);return p}static all(o){return n.allWithCallback(o)}static allSettled(o){return(this&&this.prototype instanceof n?this:n).allWithCallback(o,{thenCallback:d=>({status:"fulfilled",value:d}),errorCallback:d=>({status:"rejected",reason:d})})}static allWithCallback(o,l){let d,p,y=new this((D,q)=>{d=D,p=q}),_=2,g=0;const M=[];for(let D of o){G(D)||(D=this.resolve(D));const q=g;try{D.then(ee=>{M[q]=l?l.thenCallback(ee):ee,_--,0===_&&d(M)},ee=>{l?(M[q]=l.errorCallback(ee),_--,0===_&&d(M)):p(ee)})}catch(ee){p(ee)}_++,g++}return _-=2,0===_&&d(M),y}constructor(o){const l=this;if(!(l instanceof n))throw new Error("Must be an instanceof Promise.");l[T]=Q,l[Z]=[];try{o&&o(j(l,V),j(l,K))}catch(d){F(l,!1,d)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return n}then(o,l){let d=this.constructor[Symbol.species];(!d||"function"!=typeof d)&&(d=this.constructor||n);const p=new d(k),y=a.current;return this[T]==Q?this[Z].push(y,p,o,l):W(this,y,p,o,l),p}catch(o){return this.then(null,o)}finally(o){let l=this.constructor[Symbol.species];(!l||"function"!=typeof l)&&(l=n);const d=new l(k);d[z]=z;const p=a.current;return this[T]==Q?this[Z].push(p,d,o,o):W(this,p,d,o,o),d}}n.resolve=n.resolve,n.reject=n.reject,n.race=n.race,n.all=n.all;const e=t[w]=t.Promise;t.Promise=n;const r=E("thenPatched");function i(s){const o=s.prototype,l=c(o,"then");if(l&&(!1===l.writable||!l.configurable))return;const d=o.then;o[b]=d,s.prototype.then=function(p,y){return new n((g,M)=>{d.call(this,g,M)}).then(p,y)},s[r]=!0}return u.patchThen=i,e&&(i(e),ae(t,"fetch",s=>function h(s){return function(o,l){let d=s.apply(o,l);if(d instanceof n)return d;let p=d.constructor;return p[r]||i(p),d}}(s))),Promise[a.__symbol__("uncaughtPromiseErrors")]=v,n}),Zone.__load_patch("toString",t=>{const a=Function.prototype.toString,u=U("OriginalDelegate"),c=U("Promise"),f=U("Error"),m=function(){if("function"==typeof this){const w=this[u];if(w)return"function"==typeof w?a.call(w):Object.prototype.toString.call(w);if(this===Promise){const b=t[c];if(b)return a.call(b)}if(this===Error){const b=t[f];if(b)return a.call(b)}}return a.call(this)};m[u]=a,Function.prototype.toString=m;const E=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":E.call(this)}});let ce=!1;if("undefined"!=typeof window)try{const t=Object.defineProperty({},"passive",{get:function(){ce=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){ce=!1}const me={useG:!0},te={},pe={},vt=new RegExp("^"+Ze+"(\\w+)(true|false)$"),rt=U("propagationStopped");function mt(t,a){const u=(a?a(t):t)+ve,c=(a?a(t):t)+he,f=Ze+u,m=Ze+c;te[t]={},te[t][ve]=f,te[t][he]=m}function ze(t,a,u){const c=u&&u.add||Ie,f=u&&u.rm||Je,m=u&&u.listeners||"eventListeners",E=u&&u.rmAll||"removeAllListeners",v=U(c),C="."+c+":",H=function(L,T,Z){if(L.isRemoved)return;const z=L.callback;"object"==typeof z&&z.handleEvent&&(L.callback=$=>z.handleEvent($),L.originalDelegate=z),L.invoke(L,T,[Z]);const B=L.options;B&&"object"==typeof B&&B.once&&T[f].call(T,Z.type,L.originalDelegate?L.originalDelegate:L.callback,B)},S=function(L){if(!(L=L||t.event))return;const T=this||L.target||t,Z=T[te[L.type][ve]];if(Z)if(1===Z.length)H(Z[0],T,L);else{const z=Z.slice();for(let B=0;B<z.length&&(!L||!0!==L[rt]);B++)H(z[B],T,L)}},P=function(L){if(!(L=L||t.event))return;const T=this||L.target||t,Z=T[te[L.type][he]];if(Z)if(1===Z.length)H(Z[0],T,L);else{const z=Z.slice();for(let B=0;B<z.length&&(!L||!0!==L[rt]);B++)H(z[B],T,L)}};function G(L,T){if(!L)return!1;let Z=!0;T&&void 0!==T.useG&&(Z=T.useG);const z=T&&T.vh;let B=!0;T&&void 0!==T.chkDup&&(B=T.chkDup);let $=!1;T&&void 0!==T.rt&&($=T.rt);let R=L;for(;R&&!R.hasOwnProperty(c);)R=ye(R);if(!R&&L[c]&&(R=L),!R||R[v])return!1;const Q=T&&T.eventNameToString,V={},K=R[v]=R[c],N=R[U(f)]=R[f],j=R[U(m)]=R[m],O=R[U(E)]=R[E];let re;function Te(o,l){return!ce&&"object"==typeof o&&o?!!o.capture:ce&&l?"boolean"==typeof o?{capture:o,passive:!0}:o?"object"==typeof o&&!1!==o.passive?Object.assign(Object.assign({},o),{passive:!0}):o:{passive:!0}:o}T&&T.prepend&&(re=R[U(T.prepend)]=R[T.prepend]);const k=Z?function(o){if(!V.isExisting)return K.call(V.target,V.eventName,V.capture?P:S,V.options)}:function(o){return K.call(V.target,V.eventName,o.invoke,V.options)},n=Z?function(o){if(!o.isRemoved){const l=te[o.eventName];let d;l&&(d=l[o.capture?he:ve]);const p=d&&o.target[d];if(p)for(let y=0;y<p.length;y++)if(p[y]===o){p.splice(y,1),o.isRemoved=!0,0===p.length&&(o.allRemoved=!0,o.target[d]=null);break}}if(o.allRemoved)return N.call(o.target,o.eventName,o.capture?P:S,o.options)}:function(o){return N.call(o.target,o.eventName,o.invoke,o.options)},r=T&&T.diff?T.diff:function(o,l){const d=typeof l;return"function"===d&&o.callback===l||"object"===d&&o.originalDelegate===l},i=Zone[U("UNPATCHED_EVENTS")],h=t[U("PASSIVE_EVENTS")],s=function(o,l,d,p,y=!1,_=!1){return function(){const g=this||t;let M=arguments[0];T&&T.transferEventName&&(M=T.transferEventName(M));let D=arguments[1];if(!D)return o.apply(this,arguments);if(ne&&"uncaughtException"===M)return o.apply(this,arguments);let q=!1;if("function"!=typeof D){if(!D.handleEvent)return o.apply(this,arguments);q=!0}if(z&&!z(o,D,g,arguments))return;const ee=ce&&!!h&&-1!==h.indexOf(M),_e=Te(arguments[2],ee);if(i)for(let Ke=0;Ke<i.length;Ke++)if(M===i[Ke])return ee?o.call(g,M,D,_e):o.apply(this,arguments);const Nt=!!_e&&("boolean"==typeof _e||_e.capture),Ht=!(!_e||"object"!=typeof _e)&&_e.once,Zt=Zone.current;let Ot=te[M];Ot||(mt(M,Q),Ot=te[M]);const Dt=Ot[Nt?he:ve];let Lt,ct=g[Dt],Rt=!1;if(ct){if(Rt=!0,B)for(let Ke=0;Ke<ct.length;Ke++)if(r(ct[Ke],D))return}else ct=g[Dt]=[];const St=g.constructor.name,It=pe[St];It&&(Lt=It[M]),Lt||(Lt=St+l+(Q?Q(M):M)),V.options=_e,Ht&&(V.options.once=!1),V.target=g,V.capture=Nt,V.eventName=M,V.isExisting=Rt;const Tt=Z?me:void 0;Tt&&(Tt.taskData=V);const xe=Zt.scheduleEventTask(Lt,D,Tt,d,p);return V.target=null,Tt&&(Tt.taskData=null),Ht&&(_e.once=!0),!ce&&"boolean"==typeof xe.options||(xe.options=_e),xe.target=g,xe.capture=Nt,xe.eventName=M,q&&(xe.originalDelegate=D),_?ct.unshift(xe):ct.push(xe),y?g:void 0}};return R[c]=s(K,C,k,n,$),re&&(R.prependListener=s(re,".prependListener:",function(o){return re.call(V.target,V.eventName,o.invoke,V.options)},n,$,!0)),R[f]=function(){const o=this||t;let l=arguments[0];T&&T.transferEventName&&(l=T.transferEventName(l));const d=arguments[2],p=!!d&&("boolean"==typeof d||d.capture),y=arguments[1];if(!y)return N.apply(this,arguments);if(z&&!z(N,y,o,arguments))return;const _=te[l];let g;_&&(g=_[p?he:ve]);const M=g&&o[g];if(M)for(let D=0;D<M.length;D++){const q=M[D];if(r(q,y))return M.splice(D,1),q.isRemoved=!0,0===M.length&&(q.allRemoved=!0,o[g]=null,"string"==typeof l)&&(o[Ze+"ON_PROPERTY"+l]=null),q.zone.cancelTask(q),$?o:void 0}return N.apply(this,arguments)},R[m]=function(){const o=this||t;let l=arguments[0];T&&T.transferEventName&&(l=T.transferEventName(l));const d=[],p=kt(o,Q?Q(l):l);for(let y=0;y<p.length;y++){const _=p[y];d.push(_.originalDelegate?_.originalDelegate:_.callback)}return d},R[E]=function(){const o=this||t;let l=arguments[0];if(l){T&&T.transferEventName&&(l=T.transferEventName(l));const d=te[l];if(d){const _=o[d[ve]],g=o[d[he]];if(_){const M=_.slice();for(let D=0;D<M.length;D++){const q=M[D];this[f].call(this,l,q.originalDelegate?q.originalDelegate:q.callback,q.options)}}if(g){const M=g.slice();for(let D=0;D<M.length;D++){const q=M[D];this[f].call(this,l,q.originalDelegate?q.originalDelegate:q.callback,q.options)}}}}else{const d=Object.keys(o);for(let p=0;p<d.length;p++){const _=vt.exec(d[p]);let g=_&&_[1];g&&"removeListener"!==g&&this[E].call(this,g)}this[E].call(this,"removeListener")}if($)return this},se(R[c],K),se(R[f],N),O&&se(R[E],O),j&&se(R[m],j),!0}let x=[];for(let L=0;L<a.length;L++)x[L]=G(a[L],u);return x}function kt(t,a){if(!a){const m=[];for(let E in t){const v=vt.exec(E);let C=v&&v[1];if(C&&(!a||C===a)){const w=t[E];if(w)for(let b=0;b<w.length;b++)m.push(w[b])}}return m}let u=te[a];u||(mt(a),u=te[a]);const c=t[u[ve]],f=t[u[he]];return c?f?c.concat(f):c.slice():f?f.slice():[]}function ot(t,a){const u=t.Event;u&&u.prototype&&a.patchMethod(u.prototype,"stopImmediatePropagation",c=>function(f,m){f[rt]=!0,c&&c.apply(f,m)})}function pt(t,a,u,c,f){const m=Zone.__symbol__(c);if(a[m])return;const E=a[m]=a[c];a[c]=function(v,C,w){return C&&C.prototype&&f.forEach(function(b){const H=`${u}.${c}::`+b,S=C.prototype;if(S.hasOwnProperty(b)){const P=t.ObjectGetOwnPropertyDescriptor(S,b);P&&P.value?(P.value=t.wrapWithCurrentZone(P.value,H),t._redefineProperty(C.prototype,b,P)):S[b]&&(S[b]=t.wrapWithCurrentZone(S[b],H))}else S[b]&&(S[b]=t.wrapWithCurrentZone(S[b],H))}),E.call(a,v,C,w)},t.attachOriginToPatched(a[c],E)}const Et=["absolutedeviceorientation","afterinput","afterprint","appinstalled","beforeinstallprompt","beforeprint","beforeunload","devicelight","devicemotion","deviceorientation","deviceorientationabsolute","deviceproximity","hashchange","languagechange","message","mozbeforepaint","offline","online","paint","pageshow","pagehide","popstate","rejectionhandled","storage","unhandledrejection","unload","userproximity","vrdisplayconnected","vrdisplaydisconnected","vrdisplaypresentchange"],st=["encrypted","waitingforkey","msneedkey","mozinterruptbegin","mozinterruptend"],le=["load"],De=["blur","error","focus","load","resize","scroll","messageerror"],Ee=["bounce","finish","start"],it=["loadstart","progress","abort","error","load","progress","timeout","loadend","readystatechange"],Pe=["upgradeneeded","complete","abort","success","error","blocked","versionchange","close"],at=["close","error","open","message"],Re=["error","message"],Ne=["abort","animationcancel","animationend","animationiteration","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","compositionstart","compositionupdate","compositionend","cuechange","click","close","contextmenu","curechange","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","drop","durationchange","emptied","ended","error","focus","focusin","focusout","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadstart","loadeddata","loadedmetadata","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","orientationchange","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","mozpointerlockchange","webkitpointerlockerchange","pointerlockerror","mozpointerlockerror","webkitpointerlockerror","pointermove","pointout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","seeked","seeking","select","selectionchange","selectstart","show","sort","stalled","submit","suspend","timeupdate","volumechange","touchcancel","touchmove","touchstart","touchend","transitioncancel","transitionend","waiting","wheel"].concat(["webglcontextrestored","webglcontextlost","webglcontextcreationerror"],["autocomplete","autocompleteerror"],["toggle"],["afterscriptexecute","beforescriptexecute","DOMContentLoaded","freeze","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenerror","mozfullscreenerror","webkitfullscreenerror","msfullscreenerror","readystatechange","visibilitychange","resume"],Et,["beforecopy","beforecut","beforepaste","copy","cut","paste","dragstart","loadend","animationstart","search","transitionrun","transitionstart","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend"],["activate","afterupdate","ariarequest","beforeactivate","beforedeactivate","beforeeditfocus","beforeupdate","cellchange","controlselect","dataavailable","datasetchanged","datasetcomplete","errorupdate","filterchange","layoutcomplete","losecapture","move","moveend","movestart","propertychange","resizeend","resizestart","rowenter","rowexit","rowsdelete","rowsinserted","command","compassneedscalibration","deactivate","help","mscontentzoom","msmanipulationstatechanged","msgesturechange","msgesturedoubletap","msgestureend","msgesturehold","msgesturestart","msgesturetap","msgotpointercapture","msinertiastart","mslostpointercapture","mspointercancel","mspointerdown","mspointerenter","mspointerhover","mspointerleave","mspointermove","mspointerout","mspointerover","mspointerup","pointerout","mssitemodejumplistitemremoved","msthumbnailclick","stop","storagecommit"]);function Xe(t,a,u){if(!u||0===u.length)return a;const c=u.filter(m=>m.target===t);if(!c||0===c.length)return a;const f=c[0].ignoreProperties;return a.filter(m=>-1===f.indexOf(m))}function Y(t,a,u,c){t&&Ge(t,Xe(t,a,u),c)}Zone.__load_patch("util",(t,a,u)=>{u.patchOnProperties=Ge,u.patchMethod=ae,u.bindArguments=tt,u.patchMacroTask=Ce;const c=a.__symbol__("BLACK_LISTED_EVENTS"),f=a.__symbol__("UNPATCHED_EVENTS");t[f]&&(t[c]=t[f]),t[c]&&(a[c]=a[f]=t[c]),u.patchEventPrototype=ot,u.patchEventTarget=ze,u.isIEOrEdge=Le,u.ObjectDefineProperty=ge,u.ObjectGetOwnPropertyDescriptor=oe,u.ObjectCreate=_t,u.ArraySlice=Ve,u.patchClass=we,u.wrapWithCurrentZone=Fe,u.filterProperties=Xe,u.attachOriginToPatched=se,u._redefineProperty=Object.defineProperty,u.patchCallbacks=pt,u.getGlobalObjects=()=>({globalSources:pe,zoneSymbolEventNames:te,eventNames:Ne,isBrowser:ht,isMix:Ue,isNode:ne,TRUE_STR:he,FALSE_STR:ve,ZONE_SYMBOL_PREFIX:Ze,ADD_EVENT_LISTENER_STR:Ie,REMOVE_EVENT_LISTENER_STR:Je})});const Ye=U("zoneTask");function Se(t,a,u,c){let f=null,m=null;u+=c;const E={};function v(w){const b=w.data;return b.args[0]=function(){return w.invoke.apply(this,arguments)},b.handleId=f.apply(t,b.args),w}function C(w){return m.call(t,w.data.handleId)}f=ae(t,a+=c,w=>function(b,H){if("function"==typeof H[0]){const S={isPeriodic:"Interval"===c,delay:"Timeout"===c||"Interval"===c?H[1]||0:void 0,args:H},P=H[0];H[0]=function(){try{return P.apply(this,arguments)}finally{S.isPeriodic||("number"==typeof S.handleId?delete E[S.handleId]:S.handleId&&(S.handleId[Ye]=null))}};const G=lt(a,H[0],S,v,C);if(!G)return G;const x=G.data.handleId;return"number"==typeof x?E[x]=G:x&&(x[Ye]=G),x&&x.ref&&x.unref&&"function"==typeof x.ref&&"function"==typeof x.unref&&(G.ref=x.ref.bind(x),G.unref=x.unref.bind(x)),"number"==typeof x||x?x:G}return w.apply(t,H)}),m=ae(t,u,w=>function(b,H){const S=H[0];let P;"number"==typeof S?P=E[S]:(P=S&&S[Ye],P||(P=S)),P&&"string"==typeof P.type?"notScheduled"!==P.state&&(P.cancelFn&&P.data.isPeriodic||0===P.runCount)&&("number"==typeof S?delete E[S]:S&&(S[Ye]=null),P.zone.cancelTask(P)):w.apply(t,H)})}Zone.__load_patch("legacy",t=>{const a=t[Zone.__symbol__("legacyPatch")];a&&a()}),Zone.__load_patch("queueMicrotask",(t,a,u)=>{u.patchMethod(t,"queueMicrotask",c=>function(f,m){a.current.scheduleMicroTask("queueMicrotask",m[0])})}),Zone.__load_patch("timers",t=>{const a="set",u="clear";Se(t,a,u,"Timeout"),Se(t,a,u,"Interval"),Se(t,a,u,"Immediate")}),Zone.__load_patch("requestAnimationFrame",t=>{Se(t,"request","cancel","AnimationFrame"),Se(t,"mozRequest","mozCancel","AnimationFrame"),Se(t,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(t,a)=>{const u=["alert","prompt","confirm"];for(let c=0;c<u.length;c++)ae(t,u[c],(m,E,v)=>function(C,w){return a.current.run(m,t,w,v)})}),Zone.__load_patch("EventTarget",(t,a,u)=>{(function Me(t,a){a.patchEventPrototype(t,a)})(t,u),function $e(t,a){if(Zone[a.symbol("patchEventTarget")])return;const{eventNames:u,zoneSymbolEventNames:c,TRUE_STR:f,FALSE_STR:m,ZONE_SYMBOL_PREFIX:E}=a.getGlobalObjects();for(let C=0;C<u.length;C++){const w=u[C],S=E+(w+m),P=E+(w+f);c[w]={},c[w][m]=S,c[w][f]=P}const v=t.EventTarget;v&&v.prototype&&a.patchEventTarget(t,[v&&v.prototype])}(t,u);const c=t.XMLHttpRequestEventTarget;c&&c.prototype&&u.patchEventTarget(t,[c.prototype])}),Zone.__load_patch("MutationObserver",(t,a,u)=>{we("MutationObserver"),we("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(t,a,u)=>{we("IntersectionObserver")}),Zone.__load_patch("FileReader",(t,a,u)=>{we("FileReader")}),Zone.__load_patch("on_property",(t,a,u)=>{!function Ct(t,a){if(ne&&!Ue||Zone[t.symbol("patchEvents")])return;const u="undefined"!=typeof WebSocket,c=a.__Zone_ignore_on_properties;if(ht){const E=window,v=function be(){try{const t=ke.navigator.userAgent;if(-1!==t.indexOf("MSIE ")||-1!==t.indexOf("Trident/"))return!0}catch(t){}return!1}()?[{target:E,ignoreProperties:["error"]}]:[];Y(E,Ne.concat(["messageerror"]),c&&c.concat(v),ye(E)),Y(Document.prototype,Ne,c),void 0!==E.SVGElement&&Y(E.SVGElement.prototype,Ne,c),Y(Element.prototype,Ne,c),Y(HTMLElement.prototype,Ne,c),Y(HTMLMediaElement.prototype,st,c),Y(HTMLFrameSetElement.prototype,Et.concat(De),c),Y(HTMLBodyElement.prototype,Et.concat(De),c),Y(HTMLFrameElement.prototype,le,c),Y(HTMLIFrameElement.prototype,le,c);const C=E.HTMLMarqueeElement;C&&Y(C.prototype,Ee,c);const w=E.Worker;w&&Y(w.prototype,Re,c)}const f=a.XMLHttpRequest;f&&Y(f.prototype,it,c);const m=a.XMLHttpRequestEventTarget;m&&Y(m&&m.prototype,it,c),"undefined"!=typeof IDBIndex&&(Y(IDBIndex.prototype,Pe,c),Y(IDBRequest.prototype,Pe,c),Y(IDBOpenDBRequest.prototype,Pe,c),Y(IDBDatabase.prototype,Pe,c),Y(IDBTransaction.prototype,Pe,c),Y(IDBCursor.prototype,Pe,c)),u&&Y(WebSocket.prototype,at,c)}(u,t)}),Zone.__load_patch("customElements",(t,a,u)=>{!function Pt(t,a){const{isBrowser:u,isMix:c}=a.getGlobalObjects();(u||c)&&t.customElements&&"customElements"in t&&a.patchCallbacks(a,t.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(t,u)}),Zone.__load_patch("XHR",(t,a)=>{!function C(w){const b=w.XMLHttpRequest;if(!b)return;const H=b.prototype;let P=H[Qe],G=H[et];if(!P){const N=w.XMLHttpRequestEventTarget;if(N){const j=N.prototype;P=j[Qe],G=j[et]}}const x="readystatechange",L="scheduled";function T(N){const j=N.data,O=j.target;O[m]=!1,O[v]=!1;const re=O[f];P||(P=O[Qe],G=O[et]),re&&G.call(O,x,re);const Te=O[f]=()=>{if(O.readyState===O.DONE)if(!j.aborted&&O[m]&&N.state===L){const ue=O[a.__symbol__("loadfalse")];if(0!==O.status&&ue&&ue.length>0){const fe=N.invoke;N.invoke=function(){const W=O[a.__symbol__("loadfalse")];for(let I=0;I<W.length;I++)W[I]===N&&W.splice(I,1);!j.aborted&&N.state===L&&fe.call(N)},ue.push(N)}else N.invoke()}else!j.aborted&&!1===O[m]&&(O[v]=!0)};return P.call(O,x,Te),O[u]||(O[u]=N),V.apply(O,j.args),O[m]=!0,N}function Z(){}function z(N){const j=N.data;return j.aborted=!0,K.apply(j.target,j.args)}const B=ae(H,"open",()=>function(N,j){return N[c]=0==j[2],N[E]=j[1],B.apply(N,j)}),R=U("fetchTaskAborting"),Q=U("fetchTaskScheduling"),V=ae(H,"send",()=>function(N,j){if(!0===a.current[Q]||N[c])return V.apply(N,j);{const O={target:N,url:N[E],isPeriodic:!1,args:j,aborted:!1},re=lt("XMLHttpRequest.send",Z,O,T,z);N&&!0===N[v]&&!O.aborted&&re.state===L&&re.invoke()}}),K=ae(H,"abort",()=>function(N,j){const O=function S(N){return N[u]}(N);if(O&&"string"==typeof O.type){if(null==O.cancelFn||O.data&&O.data.aborted)return;O.zone.cancelTask(O)}else if(!0===a.current[R])return K.apply(N,j)})}(t);const u=U("xhrTask"),c=U("xhrSync"),f=U("xhrListener"),m=U("xhrScheduled"),E=U("xhrURL"),v=U("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",t=>{t.navigator&&t.navigator.geolocation&&function ut(t,a){const u=t.constructor.name;for(let c=0;c<a.length;c++){const f=a[c],m=t[f];if(m){if(!ft(oe(t,f)))continue;t[f]=(v=>{const C=function(){return v.apply(this,tt(arguments,u+"."+f))};return se(C,v),C})(m)}}}(t.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(t,a)=>{function u(c){return function(f){kt(t,c).forEach(E=>{const v=t.PromiseRejectionEvent;if(v){const C=new v(c,{promise:f.promise,reason:f.rejection});E.invoke(C)}})}}t.PromiseRejectionEvent&&(a[U("unhandledPromiseRejectionHandler")]=u("unhandledrejection"),a[U("rejectionHandledHandler")]=u("rejectionhandled"))})}},X=>{X(X.s=61)}]);"use strict";var RQ=Object.defineProperty,PQ=Object.defineProperties,FQ=Object.getOwnPropertyDescriptors,fp=Object.getOwnPropertySymbols,w1=Object.prototype.hasOwnProperty,S1=Object.prototype.propertyIsEnumerable,E1=(et,mt,ze)=>mt in et?RQ(et,mt,{enumerable:!0,configurable:!0,writable:!0,value:ze}):et[mt]=ze,S=(et,mt)=>{for(var ze in mt||(mt={}))w1.call(mt,ze)&&E1(et,ze,mt[ze]);if(fp)for(var ze of fp(mt))S1.call(mt,ze)&&E1(et,ze,mt[ze]);return et},pn=(et,mt)=>PQ(et,FQ(mt)),M1=(et,mt)=>{var ze={};for(var Ft in et)w1.call(et,Ft)&&mt.indexOf(Ft)<0&&(ze[Ft]=et[Ft]);if(null!=et&&fp)for(var Ft of fp(et))mt.indexOf(Ft)<0&&S1.call(et,Ft)&&(ze[Ft]=et[Ft]);return ze};(self.webpackChunkdotcms_block_editor=self.webpackChunkdotcms_block_editor||[]).push([[179],{712:()=>{function et(n){return"function"==typeof n}let mt=!1;const ze={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else mt&&console.log("RxJS: Back to a better error behavior. Thank you. <3");mt=n},get useDeprecatedSynchronousErrorHandling(){return mt}};function Ft(n){setTimeout(()=>{throw n},0)}const Iu={closed:!0,next(n){},error(n){if(ze.useDeprecatedSynchronousErrorHandling)throw n;Ft(n)},complete(){}},hl=Array.isArray||(n=>n&&"number"==typeof n.length);function hp(n){return null!==n&&"object"==typeof n}const Tu=(()=>{function n(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,r)=>`${r+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n})();class ke{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof ke)t.remove(this);else if(null!==t)for(let s=0;s<t.length;++s)t[s].remove(this);if(et(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(s){e=s instanceof Tu?Eb(s.errors):[s]}}if(hl(o)){let s=-1,a=o.length;for(;++s<a;){const l=o[s];if(hp(l))try{l.unsubscribe()}catch(c){e=e||[],c instanceof Tu?e=e.concat(Eb(c.errors)):e.push(c)}}}if(e)throw new Tu(e)}add(e){let t=e;if(!e)return ke.EMPTY;switch(typeof e){case"function":t=new ke(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof ke)){const o=t;t=new ke,t._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=t;if(null===r)t._parentOrParents=this;else if(r instanceof ke){if(r===this)return t;t._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return t;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[t]:i.push(t),t}remove(e){const t=this._subscriptions;if(t){const r=t.indexOf(e);-1!==r&&t.splice(r,1)}}}var n;function Eb(n){return n.reduce((e,t)=>e.concat(t instanceof Tu?t.errors:t),[])}ke.EMPTY=((n=new ke).closed=!0,n);const xu="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class tt extends ke{constructor(e,t,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Iu;break;case 1:if(!e){this.destination=Iu;break}if("object"==typeof e){e instanceof tt?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new wb(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new wb(this,e,t,r)}}[xu](){return this}static create(e,t,r){const i=new tt(e,t,r);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class wb extends tt{constructor(e,t,r,i){super(),this._parentSubscriber=e;let o,s=this;et(t)?o=t:t&&(o=t.next,r=t.error,i=t.complete,t!==Iu&&(s=Object.create(t),et(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=r,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;ze.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:r}=ze;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):Ft(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;Ft(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);ze.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(r){if(this.unsubscribe(),ze.useDeprecatedSynchronousErrorHandling)throw r;Ft(r)}}__tryOrSetError(e,t,r){if(!ze.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(i){return ze.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(Ft(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const pl="function"==typeof Symbol&&Symbol.observable||"@@observable";function Au(n){return n}let Ne=(()=>{class n{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const{operator:o}=this,s=function T1(n,e,t){if(n){if(n instanceof tt)return n;if(n[xu])return n[xu]()}return n||e||t?new tt(n,e,t):new tt(Iu)}(t,r,i);if(s.add(o?o.call(s,this.source):this.source||ze.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),ze.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){ze.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),function I1(n){for(;n;){const{closed:e,destination:t,isStopped:r}=n;if(e||r)return!1;n=t&&t instanceof tt?t:null}return!0}(t)?t.error(r):console.warn(r)}}forEach(t,r){return new(r=Mb(r))((i,o)=>{let s;s=this.subscribe(a=>{try{t(a)}catch(l){o(l),s&&s.unsubscribe()}},o,i)})}_subscribe(t){const{source:r}=this;return r&&r.subscribe(t)}[pl](){return this}pipe(...t){return 0===t.length?this:function Sb(n){return 0===n.length?Au:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=Mb(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Mb(n){if(n||(n=ze.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const Uo=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class Ib extends ke{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}class Tb extends tt{constructor(e){super(e),this.destination=e}}let Me=(()=>{class n extends Ne{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[xu](){return new Tb(this)}lift(t){const r=new xb(this,this);return r.operator=t,r}next(t){if(this.closed)throw new Uo;if(!this.isStopped){const{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].next(t)}}error(t){if(this.closed)throw new Uo;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].error(t);this.observers.length=0}complete(){if(this.closed)throw new Uo;this.isStopped=!0;const{observers:t}=this,r=t.length,i=t.slice();for(let o=0;o<r;o++)i[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new Uo;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new Uo;return this.hasError?(t.error(this.thrownError),ke.EMPTY):this.isStopped?(t.complete(),ke.EMPTY):(this.observers.push(t),new Ib(this,t))}asObservable(){const t=new Ne;return t.source=this,t}}return n.create=(e,t)=>new xb(e,t),n})();class xb extends Me{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):ke.EMPTY}}function Os(n){return n&&"function"==typeof n.schedule}function be(n,e){return function(r){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new x1(n,e))}}class x1{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new A1(e,this.project,this.thisArg))}}class A1 extends tt{constructor(e,t,r){super(e),this.project=t,this.count=0,this.thisArg=r||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const Ab=n=>e=>{for(let t=0,r=n.length;t<r&&!e.closed;t++)e.next(n[t]);e.complete()},Ou=function k1(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),Ob=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function kb(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const pp=n=>{if(n&&"function"==typeof n[pl])return(n=>e=>{const t=n[pl]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(n);if(Ob(n))return Ab(n);if(kb(n))return(n=>e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ft),e))(n);if(n&&"function"==typeof n[Ou])return(n=>e=>{const t=n[Ou]();for(;;){let r;try{r=t.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(n);{const t=`You provided ${hp(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function gp(n,e){return new Ne(t=>{const r=new ke;let i=0;return r.add(e.schedule(function(){i!==n.length?(t.next(n[i++]),t.closed||r.add(this.schedule())):t.complete()})),r})}function zt(n,e){return e?function V1(n,e){if(null!=n){if(function B1(n){return n&&"function"==typeof n[pl]}(n))return function P1(n,e){return new Ne(t=>{const r=new ke;return r.add(e.schedule(()=>{const i=n[pl]();r.add(i.subscribe({next(o){r.add(e.schedule(()=>t.next(o)))},error(o){r.add(e.schedule(()=>t.error(o)))},complete(){r.add(e.schedule(()=>t.complete()))}}))})),r})}(n,e);if(kb(n))return function F1(n,e){return new Ne(t=>{const r=new ke;return r.add(e.schedule(()=>n.then(i=>{r.add(e.schedule(()=>{t.next(i),r.add(e.schedule(()=>t.complete()))}))},i=>{r.add(e.schedule(()=>t.error(i)))}))),r})}(n,e);if(Ob(n))return gp(n,e);if(function j1(n){return n&&"function"==typeof n[Ou]}(n)||"string"==typeof n)return function L1(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ne(t=>{const r=new ke;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=n[Ou](),r.add(e.schedule(function(){if(t.closed)return;let o,s;try{const a=i.next();o=a.value,s=a.done}catch(a){return void t.error(a)}s?t.complete():(t.next(o),this.schedule())}))})),r})}(n,e)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,e):n instanceof Ne?n:new Ne(pp(n))}class gl extends tt{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ml extends tt{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function vl(n,e){if(e.closed)return;if(n instanceof Ne)return n.subscribe(e);let t;try{t=pp(n)(e)}catch(r){e.error(r)}return t}function Wt(n,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(Wt((i,o)=>zt(n(i,o)).pipe(be((s,a)=>e(i,s,o,a))),t)):("number"==typeof e&&(t=e),r=>r.lift(new H1(n,t)))}class H1{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new U1(e,this.project,this.concurrent))}}class U1 extends ml{constructor(e,t,r=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t)}_innerSub(e){const t=new gl(this),r=this.destination;r.add(t);const i=vl(e,t);i!==t&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function yl(n=Number.POSITIVE_INFINITY){return Wt(Au,n)}function mp(n,e){return e?gp(n,e):new Ne(Ab(n))}function vp(...n){let e=Number.POSITIVE_INFINITY,t=null,r=n[n.length-1];return Os(r)?(t=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(e=n.pop())):"number"==typeof r&&(e=n.pop()),null===t&&1===n.length&&n[0]instanceof Ne?n[0]:yl(e)(mp(n,t))}function yp(){return function(e){return e.lift(new z1(e))}}class z1{constructor(e){this.connectable=e}call(e,t){const{connectable:r}=this;r._refCount++;const i=new W1(e,r),o=t.subscribe(i);return i.closed||(i.connection=r.connect()),o}}class W1 extends tt{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:r}=this,i=e._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class Nb extends Ne{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new ke,e.add(this.source.subscribe(new G1(this.getSubject(),this))),e.closed&&(this._connection=null,e=ke.EMPTY)),e}refCount(){return yp()(this)}}const $1=(()=>{const n=Nb.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class G1 extends Tb{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}class Z1{constructor(e,t){this.subjectFactory=e,this.selector=t}call(e,t){const{selector:r}=this,i=this.subjectFactory(),o=r(i).subscribe(e);return o.add(t.subscribe(i)),o}}function Y1(){return new Me}function We(n){for(let e in n)if(n[e]===We)return e;throw Error("Could not find renamed property on target object.")}function _p(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Fe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Fe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function bp(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const J1=We({__forward_ref__:We});function Ve(n){return n.__forward_ref__=Ve,n.toString=function(){return Fe(this())},n}function de(n){return Rb(n)?n():n}function Rb(n){return"function"==typeof n&&n.hasOwnProperty(J1)&&n.__forward_ref__===Ve}class we extends Error{constructor(e,t){super(function Cp(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function ae(n){return"string"==typeof n?n:null==n?"":String(n)}function gn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ae(n)}function ku(n,e){const t=e?` in ${e}`:"";throw new we(-201,`No provider for ${gn(n)} found${t}`)}function jn(n,e){null==n&&function nt(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function $(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function at(n){return{providers:n.providers||[],imports:n.imports||[]}}function Dp(n){return Pb(n,Nu)||Pb(n,Lb)}function Pb(n,e){return n.hasOwnProperty(e)?n[e]:null}function Fb(n){return n&&(n.hasOwnProperty(Ep)||n.hasOwnProperty(oN))?n[Ep]:null}const Nu=We({\u0275prov:We}),Ep=We({\u0275inj:We}),Lb=We({ngInjectableDef:We}),oN=We({ngInjectorDef:We});var ce=(()=>((ce=ce||{})[ce.Default=0]="Default",ce[ce.Host=1]="Host",ce[ce.Self=2]="Self",ce[ce.SkipSelf=4]="SkipSelf",ce[ce.Optional=8]="Optional",ce))();let wp;function eo(n){const e=wp;return wp=n,e}function Bb(n,e,t){const r=Dp(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ce.Optional?null:void 0!==e?e:void ku(Fe(n),"Injector")}function to(n){return{toString:n}.toString()}var Dr=(()=>((Dr=Dr||{})[Dr.OnPush=0]="OnPush",Dr[Dr.Default=1]="Default",Dr))(),Gr=(()=>(function(n){n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom"}(Gr||(Gr={})),Gr))();const aN="undefined"!=typeof globalThis&&globalThis,lN="undefined"!=typeof window&&window,cN="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,He=aN||"undefined"!=typeof global&&global||lN||cN,ks={},$e=[],Ru=We({\u0275cmp:We}),Sp=We({\u0275dir:We}),Mp=We({\u0275pipe:We}),jb=We({\u0275mod:We}),Mi=We({\u0275fac:We}),_l=We({__NG_ELEMENT_ID__:We});let uN=0;function Et(n){return to(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Dr.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||$e,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Gr.Emulated,id:"c",styles:n.styles||$e,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,o=n.features,s=n.pipes;return r.id+=uN++,r.inputs=zb(n.inputs,t),r.outputs=zb(n.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Vb):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(Hb):null,r})}function Vb(n){return en(n)||function no(n){return n[Sp]||null}(n)}function Hb(n){return function zo(n){return n[Mp]||null}(n)}const Ub={};function ut(n){return to(()=>{const e={type:n.type,bootstrap:n.bootstrap||$e,declarations:n.declarations||$e,imports:n.imports||$e,exports:n.exports||$e,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Ub[n.id]=n.type),e})}function zb(n,e){if(null==n)return ks;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}const Y=Et;function mn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function en(n){return n[Ru]||null}function Xn(n,e){const t=n[jb]||null;if(!t&&!0===e)throw new Error(`Type ${Fe(n)} does not have '\u0275mod' property.`);return t}function qr(n){return Array.isArray(n)&&"object"==typeof n[1]}function wr(n){return Array.isArray(n)&&!0===n[1]}function xp(n){return 0!=(8&n.flags)}function Bu(n){return 2==(2&n.flags)}function ju(n){return 1==(1&n.flags)}function Sr(n){return null!==n.template}function mN(n){return 0!=(512&n[2])}function qo(n,e){return n.hasOwnProperty(Mi)?n[Mi]:null}class $b{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function tr(){return Gb}function Gb(n){return n.type.prototype.ngOnChanges&&(n.setInput=bN),_N}function _N(){const n=Kb(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===ks)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function bN(n,e,t,r){const i=Kb(n)||function CN(n,e){return n[qb]=e}(n,{previous:ks,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[t],l=s[a];o[a]=new $b(l&&l.currentValue,e,s===ks),n[r]=e}tr.ngInherit=!0;const qb="__ngSimpleChanges__";function Kb(n){return n[qb]||null}let Rp;function Pp(){return void 0!==Rp?Rp:"undefined"!=typeof document?document:void 0}function dt(n){return!!n.listen}const Zb={createRenderer:(n,e)=>Pp()};function wt(n){for(;Array.isArray(n);)n=n[0];return n}function Vu(n,e){return wt(e[n])}function rr(n,e){return wt(e[n.index])}function Fp(n,e){return n.data[e]}function Ls(n,e){return n[e]}function Hn(n,e){const t=e[n];return qr(t)?t:t[0]}function Yb(n){return 4==(4&n[2])}function Lp(n){return 128==(128&n[2])}function ro(n,e){return null==e?null:n[e]}function Qb(n){n[18]=0}function Bp(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const te={lFrame:oC(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Jb(){return te.bindingsEnabled}function T(){return te.lFrame.lView}function Se(){return te.lFrame.tView}function Bt(n){return te.lFrame.contextLView=n,n[8]}function Ot(){let n=Xb();for(;null!==n&&64===n.type;)n=n.parent;return n}function Xb(){return te.lFrame.currentTNode}function Kr(n,e){const t=te.lFrame;t.currentTNode=n,t.isParent=e}function jp(){return te.lFrame.isParent}function Vp(){te.lFrame.isParent=!1}function Hu(){return te.isInCheckNoChangesMode}function Uu(n){te.isInCheckNoChangesMode=n}function vn(){const n=te.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Bs(){return te.lFrame.bindingIndex++}function Ti(n){const e=te.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function BN(n,e){const t=te.lFrame;t.bindingIndex=t.bindingRootIndex=n,Hp(e)}function Hp(n){te.lFrame.currentDirectiveIndex=n}function nC(){return te.lFrame.currentQueryIndex}function zp(n){te.lFrame.currentQueryIndex=n}function VN(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function rC(n,e,t){if(t&ce.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&ce.Host||(i=VN(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,n=o}const r=te.lFrame=iC();return r.currentTNode=e,r.lView=n,!0}function zu(n){const e=iC(),t=n[1];te.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function iC(){const n=te.lFrame,e=null===n?null:n.child;return null===e?oC(n):e}function oC(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function sC(){const n=te.lFrame;return te.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const aC=sC;function Wu(){const n=sC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function yn(){return te.lFrame.selectedIndex}function io(n){te.lFrame.selectedIndex=n}function ft(){const n=te.lFrame;return Fp(n.tView,n.selectedIndex)}function $u(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function Gu(n,e,t){lC(n,e,3,t)}function qu(n,e,t,r){(3&n[2])===t&&lC(n,e,t,r)}function Wp(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function lC(n,e,t,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(ZN(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function ZN(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class wl{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Ku(n,e,t){const r=dt(n);let i=0;for(;i<t.length;){const o=t[i];if("number"==typeof o){if(0!==o)break;i++;const s=t[i++],a=t[i++],l=t[i++];r?n.setAttribute(e,a,l,s):e.setAttributeNS(s,a,l)}else{const s=o,a=t[++i];Gp(s)?r&&n.setProperty(e,s,a):r?n.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function cC(n){return 3===n||4===n||6===n}function Gp(n){return 64===n.charCodeAt(0)}function Zu(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||uC(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function uC(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function dC(n){return-1!==n}function js(n){return 32767&n}function Vs(n,e){let t=function eR(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let qp=!0;function Yu(n){const e=qp;return qp=n,e}let tR=0;function Ml(n,e){const t=Zp(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Kp(r.data,n),Kp(e,null),Kp(r.blueprint,null));const i=Qu(n,e),o=n.injectorIndex;if(dC(i)){const s=js(i),a=Vs(i,e),l=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function Kp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Zp(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Qu(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const o=i[1],s=o.type;if(r=2===s?o.declTNode:1===s?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Ju(n,e,t){!function nR(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(_l)&&(r=t[_l]),null==r&&(r=t[_l]=tR++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function pC(n,e,t){if(t&ce.Optional)return n;ku(e,"NodeInjector")}function gC(n,e,t,r){if(t&ce.Optional&&void 0===r&&(r=null),0==(t&(ce.Self|ce.Host))){const i=n[9],o=eo(void 0);try{return i?i.get(e,r,t&ce.Optional):Bb(e,r,t&ce.Optional)}finally{eo(o)}}return pC(r,e,t)}function mC(n,e,t,r=ce.Default,i){if(null!==n){const o=function sR(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(_l)?n[_l]:void 0;return"number"==typeof e?e>=0?255&e:iR:e}(t);if("function"==typeof o){if(!rC(e,n,r))return r&ce.Host?pC(i,t,r):gC(e,t,r,i);try{const s=o(r);if(null!=s||r&ce.Optional)return s;ku(t)}finally{aC()}}else if("number"==typeof o){let s=null,a=Zp(n,e),l=-1,c=r&ce.Host?e[16][6]:null;for((-1===a||r&ce.SkipSelf)&&(l=-1===a?Qu(n,e):e[a+8],-1!==l&&_C(r,!1)?(s=e[1],a=js(l),e=Vs(l,e)):a=-1);-1!==a;){const u=e[1];if(yC(o,a,u.data)){const d=oR(a,e,t,s,r,c);if(d!==vC)return d}l=e[a+8],-1!==l&&_C(r,e[1].data[a+8]===c)&&yC(o,a,e)?(s=u,a=js(l),e=Vs(l,e)):a=-1}}}return gC(e,t,r,i)}const vC={};function iR(){return new Hs(Ot(),T())}function oR(n,e,t,r,i,o){const s=e[1],a=s.data[n+8],u=Xu(a,s,t,null==r?Bu(a)&&qp:r!=s&&0!=(3&a.type),i&ce.Host&&o===a);return null!==u?Il(e,s,u,a):vC}function Xu(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,u=o>>20,f=i?a+u:n.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=s[h];if(h<l&&t===p||h>=l&&p.type===t)return h}if(i){const h=s[l];if(h&&Sr(h)&&h.type===t)return l}return null}function Il(n,e,t,r){let i=n[t];const o=e.data;if(function YN(n){return n instanceof wl}(i)){const s=i;s.resolving&&function X1(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new we(-200,`Circular dependency in DI detected for ${n}${t}`)}(gn(o[t]));const a=Yu(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?eo(s.injectImpl):null;rC(n,r,ce.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function KN(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Gb(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==l&&eo(l),Yu(a),s.resolving=!1,aC()}}return i}function yC(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function _C(n,e){return!(n&ce.Self||n&ce.Host&&e)}class Hs{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return mC(this._tNode,this._lView,e,r,t)}}function jt(n){return to(()=>{const e=n.prototype.constructor,t=e[Mi]||Yp(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Mi]||Yp(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Yp(n){return Rb(n)?()=>{const e=Yp(de(n));return e&&e()}:qo(n)}const zs="__parameters__";function $s(n,e,t){return to(()=>{const r=function Qp(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(zs)?l[zs]:Object.defineProperty(l,zs,{value:[]})[zs];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class G{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=$({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const lR=new G("AnalyzeForEntryComponents");function ir(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),ir(r,e)):e!==n&&e.push(r)}return e}function Zr(n,e){n.forEach(t=>Array.isArray(t)?Zr(t,e):e(t))}function CC(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ed(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Ol(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Un(n,e,t){let r=Gs(n,e);return r>=0?n[1|r]=t:(r=~r,function dR(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Xp(n,e){const t=Gs(n,e);if(t>=0)return n[1|t]}function Gs(n,e){return function wC(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const kl={},tg="__NG_DI_FLAG__",nd="ngTempTokenPath",yR=/\n/gm,MC="__source",bR=We({provide:String,useValue:We});let Nl;function IC(n){const e=Nl;return Nl=n,e}function CR(n,e=ce.Default){if(void 0===Nl)throw new we(203,"");return null===Nl?Bb(n,void 0,e):Nl.get(n,e&ce.Optional?null:void 0,e)}function R(n,e=ce.Default){return(function sN(){return wp}()||CR)(de(n),e)}function ng(n){const e=[];for(let t=0;t<n.length;t++){const r=de(n[t]);if(Array.isArray(r)){if(0===r.length)throw new we(900,"");let i,o=ce.Default;for(let s=0;s<r.length;s++){const a=r[s],l=DR(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(R(i,o))}else e.push(R(r))}return e}function Rl(n,e){return n[tg]=e,n.prototype[tg]=e,n}function DR(n){return n[tg]}const qs=Rl($s("Inject",n=>({token:n})),-1),Yr=Rl($s("Optional"),8),Ks=Rl($s("SkipSelf"),4);let id,od;function Ys(n){var e;return(null===(e=function ig(){if(void 0===id&&(id=null,He.trustedTypes))try{id=He.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return id}())||void 0===e?void 0:e.createHTML(n))||n}function NC(n){var e;return(null===(e=function og(){if(void 0===od&&(od=null,He.trustedTypes))try{od=He.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return od}())||void 0===e?void 0:e.createHTML(n))||n}class Ko{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class PR extends Ko{getTypeName(){return"HTML"}}class FR extends Ko{getTypeName(){return"Style"}}class LR extends Ko{getTypeName(){return"Script"}}class BR extends Ko{getTypeName(){return"URL"}}class jR extends Ko{getTypeName(){return"ResourceURL"}}function zn(n){return n instanceof Ko?n.changingThisBreaksApplicationSecurity:n}function Qr(n,e){const t=FC(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function FC(n){return n instanceof Ko&&n.getTypeName()||null}class $R{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Ys(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class GR{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Ys(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Ys(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const s=t.item(i).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const KR=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ZR=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Fl(n){return(n=String(n)).match(KR)||n.match(ZR)?n:"unsafe:"+n}function BC(n){return(n=String(n)).split(",").map(e=>Fl(e.trim())).join(", ")}function Jr(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Ll(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const jC=Jr("area,br,col,hr,img,wbr"),VC=Jr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),HC=Jr("rp,rt"),sg=Ll(jC,Ll(VC,Jr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ll(HC,Jr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ll(HC,VC)),ag=Jr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lg=Jr("srcset"),UC=Ll(ag,lg,Jr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Jr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),YR=Jr("script,style,template");class QR{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!sg.hasOwnProperty(t))return this.sanitizedSomething=!0,!YR.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!UC.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;ag[a]&&(l=Fl(l)),lg[a]&&(l=BC(l)),this.buf.push(" ",s,'="',zC(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();sg.hasOwnProperty(t)&&!jC.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(zC(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const JR=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,XR=/([^\#-~ |!])/g;function zC(n){return n.replace(/&/g,"&amp;").replace(JR,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(XR,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sd;function WC(n,e){let t=null;try{sd=sd||function LC(n){const e=new GR(n);return function qR(){try{return!!(new window.DOMParser).parseFromString(Ys(""),"text/html")}catch(n){return!1}}()?new $R(e):e}(n);let r=e?String(e):"";t=sd.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=sd.getInertBodyElement(r)}while(r!==o);return Ys((new QR).sanitizeChildren(cg(t)||t))}finally{if(t){const r=cg(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function cg(n){return"content"in n&&function eP(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ze=(()=>((Ze=Ze||{})[Ze.NONE=0]="NONE",Ze[Ze.HTML=1]="HTML",Ze[Ze.STYLE=2]="STYLE",Ze[Ze.SCRIPT=3]="SCRIPT",Ze[Ze.URL=4]="URL",Ze[Ze.RESOURCE_URL=5]="RESOURCE_URL",Ze))();function ug(n){const e=Bl();return e?NC(e.sanitize(Ze.HTML,n)||""):Qr(n,"HTML")?NC(zn(n)):WC(Pp(),ae(n))}function so(n){const e=Bl();return e?e.sanitize(Ze.URL,n)||"":Qr(n,"URL")?zn(n):Fl(ae(n))}function Bl(){const n=T();return n&&n[12]}const qC="__ngContext__";function nn(n,e){n[qC]=e}function fg(n){const e=function jl(n){return n[qC]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function pg(n){return n.ngOriginalError}function mP(n,...e){n.error(...e)}class Qs{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function gP(n){return n&&n.ngErrorLogger||mP}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&pg(e);for(;t&&pg(t);)t=pg(t);return t||null}}const JC=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(He))();function Xr(n){return n instanceof Function?n():n}var Wn=(()=>((Wn=Wn||{})[Wn.Important=1]="Important",Wn[Wn.DashCase=2]="DashCase",Wn))();function mg(n,e){return undefined(n,e)}function Vl(n){const e=n[3];return wr(e)?e[3]:e}function vg(n){return rD(n[13])}function yg(n){return rD(n[4])}function rD(n){for(;null!==n&&!wr(n);)n=n[4];return n}function Xs(n,e,t,r,i){if(null!=r){let o,s=!1;wr(r)?o=r:qr(r)&&(s=!0,r=r[0]);const a=wt(r);0===n&&null!==t?null==i?cD(e,t,a):Zo(e,t,a,i||null,!0):1===n&&null!==t?Zo(e,t,a,i||null,!0):2===n?function mD(n,e,t){const r=ad(n,e);r&&function jP(n,e,t,r){dt(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function UP(n,e,t,r,i){const o=t[7];o!==wt(t)&&Xs(e,n,r,o,i);for(let a=10;a<t.length;a++){const l=t[a];Hl(l[1],l,n,e,r,o)}}(e,n,o,t,i)}}function bg(n,e,t){if(dt(n))return n.createElement(e,t);{const r=null!==t?function SN(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?n.createElement(e):n.createElementNS(r,e)}}function oD(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Bp(i,-1)),t.splice(r,1)}function Cg(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&oD(i,r),e>0&&(n[t-1][4]=r[4]);const o=ed(n,10+e);!function OP(n,e){Hl(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function sD(n,e){if(!(256&e[2])){const t=e[11];dt(t)&&t.destroyNode&&Hl(n,e,t,3,null,null),function RP(n){let e=n[13];if(!e)return Dg(n[1],n);for(;e;){let t=null;if(qr(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)qr(e)&&Dg(e[1],e),e=e[3];null===e&&(e=n),qr(e)&&Dg(e[1],e),t=e&&e[4]}e=t}}(e)}}function Dg(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function BP(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof wl)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,e),function LP(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+1],a="function"==typeof s?s(e):wt(e[s]),l=r[i=t[o+2]],c=t[o+3];"boolean"==typeof c?a.removeEventListener(t[o],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{const s=r[i=t[o+1]];t[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)r[o]();e[7]=null}}(n,e),1===e[1].type&&dt(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&wr(e[3])){t!==e[3]&&oD(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function aD(n,e,t){return function lD(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===Gr.None||i===Gr.Emulated)return null}return rr(r,t)}(n,e.parent,t)}function Zo(n,e,t,r,i){dt(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function cD(n,e,t){dt(n)?n.appendChild(e,t):e.appendChild(t)}function uD(n,e,t,r,i){null!==r?Zo(n,e,t,r,i):cD(n,e,t)}function ad(n,e){return dt(n)?n.parentNode(e):e.parentNode}function dD(n,e,t){return hD(n,e,t)}let hD=function fD(n,e,t){return 40&n.type?rr(n,t):null};function ld(n,e,t,r){const i=aD(n,r,e),o=e[11],a=dD(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)uD(o,i,t[l],a,!1);else uD(o,i,t,a,!1)}function cd(n,e){if(null!==e){const t=e.type;if(3&t)return rr(e,n);if(4&t)return wg(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return cd(n,r);{const i=n[e.index];return wr(i)?wg(-1,i):wt(i)}}if(32&t)return mg(e,n)()||wt(n[e.index]);{const r=gD(n,e);return null!==r?Array.isArray(r)?r[0]:cd(Vl(n[16]),r):cd(n,e.next)}}return null}function gD(n,e){return null!==e?n[16][6].projection[e.projection]:null}function wg(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return cd(r,i)}return e[7]}function Sg(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],l=t.type;if(s&&0===e&&(a&&nn(wt(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)Sg(n,e,t.child,r,i,o,!1),Xs(e,n,i,a,o);else if(32&l){const c=mg(t,r);let u;for(;u=c();)Xs(e,n,i,u,o);Xs(e,n,i,a,o)}else 16&l?vD(n,e,r,t,i,o):Xs(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Hl(n,e,t,r,i,o){Sg(t,r,n.firstChild,e,i,o,!1)}function vD(n,e,t,r,i,o){const s=t[16],l=s[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Xs(e,n,i,l[c],o);else Sg(n,e,l,s[3],i,o,!0)}function yD(n,e,t){dt(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Mg(n,e,t){dt(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function _D(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const bD="ng-template";function WP(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==_D(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function CD(n){return 4===n.type&&n.value!==bD}function $P(n,e,t){return e===(4!==n.type||t?n.value:bD)}function GP(n,e,t){let r=4;const i=n.attrs||[],o=function ZP(n){for(let e=0;e<n.length;e++)if(cC(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!$P(n,l,t)||""===l&&1===e.length){if(Mr(r))return!1;s=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!WP(n.attrs,c,t)){if(Mr(r))return!1;s=!0}continue}const d=qP(8&r?"class":l,i,CD(n),t);if(-1===d){if(Mr(r))return!1;s=!0;continue}if(""!==c){let f;f=d>o?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==_D(h,c,0)||2&r&&c!==f){if(Mr(r))return!1;s=!0}}}}else{if(!s&&!Mr(r)&&!Mr(l))return!1;if(s&&Mr(l))continue;s=!1,r=l|1&r}}return Mr(r)||s}function Mr(n){return 0==(1&n)}function qP(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function YP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function DD(n,e,t=!1){for(let r=0;r<e.length;r++)if(GP(n,e[r],t))return!0;return!1}function QP(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function ED(n,e){return n?":not("+e.trim()+")":e}function JP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Mr(s)&&(e+=ED(o,i),i=""),r=s,o=o||!Mr(r);t++}return""!==i&&(e+=ED(o,i)),e}const le={};function N(n){wD(Se(),T(),yn()+n,Hu())}function wD(n,e,t,r){if(!r)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&Gu(e,o,t)}else{const o=n.preOrderHooks;null!==o&&qu(e,o,0,t)}io(t)}function ud(n,e){return n<<17|e<<2}function Ir(n){return n>>17&32767}function Ig(n){return 2|n}function xi(n){return(131068&n)>>2}function Tg(n,e){return-131069&n|e<<2}function xg(n){return 1|n}function PD(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],o=t[r+1];if(-1!==o){const s=n.data[o];zp(i),s.contentQueries(2,e[o],o)}}}function Ul(n,e,t,r,i,o,s,a,l,c){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,Qb(u),u[3]=u[15]=n,u[8]=t,u[10]=s||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=o,u[16]=2==e.type?n[16]:u,u}function ea(n,e,t,r,i){let o=n.data[e];if(null===o)o=function Bg(n,e,t,r,i){const o=Xb(),s=jp(),l=n.data[e]=function mF(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,e,t,r,i),function LN(){return te.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function El(){const n=te.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Kr(o,!0),o}function ta(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function zl(n,e,t){zu(e);try{const r=n.viewQuery;null!==r&&qg(1,r,t);const i=n.template;null!==i&&FD(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&PD(n,e),n.staticViewQueries&&qg(2,n.viewQuery,t);const o=n.components;null!==o&&function hF(n,e){for(let t=0;t<e.length;t++)RF(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Wu()}}function na(n,e,t,r){const i=e[2];if(256==(256&i))return;zu(e);const o=Hu();try{Qb(e),function eC(n){return te.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&FD(n,e,t,2,r);const s=3==(3&i);if(!o)if(s){const c=n.preOrderCheckHooks;null!==c&&Gu(e,c,null)}else{const c=n.preOrderHooks;null!==c&&qu(e,c,0,null),Wp(e,0)}if(function kF(n){for(let e=vg(n);null!==e;e=yg(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],o=i[3];0==(1024&i[2])&&Bp(o,1),i[2]|=1024}}}(e),function OF(n){for(let e=vg(n);null!==e;e=yg(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Lp(r)&&na(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&PD(n,e),!o)if(s){const c=n.contentCheckHooks;null!==c&&Gu(e,c)}else{const c=n.contentHooks;null!==c&&qu(e,c,1),Wp(e,1)}!function dF(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)io(~i);else{const o=i,s=t[++r],a=t[++r];BN(s,o),a(2,e[o])}}}finally{io(-1)}}(n,e);const a=n.components;null!==a&&function fF(n,e){for(let t=0;t<e.length;t++)NF(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&qg(2,l,r),!o)if(s){const c=n.viewCheckHooks;null!==c&&Gu(e,c)}else{const c=n.viewHooks;null!==c&&qu(e,c,2),Wp(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Bp(e[3],-1))}finally{Wu()}}function pF(n,e,t,r){const i=e[10],o=!Hu(),s=Yb(e);try{o&&!s&&i.begin&&i.begin(),s&&zl(n,e,r),na(n,e,t,r)}finally{o&&!s&&i.end&&i.end()}}function FD(n,e,t,r,i){const o=yn(),s=2&r;try{io(-1),s&&e.length>20&&wD(n,e,20,Hu()),t(r,i)}finally{io(o)}}function LD(n,e,t){if(xp(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function jg(n,e,t){!Jb()||(function EF(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;n.firstCreatePass||Ml(t,e),nn(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const l=n.data[a],c=Sr(l);c&&TF(e,t,l);const u=Il(e,n,a,t);nn(u,e),null!==s&&xF(0,a-i,u,l,0,s),c&&(Hn(t.index,e)[8]=u)}}(n,e,t,rr(t,e)),128==(128&t.flags)&&function wF(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,a=function jN(){return te.lFrame.currentDirectiveIndex}();try{io(s);for(let l=r;l<i;l++){const c=n.data[l],u=e[l];Hp(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&$D(c,u)}}finally{io(-1),Hp(a)}}(n,e,t))}function Vg(n,e,t=rr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function BD(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=hd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function hd(n,e,t,r,i,o,s,a,l,c){const u=20+r,d=u+i,f=function gF(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:le);return t}(u,d),h="function"==typeof c?c():c;return f[1]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:h,incompleteFirstPass:!1}}function HD(n,e,t,r){const i=QD(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&JD(n).push(r,i.length-1))}function UD(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function Hg(n,e,t,r){let i=!1;if(Jb()){const o=function SF(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];DD(t,s.selectors,!1)&&(i||(i=[]),Ju(Ml(t,e),n,s.type),Sr(s)?(GD(n,t),i.unshift(s)):i.push(s))}return i}(n,e,t),s=null===r?null:{"":-1};if(null!==o){i=!0,qD(t,n.data.length,o.length);for(let u=0;u<o.length;u++){const d=o[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=ta(n,e,o.length,null);for(let u=0;u<o.length;u++){const d=o[u];t.mergedAttrs=Zu(t.mergedAttrs,d.hostAttrs),KD(n,t,e,c,d),IF(c,d,s),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const f=d.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function vF(n,e){const r=e.directiveEnd,i=n.data,o=e.attrs,s=[];let a=null,l=null;for(let c=e.directiveStart;c<r;c++){const u=i[c],d=u.inputs,f=null===o||CD(e)?null:AF(d,o);s.push(f),a=UD(d,c,a),l=UD(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=l}(n,t)}s&&function MF(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new we(-301,!1);r.push(e[i],o)}}}(t,r,s)}return t.mergedAttrs=Zu(t.mergedAttrs,t.attrs),i}function WD(n,e,t,r,i,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function DF(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,s)}}function $D(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function GD(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function IF(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Sr(e)&&(t[""]=n)}}function qD(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function KD(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=qo(i.type)),s=new wl(o,Sr(i),null);n.blueprint[r]=s,t[r]=s,WD(n,e,0,r,ta(n,t,i.hostVars,le),i)}function TF(n,e,t){const r=rr(e,n),i=BD(t),o=n[10],s=pd(n,Ul(n,i,null,t.onPush?64:16,r,e,o,o.createRenderer(r,t),null,null));n[e.index]=s}function ei(n,e,t,r,i,o){const s=rr(n,e);!function Ug(n,e,t,r,i,o,s){if(null==o)dt(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==s?ae(o):s(o,r||"",i);dt(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[11],s,o,n.value,t,r,i)}function xF(n,e,t,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],d=s[l++];null!==a?r.setInput(t,d,c,u):t[u]=d}}}function AF(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function ZD(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function NF(n,e){const t=Hn(e,n);if(Lp(t)){const r=t[1];80&t[2]?na(r,t,r.template,t[8]):t[5]>0&&zg(t)}}function zg(n){for(let r=vg(n);null!==r;r=yg(r))for(let i=10;i<r.length;i++){const o=r[i];if(1024&o[2]){const s=o[1];na(s,o,s.template,o[8])}else o[5]>0&&zg(o)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Hn(t[r],n);Lp(i)&&i[5]>0&&zg(i)}}function RF(n,e){const t=Hn(e,n),r=t[1];(function PF(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),zl(r,t,t[8])}function pd(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Wg(n){for(;n;){n[2]|=64;const e=Vl(n);if(mN(n)&&!e)return n;n=e}return null}function Gg(n,e,t){const r=e[10];r.begin&&r.begin();try{na(n,e,n.template,t)}catch(i){throw e0(e,i),i}finally{r.end&&r.end()}}function YD(n){!function $g(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=fg(t),i=r[1];pF(i,r,i.template,t)}}(n[8])}function qg(n,e,t){zp(0),e(n,t)}const jF=(()=>Promise.resolve(null))();function QD(n){return n[7]||(n[7]=[])}function JD(n){return n.cleanup||(n.cleanup=[])}function e0(n,e){const t=n[9],r=t?t.get(Qs,null):null;r&&r.handleError(e)}function t0(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],l=e[s],c=n.data[s];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function Ai(n,e,t){const r=Vu(e,n);!function iD(n,e,t){dt(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function gd(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=bp(i,a):2==o&&(r=bp(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const Kg=new G("INJECTOR",-1);class n0{get(e,t=kl){if(t===kl){const r=new Error(`NullInjectorError: No provider for ${Fe(e)}!`);throw r.name="NullInjectorError",r}return t}}const Zg=new G("Set Injector scope."),Wl={},UF={};let Yg;function r0(){return void 0===Yg&&(Yg=new n0),Yg}function o0(n,e=null,t=null,r){const i=s0(n,e,t,r);return i._resolveInjectorDefTypes(),i}function s0(n,e=null,t=null,r){return new zF(n,t,e||r0(),r)}class zF{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];t&&Zr(t,a=>this.processProvider(a,e,t)),Zr([e],a=>this.processInjectorType(a,[],o)),this.records.set(Kg,ra(void 0,this));const s=this.records.get(Zg);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof e?null:Fe(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=kl,r=ce.Default){this.assertNotDestroyed();const i=IC(this),o=eo(void 0);try{if(!(r&ce.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function QF(n){return"function"==typeof n||"object"==typeof n&&n instanceof G}(e)&&Dp(e);a=l&&this.injectableDefInScope(l)?ra(Qg(e),Wl):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&ce.Self?r0():this.parent).get(e,t=r&ce.Optional&&t===kl?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[nd]=s[nd]||[]).unshift(Fe(e)),i)throw s;return function ER(n,e,t,r){const i=n[nd];throw e[MC]&&i.unshift(e[MC]),n.message=function wR(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=Fe(e);if(Array.isArray(e))i=e.map(Fe).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Fe(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(yR,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[nd]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{eo(o),IC(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(Fe(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processInjectorType(e,t,r){if(!(e=de(e)))return!1;let i=Fb(e);const o=null==i&&e.ngModule||void 0,s=void 0===o?e:o,a=-1!==r.indexOf(s);if(void 0!==o&&(i=Fb(o)),null==i)return!1;if(null!=i.imports&&!a){let u;r.push(s);try{Zr(i.imports,d=>{this.processInjectorType(d,t,r)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:f,providers:h}=u[d];Zr(h,p=>this.processProvider(p,f,h||$e))}}this.injectorDefTypes.add(s);const l=qo(s)||(()=>new s);this.records.set(s,ra(l,Wl));const c=i.providers;if(null!=c&&!a){const u=e;Zr(c,d=>this.processProvider(d,u,c))}return void 0!==o&&void 0!==e.providers}processProvider(e,t,r){let i=ia(e=de(e))?e:de(e&&e.provide);const o=function $F(n,e,t){return l0(n)?ra(void 0,n.useValue):ra(a0(n),Wl)}(e);if(ia(e)||!0!==e.multi)this.records.get(i);else{let s=this.records.get(i);s||(s=ra(void 0,Wl,!0),s.factory=()=>ng(s.multi),this.records.set(i,s)),i=e,s.multi.push(e)}this.records.set(i,o)}hydrate(e,t){return t.value===Wl&&(t.value=UF,t.value=t.factory()),"object"==typeof t.value&&t.value&&function YF(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=de(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Qg(n){const e=Dp(n),t=null!==e?e.factory:qo(n);if(null!==t)return t;if(n instanceof G)throw new we(204,!1);if(n instanceof Function)return function WF(n){const e=n.length;if(e>0)throw Ol(e,"?"),new we(204,!1);const t=function rN(n){const e=n&&(n[Nu]||n[Lb]);if(e){const t=function iN(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new we(204,!1)}function a0(n,e,t){let r;if(ia(n)){const i=de(n);return qo(i)||Qg(i)}if(l0(n))r=()=>de(n.useValue);else if(function qF(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...ng(n.deps||[]));else if(function GF(n){return!(!n||!n.useExisting)}(n))r=()=>R(de(n.useExisting));else{const i=de(n&&(n.useClass||n.provide));if(!function ZF(n){return!!n.deps}(n))return qo(i)||Qg(i);r=()=>new i(...ng(n.deps))}return r}function ra(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function l0(n){return null!==n&&"object"==typeof n&&bR in n}function ia(n){return"function"==typeof n}let yt=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return o0({name:""},r,t,"");{const o=null!==(i=t.name)&&void 0!==i?i:"";return o0({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=kl,n.NULL=new n0,n.\u0275prov=$({token:n,providedIn:"any",factory:()=>R(Kg)}),n.__NG_ELEMENT_ID__=-1,n})();function oL(n,e){$u(fg(n)[1],Ot())}function xe(n){let e=function b0(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Sr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new we(903,"");i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=em(n.inputs),s.declaredInputs=em(n.declaredInputs),s.outputs=em(n.outputs);const a=i.hostBindings;a&&cL(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&aL(n,l),c&&lL(n,c),_p(n.inputs,i.inputs),_p(n.declaredInputs,i.declaredInputs),_p(n.outputs,i.outputs),Sr(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===xe&&(t=!1)}}e=Object.getPrototypeOf(e)}!function sL(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Zu(i.hostAttrs,t=Zu(t,i.hostAttrs))}}(r)}function em(n){return n===ks?{}:n===$e?[]:n}function aL(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function lL(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function cL(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let md=null;function oa(){if(!md){const n=He.Symbol;if(n&&n.iterator)md=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(md=r)}}}return md}function $l(n){return!!tm(n)&&(Array.isArray(n)||!(n instanceof Map)&&oa()in n)}function tm(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ti(n,e,t){return n[e]=t}function rn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Yo(n,e,t,r){const i=rn(n,e,t);return rn(n,e+1,r)||i}function Gn(n,e,t,r){const i=T();return rn(i,Bs(),e)&&(Se(),ei(ft(),i,n,e,t,r)),Gn}function q(n,e,t,r,i,o,s,a){const l=T(),c=Se(),u=n+20,d=c.firstCreatePass?function mL(n,e,t,r,i,o,s,a,l){const c=e.consts,u=ea(e,n,4,s||null,ro(c,a));Hg(e,t,u,ro(c,l)),$u(e,u);const d=u.tViews=hd(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,o,s):c.data[u];Kr(d,!1);const f=l[11].createComment("");ld(c,l,f,d),nn(f,l),pd(l,l[u]=ZD(f,l,f,d)),ju(d)&&jg(c,l,d),null!=s&&Vg(l,d,a)}function co(n){return Ls(function FN(){return te.lFrame.contextLView}(),20+n)}function w(n,e=ce.Default){const t=T();return null===t?R(n,e):mC(Ot(),t,de(n),e)}function sm(){throw new Error("invalid")}function k(n,e,t){const r=T();return rn(r,Bs(),e)&&function $n(n,e,t,r,i,o,s,a){const l=rr(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(t0(n,t,u,r,i),Bu(e)&&function _F(n,e){const t=Hn(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function yF(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,dt(o)?o.setProperty(l,r,i):Gp(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}(Se(),ft(),r,n,e,r[11],t,!1),k}function am(n,e,t,r,i){const s=i?"class":"style";t0(n,t,e.inputs[s],s,r)}function H(n,e,t,r){const i=T(),o=Se(),s=20+n,a=i[11],l=i[s]=bg(a,e,function qN(){return te.lFrame.currentNamespace}()),c=o.firstCreatePass?function LL(n,e,t,r,i,o,s){const a=e.consts,c=ea(e,n,2,i,ro(a,o));return Hg(e,t,c,ro(a,s)),null!==c.attrs&&gd(c,c.attrs,!1),null!==c.mergedAttrs&&gd(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,0,e,t,r):o.data[s];Kr(c,!0);const u=c.mergedAttrs;null!==u&&Ku(a,l,u);const d=c.classes;null!==d&&Mg(a,l,d);const f=c.styles;return null!==f&&yD(a,l,f),64!=(64&c.flags)&&ld(o,i,l,c),0===function ON(){return te.lFrame.elementDepthCount}()&&nn(l,i),function kN(){te.lFrame.elementDepthCount++}(),ju(c)&&(jg(o,i,c),LD(o,c,i)),null!==r&&Vg(i,c),H}function W(){let n=Ot();jp()?Vp():(n=n.parent,Kr(n,!1));const e=n;!function NN(){te.lFrame.elementDepthCount--}();const t=Se();return t.firstCreatePass&&($u(t,n),xp(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function JN(n){return 0!=(16&n.flags)}(e)&&am(t,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function XN(n){return 0!=(32&n.flags)}(e)&&am(t,e,T(),e.stylesWithoutHost,!1),W}function $t(n,e,t,r){return H(n,e,t,r),W(),$t}function Oi(n,e,t){const r=T(),i=Se(),o=n+20,s=i.firstCreatePass?function BL(n,e,t,r,i){const o=e.consts,s=ro(o,r),a=ea(e,n,8,"ng-container",s);return null!==s&&gd(a,s,!0),Hg(e,t,a,ro(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,t):i.data[o];Kr(s,!0);const a=r[o]=r[11].createComment("");return ld(i,r,a,s),nn(a,r),ju(s)&&(jg(i,r,s),LD(i,s,r)),null!=t&&Vg(r,s),Oi}function ki(){let n=Ot();const e=Se();return jp()?Vp():(n=n.parent,Kr(n,!1)),e.firstCreatePass&&($u(e,n),xp(n)&&e.queries.elementEnd(n)),ki}function bn(n,e,t){return Oi(n,e,t),ki(),bn}function ni(){return T()}function ql(n){return!!n&&"function"==typeof n.then}const lm=function V0(n){return!!n&&"function"==typeof n.subscribe};function Le(n,e,t,r){const i=T(),o=Se(),s=Ot();return function U0(n,e,t,r,i,o,s,a){const l=ju(r),u=n.firstCreatePass&&JD(n),d=e[8],f=QD(e);let h=!0;if(3&r.type||a){const m=rr(r,e),y=a?a(m):m,v=f.length,b=a?_=>a(wt(_[r.index])):r.index;if(dt(t)){let _=null;if(!a&&l&&(_=function jL(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[7],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==_)(_.__ngLastListenerFn__||_).__ngNextListenerFn__=o,_.__ngLastListenerFn__=o,h=!1;else{o=cm(r,e,d,o,!1);const C=t.listen(y,i,o);f.push(o,C),u&&u.push(i,b,v,v+1)}}else o=cm(r,e,d,o,!0),y.addEventListener(i,o,s),f.push(o),u&&u.push(i,b,v,s)}else o=cm(r,e,d,o,!1);const p=r.outputs;let g;if(h&&null!==p&&(g=p[i])){const m=g.length;if(m)for(let y=0;y<m;y+=2){const D=e[g[y]][g[y+1]].subscribe(o),I=f.length;f.push(o,D),u&&u.push(i,r.index,I,-(I+1))}}}(o,i,i[11],s,n,e,!!t,r),Le}function z0(n,e,t,r){try{return!1!==t(r)}catch(i){return e0(n,i),!1}}function cm(n,e,t,r,i){return function o(s){if(s===Function)return r;const a=2&n.flags?Hn(n.index,e):e;0==(32&e[2])&&Wg(a);let l=z0(e,0,r,s),c=o.__ngNextListenerFn__;for(;c;)l=z0(e,0,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function U(n=1){return function HN(n){return(te.lFrame.contextLView=function UN(n,e){for(;n>0;)e=e[15],n--;return e}(n,te.lFrame.contextLView))[8]}(n)}function VL(n,e){let t=null;const r=function KP(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?DD(n,o,!0):QP(r,o))return i}else t=i}return t}function ma(n){const e=T()[16][6];if(!e.projection){const r=e.projection=Ol(n?n.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=n?VL(o,n):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function Ni(n,e=0,t){const r=T(),i=Se(),o=ea(i,20+n,16,null,t||null);null===o.projection&&(o.projection=e),Vp(),64!=(64&o.flags)&&function HP(n,e,t){vD(e[11],0,e,t,aD(n,t,e),dD(t.parent||e[6],t,e))}(i,r,o)}function X0(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?Ir(o):xi(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];zL(n[a],e)&&(l=!0,n[a+1]=r?xg(u):Ig(u)),a=r?Ir(u):xi(u)}l&&(n[t+1]=r?Ig(o):xg(o))}function zL(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Gs(n,e)>=0}const Nt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function eE(n){return n.substring(Nt.key,Nt.keyEnd)}function tE(n,e){const t=Nt.textEnd;return t===e?-1:(e=Nt.keyEnd=function qL(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Nt.key=e,t),va(n,e,t))}function va(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Kl(n,e){return function xr(n,e,t,r){const i=T(),o=Se(),s=Ti(2);o.firstUpdatePass&&lE(o,n,s,r),e!==le&&rn(i,s,e)&&uE(o,o.data[yn()],i,i[11],n,i[s+1]=function rB(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Fe(zn(n)))),n}(e,t),r,s)}(n,e,null,!0),Kl}function _d(n){!function Ar(n,e,t,r){const i=Se(),o=Ti(2);i.firstUpdatePass&&lE(i,null,o,r);const s=T();if(t!==le&&rn(s,o,t)){const a=i.data[yn()];if(fE(a,r)&&!aE(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=bp(l,t||"")),am(i,a,s,t,r)}else!function nB(n,e,t,r,i,o,s,a){i===le&&(i=$e);let l=0,c=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const f=l<i.length?i[l+1]:void 0,h=c<o.length?o[c+1]:void 0;let g,p=null;u===d?(l+=2,c+=2,f!==h&&(p=d,g=h)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,g=h),null!==p&&uE(n,e,t,r,p,g,s,a),u=l<i.length?i[l]:null,d=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function tB(n,e,t){if(null==t||""===t)return $e;const r=[],i=zn(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,o)}}(Un,ii,n,!0)}function ii(n,e){for(let t=function $L(n){return function rE(n){Nt.key=0,Nt.keyEnd=0,Nt.value=0,Nt.valueEnd=0,Nt.textEnd=n.length}(n),tE(n,va(n,0,Nt.textEnd))}(e);t>=0;t=tE(e,t))Un(n,eE(e),!0)}function aE(n,e){return e>=n.expandoStartIndex}function lE(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[yn()],s=aE(n,t);fE(o,r)&&null===e&&!s&&(e=!1),e=function QL(n,e,t,r){const i=function Up(n){const e=te.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Zl(t=dm(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=dm(i,n,e,t,r),null===o){let l=function JL(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==xi(r))return n[Ir(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=dm(null,n,e,l[1],r),l=Zl(l,e.attrs,r),function XL(n,e,t,r){n[Ir(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else o=function eB(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Zl(r,n[o].hostAttrs,t);return Zl(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function HL(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ir(s),l=xi(s);n[r]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||Gs(d,u)>0)&&(c=!0)}else u=t;if(i)if(0!==l){const f=Ir(n[a+1]);n[r+1]=ud(f,a),0!==f&&(n[f+1]=Tg(n[f+1],r)),n[a+1]=function tF(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=ud(a,0),0!==a&&(n[a+1]=Tg(n[a+1],r)),a=r;else n[r+1]=ud(l,0),0===a?a=r:n[l+1]=Tg(n[l+1],r),l=r;c&&(n[r+1]=Ig(n[r+1])),X0(n,u,r,!0),X0(n,u,r,!1),function UL(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Gs(o,e)>=0&&(t[r+1]=xg(t[r+1]))}(e,u,n,r,o),s=ud(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}function dm(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=Zl(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Zl(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Un(n,s,!!t||e[++o]))}return void 0===n?null:n}function uE(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];bd(function ID(n){return 1==(1&n)}(c)?dE(l,e,t,i,xi(c),s):void 0)||(bd(o)||function MD(n){return 2==(2&n)}(c)&&(o=dE(l,null,t,i,a,s)),function zP(n,e,t,r,i){const o=dt(n);if(e)i?o?n.addClass(t,r):t.classList.add(r):o?n.removeClass(t,r):t.classList.remove(r);else{let s=-1===r.indexOf("-")?void 0:Wn.DashCase;if(null==i)o?n.removeStyle(t,r,s):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),s|=Wn.Important),o?n.setStyle(t,r,i,s):t.style.setProperty(r,i,a?"important":"")}}}(r,s,Vu(yn(),t),i,o))}function dE(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let f=t[i+1];f===le&&(f=d?$e:void 0);let h=d?Xp(f,r):u===r?f:void 0;if(c&&!bd(h)&&(h=Xp(l,r)),bd(h)&&(a=h,s))return a;const p=n[i+1];i=s?Ir(p):xi(p)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=Xp(l,r))}return a}function bd(n){return void 0!==n}function fE(n,e){return 0!=(n.flags&(e?16:32))}function Ye(n,e=""){const t=T(),r=Se(),i=n+20,o=r.firstCreatePass?ea(r,i,1,e,null):r.data[i],s=t[i]=function _g(n,e){return dt(n)?n.createText(e):n.createTextNode(e)}(t[11],e);ld(r,t,s,o),Kr(o,!1)}function An(n){return uo("",n,""),An}function uo(n,e,t){const r=T(),i=function aa(n,e,t,r){return rn(n,Bs(),t)?e+ae(t)+r:le}(r,n,e,t);return i!==le&&Ai(r,yn(),i),uo}const Qo=void 0;var EB=["en",[["a","p"],["AM","PM"],Qo],[["AM","PM"],Qo,Qo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qo,"{1} 'at' {0}",Qo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function DB(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let ya={};function NE(n){return n in ya||(ya[n]=He.ng&&He.ng.common&&He.ng.common.locales&&He.ng.common.locales[n]),ya[n]}var L=(()=>((L=L||{})[L.LocaleId=0]="LocaleId",L[L.DayPeriodsFormat=1]="DayPeriodsFormat",L[L.DayPeriodsStandalone=2]="DayPeriodsStandalone",L[L.DaysFormat=3]="DaysFormat",L[L.DaysStandalone=4]="DaysStandalone",L[L.MonthsFormat=5]="MonthsFormat",L[L.MonthsStandalone=6]="MonthsStandalone",L[L.Eras=7]="Eras",L[L.FirstDayOfWeek=8]="FirstDayOfWeek",L[L.WeekendRange=9]="WeekendRange",L[L.DateFormat=10]="DateFormat",L[L.TimeFormat=11]="TimeFormat",L[L.DateTimeFormat=12]="DateTimeFormat",L[L.NumberSymbols=13]="NumberSymbols",L[L.NumberFormats=14]="NumberFormats",L[L.CurrencyCode=15]="CurrencyCode",L[L.CurrencySymbol=16]="CurrencySymbol",L[L.CurrencyName=17]="CurrencyName",L[L.Currencies=18]="Currencies",L[L.Directionality=19]="Directionality",L[L.PluralCase=20]="PluralCase",L[L.ExtraData=21]="ExtraData",L))();const Cd="en-US";let RE=Cd;function pm(n,e,t,r,i){if(n=de(n),Array.isArray(n))for(let o=0;o<n.length;o++)pm(n[o],e,t,r,i);else{const o=Se(),s=T();let a=ia(n)?n:de(n.provide),l=a0(n);const c=Ot(),u=1048575&c.providerIndexes,d=c.directiveStart,f=c.providerIndexes>>20;if(ia(n)||!n.multi){const h=new wl(l,i,w),p=mm(a,e,i?u:u+f,d);-1===p?(Ju(Ml(c,s),o,a),gm(o,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(h),s.push(h)):(t[p]=h,s[p]=h)}else{const h=mm(a,e,u+f,d),p=mm(a,e,u,u+f),g=h>=0&&t[h],m=p>=0&&t[p];if(i&&!m||!i&&!g){Ju(Ml(c,s),o,a);const y=function Dj(n,e,t,r,i){const o=new wl(n,t,w);return o.multi=[],o.index=e,o.componentProviders=0,iw(o,i,r&&!t),o}(i?Cj:bj,t.length,i,r,l);!i&&m&&(t[p].providerFactory=y),gm(o,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(y),s.push(y)}else gm(o,n,h>-1?h:p,iw(t[i?p:h],l,!i&&r));!i&&r&&m&&t[p].componentProviders++}}}function gm(n,e,t,r){const i=ia(e),o=function KF(n){return!!n.useClass}(e);if(i||o){const l=(o?de(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function iw(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function mm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function bj(n,e,t,r){return vm(this.multi,[])}function Cj(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Il(t,t[1],this.providerFactory.index,r);o=a.slice(0,s),vm(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],vm(i,o);return o}function vm(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Qe(n,e=[]){return t=>{t.providersResolver=(r,i)=>function _j(n,e,t){const r=Se();if(r.firstCreatePass){const i=Sr(n);pm(t,r.data,r.blueprint,i,!0),pm(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ow{}class Sj{resolveComponentFactory(e){throw function wj(n){const e=Error(`No component factory found for ${Fe(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Ri=(()=>{class n{}return n.NULL=new Sj,n})();function Mj(){return ba(Ot(),T())}function ba(n,e){return new _t(rr(n,e))}let _t=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=Mj,n})();function Ij(n){return n instanceof _t?n.nativeElement:n}class aw{}let oi=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function xj(){const n=T(),t=Hn(Ot().index,n);return function Tj(n){return n[11]}(qr(t)?t:n)}(),n})(),Aj=(()=>{class n{}return n.\u0275prov=$({token:n,providedIn:"root",factory:()=>null}),n})();class Ca{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Oj=new Ca("13.2.3"),ym={};function Md(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(wt(o)),wr(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&Md(l[1],l,c,r)}const s=t.type;if(8&s)Md(n,e,t.child,r);else if(32&s){const a=mg(t,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=gD(e,t);if(Array.isArray(a))r.push(...a);else{const l=Vl(e[16]);Md(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class ec{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Md(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(wr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Cg(e,r),ed(t,r))}this._attachedToViewContainer=!1}sD(this._lView[1],this._lView)}onDestroy(e){HD(this._lView[1],this._lView,null,e)}markForCheck(){Wg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Gg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function LF(n,e,t){Uu(!0);try{Gg(n,e,t)}finally{Uu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new we(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function NP(n,e){Hl(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new we(902,"");this._appRef=e}}class kj extends ec{constructor(e){super(e),this._view=e}detectChanges(){YD(this._view)}checkNoChanges(){!function BF(n){Uu(!0);try{YD(n)}finally{Uu(!1)}}(this._view)}get context(){return null}}class lw extends Ri{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=en(e);return new _m(t,this.ngModule)}}function cw(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const Rj=new G("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>JC});class _m extends ow{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function XP(n){return n.map(JP).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return cw(this.componentDef.inputs)}get outputs(){return cw(this.componentDef.outputs)}create(e,t,r,i){const o=(i=i||this.ngModule)?function Pj(n,e){return{get:(t,r,i)=>{const o=n.get(t,ym,i);return o!==ym||r===ym?o:e.get(t,r,i)}}}(e,i.injector):e,s=o.get(aw,Zb),a=o.get(Aj,null),l=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=r?function VD(n,e,t){if(dt(n))return n.selectRootElement(e,t===Gr.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(l,r,this.componentDef.encapsulation):bg(s.createRenderer(null,this.componentDef),c,function Nj(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),d=this.componentDef.onPush?576:528,f=function _0(n,e){return{components:[],scheduler:n||JC,clean:jF,playerHandler:e||null,flags:0}}(),h=hd(0,null,null,1,0,null,null,null,null,null),p=Ul(null,h,f,d,null,null,s,l,a,o);let g,m;zu(p);try{const y=function v0(n,e,t,r,i,o){const s=t[1];t[20]=n;const l=ea(s,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(gd(l,c,!0),null!==n&&(Ku(i,n,c),null!==l.classes&&Mg(i,n,l.classes),null!==l.styles&&yD(i,n,l.styles)));const u=r.createRenderer(n,e),d=Ul(t,BD(e),null,e.onPush?64:16,t[20],l,r,u,o||null,null);return s.firstCreatePass&&(Ju(Ml(l,t),s,e.type),GD(s,l),qD(l,t.length,1)),pd(t,d),t[20]=d}(u,this.componentDef,p,s,l);if(u)if(r)Ku(l,u,["ng-version",Oj.full]);else{const{attrs:v,classes:b}=function eF(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!Mr(i))break;i=o}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);v&&Ku(l,u,v),b&&b.length>0&&Mg(l,u,b.join(" "))}if(m=Fp(h,20),void 0!==t){const v=m.projection=[];for(let b=0;b<this.ngContentSelectors.length;b++){const _=t[b];v.push(null!=_?Array.from(_):null)}}g=function y0(n,e,t,r,i){const o=t[1],s=function CF(n,e,t){const r=Ot();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),KD(n,r,e,ta(n,e,1,null),t));const i=Il(e,n,r.directiveStart,r);nn(i,e);const o=rr(r,e);return o&&nn(o,e),i}(o,t,e);if(r.components.push(s),n[8]=s,i&&i.forEach(l=>l(s,e)),e.contentQueries){const l=Ot();e.contentQueries(1,s,l.directiveStart)}const a=Ot();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(io(a.index),WD(t[1],a,0,a.directiveStart,a.directiveEnd,e),$D(e,s)),s}(y,this.componentDef,p,f,[oL]),zl(h,p,null)}finally{Wu()}return new Lj(this.componentType,g,ba(m,p),p,m)}}class Lj extends class Ej{}{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new kj(i),this.componentType=e}get injector(){return new Hs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Pi{}class uw{}const Da=new Map;class hw extends Pi{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new lw(this);const r=Xn(e);this._bootstrapComponents=Xr(r.bootstrap),this._r3Injector=s0(e,t,[{provide:Pi,useValue:this},{provide:Ri,useValue:this.componentFactoryResolver}],Fe(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=yt.THROW_IF_NOT_FOUND,r=ce.Default){return e===yt||e===Pi||e===Kg?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class bm extends uw{constructor(e){super(),this.moduleType=e,null!==Xn(e)&&function jj(n){const e=new Set;!function t(r){const i=Xn(r,!0),o=i.id;null!==o&&(function dw(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${Fe(e)} vs ${Fe(e.name)}`)}(o,Da.get(o),r),Da.set(o,r));const s=Xr(i.imports);for(const a of s)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new hw(this.moduleType,e)}}function Or(n,e,t,r){return gw(T(),vn(),n,e,t,r)}function Cm(n,e,t,r,i){return function mw(n,e,t,r,i,o,s){const a=e+t;return Yo(n,a,i,o)?ti(n,a+2,s?r.call(s,i,o):r(i,o)):tc(n,a+2)}(T(),vn(),n,e,t,r,i)}function tc(n,e){const t=n[e];return t===le?void 0:t}function gw(n,e,t,r,i,o){const s=e+t;return rn(n,s,i)?ti(n,s+1,o?r.call(o,i):r(i)):tc(n,s+1)}function vw(n,e,t,r,i,o,s,a){const l=e+t;return function vd(n,e,t,r,i){const o=Yo(n,e,t,r);return rn(n,e+2,i)||o}(n,l,i,o,s)?ti(n,l+3,a?r.call(a,i,o,s):r(i,o,s)):tc(n,l+3)}function Id(n,e){const t=Se();let r;const i=n+20;t.firstCreatePass?(r=function qj(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=qo(r.type)),s=eo(w);try{const a=Yu(!1),l=o();return Yu(a),function vL(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,T(),i,l),l}finally{eo(s)}}function Dm(n,e,t){const r=n+20,i=T(),o=Ls(i,r);return nc(i,r)?gw(i,vn(),e,o.transform,t,o):o.transform(t)}function nc(n,e){return n[1].data[e].pure}function Em(n){return e=>{setTimeout(n,void 0,e)}}const Ae=class Qj extends Me{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,o,s;let a=e,l=t||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),l=null===(o=d.error)||void 0===o?void 0:o.bind(d),c=null===(s=d.complete)||void 0===s?void 0:s.bind(d)}this.__isAsync&&(l=Em(l),a&&(a=Em(a)),c&&(c=Em(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof ke&&e.add(u),u}};function Jj(){return this._results[oa()]()}class rc{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=oa(),r=rc.prototype;r[t]||(r[t]=Jj)}get changes(){return this._changes||(this._changes=new Ae)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=ir(e);(this._changesDetected=!function cR(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let si=(()=>{class n{}return n.__NG_ELEMENT_ID__=tV,n})();const Xj=si,eV=class extends Xj{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=Ul(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(t)),zl(t,r,e),new ec(r)}};function tV(){return Td(Ot(),T())}function Td(n,e){return 4&n.type?new eV(e,n,ba(n,e)):null}let sr=(()=>{class n{}return n.__NG_ELEMENT_ID__=nV,n})();function nV(){return Ew(Ot(),T())}const rV=sr,Cw=class extends rV{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ba(this._hostTNode,this._hostLView)}get injector(){return new Hs(this._hostTNode,this._hostLView)}get parentInjector(){const e=Qu(this._hostTNode,this._hostLView);if(dC(e)){const t=Vs(e,this._hostLView),r=js(e);return new Hs(t[1].data[r+8],t)}return new Hs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Dw(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,o){const s=e&&!function Al(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.ngModuleRef}const l=s?e:new _m(en(e)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const f=(s?c:this.parentInjector).get(Pi,null);f&&(o=f)}const u=l.create(c,i,void 0,o);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[1];if(function AN(n){return wr(n[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],f=new Cw(d,d[6],d[3]);f.detach(f.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function PP(n,e,t,r){const i=10+r,o=t.length;r>0&&(t[i-1][4]=e),r<o-10?(e[4]=t[i],CC(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function FP(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,s,o);const a=wg(o,s),l=r[11],c=ad(l,s[7]);return null!==c&&function kP(n,e,t,r,i,o){r[0]=i,r[6]=e,Hl(n,r,t,1,i,o)}(i,s[6],l,r,c,a),e.attachToViewContainerRef(),CC(wm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Dw(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Cg(this._lContainer,t);r&&(ed(wm(this._lContainer),t),sD(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Cg(this._lContainer,t);return r&&null!=ed(wm(this._lContainer),t)?new ec(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Dw(n){return n[8]}function wm(n){return n[8]||(n[8]=[])}function Ew(n,e){let t;const r=e[n.index];if(wr(r))t=r;else{let i;if(8&n.type)i=wt(r);else{const o=e[11];i=o.createComment("");const s=rr(n,e);Zo(o,ad(o,s),i,function VP(n,e){return dt(n)?n.nextSibling(e):e.nextSibling}(o,s),!1)}e[n.index]=t=ZD(r,e,i,n),pd(e,t)}return new Cw(t,n,e)}class Sm{constructor(e){this.queryList=e,this.matches=null}clone(){return new Sm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mm{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Mm(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Tw(e,t).matches&&this.queries[t].setDirty()}}class ww{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Im{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new Im(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Tm{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Tm(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,sV(t,o)),this.matchTNodeWithReadOption(e,t,Xu(t,e,o,!1,!1))}else r===si?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Xu(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===_t||i===sr||i===si&&4&t.type)this.addMatch(t.index,-2);else{const o=Xu(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function sV(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function lV(n,e,t,r){return-1===t?function aV(n,e){return 11&n.type?ba(n,e):4&n.type?Td(n,e):null}(e,n):-2===t?function cV(n,e,t){return t===_t?ba(e,n):t===si?Td(e,n):t===sr?Ew(e,n):void 0}(n,e,r):Il(n,n[1],t,e)}function Sw(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:lV(e,o[c],s[l+1],t.metadata.read))}i.matches=a}return i.matches}function xm(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=Sw(n,e,i,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const c=o[a+1],u=e[-l];for(let d=10;d<u.length;d++){const f=u[d];f[17]===f[3]&&xm(f[1],f,c,r)}if(null!==u[9]){const d=u[9];for(let f=0;f<d.length;f++){const h=d[f];xm(h[1],h,c,r)}}}}}return r}function qn(n){const e=T(),t=Se(),r=nC();zp(r+1);const i=Tw(t,r);if(n.dirty&&Yb(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?xm(t,e,r,[]):Sw(t,e,i,r);n.reset(o,Ij),n.notifyOnChanges()}return!0}return!1}function xd(n,e,t){const r=Se();r.firstCreatePass&&(Iw(r,new ww(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),Mw(r,T(),e)}function ai(n,e,t,r){const i=Se();if(i.firstCreatePass){const o=Ot();Iw(i,new ww(e,t,r),o.index),function dV(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}Mw(i,T(),t)}function Kn(){return function uV(n,e){return n[19].queries[e].queryList}(T(),nC())}function Mw(n,e,t){const r=new rc(4==(4&t));HD(n,e,r,r.destroy),null===e[19]&&(e[19]=new Mm),e[19].queries.push(new Sm(r))}function Iw(n,e,t){null===n.queries&&(n.queries=new Im),n.queries.track(new Tm(e,t))}function Tw(n,e){return n.queries.getByIndex(e)}function Jo(n,e){return Td(n,e)}function kd(...n){}const Nd=new G("Application Initializer");let wa=(()=>{class n{constructor(t){this.appInits=t,this.resolve=kd,this.reject=kd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(ql(o))t.push(o);else if(lm(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(R(Nd,8))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const oc=new G("AppId"),xV={provide:oc,useFactory:function TV(){return`${Pm()}${Pm()}${Pm()}`},deps:[]};function Pm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $w=new G("Platform Initializer"),sc=new G("Platform ID"),Gw=new G("appBootstrapListener");let qw=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const fo=new G("LocaleId"),Kw=new G("DefaultCurrencyCode");class AV{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Rd=(()=>{class n{compileModuleSync(t){return new bm(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=Xr(Xn(t).declarations).reduce((s,a)=>{const l=en(a);return l&&s.push(new _m(l)),s},[]);return new AV(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const kV=(()=>Promise.resolve(0))();function Fm(n){"undefined"==typeof Zone?kV.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ot{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ae(!1),this.onMicrotaskEmpty=new Ae(!1),this.onStable=new Ae(!1),this.onError=new Ae(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function NV(){let n=He.requestAnimationFrame,e=He.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function FV(n){const e=()=>{!function PV(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(He,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Bm(n),n.isCheckStableRunning=!0,Lm(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Bm(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return Zw(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),Yw(n)}},onInvoke:(t,r,i,o,s,a,l)=>{try{return Zw(n),t.invoke(i,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),Yw(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Bm(n),Lm(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ot.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ot.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,RV,kd,kd);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const RV={};function Lm(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Bm(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Zw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Yw(n){n._nesting--,Lm(n)}class LV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ae,this.onMicrotaskEmpty=new Ae,this.onStable=new Ae,this.onError=new Ae}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let jm=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ot.assertNotInAngularZone(),Fm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Fm(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(R(ot))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),Qw=(()=>{class n{constructor(){this._applications=new Map,Vm.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Vm.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();class BV{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let kr,Vm=new BV;const Jw=new G("AllowMultipleToken");class Xw{constructor(e,t){this.name=e,this.token=t}}function eS(n,e,t=[]){const r=`Platform: ${e}`,i=new G(r);return(o=[])=>{let s=tS();if(!s||s.injector.get(Jw,!1))if(n)n(t.concat(o).concat({provide:i,useValue:!0}));else{const a=t.concat(o).concat({provide:i,useValue:!0},{provide:Zg,useValue:"platform"});!function UV(n){if(kr&&!kr.destroyed&&!kr.injector.get(Jw,!1))throw new we(400,"");kr=n.get(nS);const e=n.get($w,null);e&&e.forEach(t=>t())}(yt.create({providers:a,name:r}))}return function zV(n){const e=tS();if(!e)throw new we(401,"");return e}()}}function tS(){return kr&&!kr.destroyed?kr:null}let nS=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function WV(n,e){let t;return t="noop"===n?new LV:("zone.js"===n?void 0:n)||new ot({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:ot,useValue:a}];return a.run(()=>{const c=yt.create({providers:l,parent:this.injector,name:t.moduleType.name}),u=t.create(c),d=u.injector.get(Qs,null);if(!d)throw new we(402,"");return a.runOutsideAngular(()=>{const f=a.onError.subscribe({next:h=>{d.handleError(h)}});u.onDestroy(()=>{Hm(this._modules,u),f.unsubscribe()})}),function $V(n,e,t){try{const r=t();return ql(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(d,a,()=>{const f=u.injector.get(wa);return f.runInitializers(),f.donePromise.then(()=>(function TB(n){jn(n,"Expected localeId to be defined"),"string"==typeof n&&(RE=n.toLowerCase().replace(/_/g,"-"))}(u.injector.get(fo,Cd)||Cd),this._moduleDoBootstrap(u),u))})})}bootstrapModule(t,r=[]){const i=rS({},r);return function VV(n,e,t){const r=new bm(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(Xo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new we(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(R(yt))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();function rS(n,e){return Array.isArray(e)?e.reduce(rS,n):Object.assign(Object.assign({},n),e)}let Xo=(()=>{class n{constructor(t,r,i,o,s){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Ne(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new Ne(c=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{ot.assertNotInAngularZone(),Fm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{ot.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{u.unsubscribe(),d.unsubscribe()}});this.isStable=vp(a,l.pipe(function Q1(){return n=>yp()(function K1(n,e){return function(r){let i;if(i="function"==typeof n?n:function(){return n},"function"==typeof e)return r.lift(new Z1(i,e));const o=Object.create(r,$1);return o.source=r,o.subjectFactory=i,o}}(Y1)(n))}()))}bootstrap(t,r){if(!this._initStatus.done)throw new we(405,"");let i;i=t instanceof ow?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const o=function HV(n){return n.isBoundToModule}(i)?void 0:this._injector.get(Pi),a=i.create(yt.NULL,[],r||i.selector,o),l=a.location.nativeElement,c=a.injector.get(jm,null),u=c&&a.injector.get(Qw);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),Hm(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new we(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Hm(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Gw,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(R(ot),R(yt),R(Qs),R(Ri),R(wa))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();function Hm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let oS=!0,es=(()=>{class n{}return n.__NG_ELEMENT_ID__=KV,n})();function KV(n){return function ZV(n,e,t){if(Bu(n)&&!t){const r=Hn(n.index,e);return new ec(r,r)}return 47&n.type?new ec(e[16],e):null}(Ot(),T(),16==(16&n))}class uS{constructor(){}supports(e){return $l(e)}create(e){return new t2(e)}}const e2=(n,e)=>e;class t2{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||e2}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<fS(r,i,o)?t:r,a=fS(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){const h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<c&&(o[f]=h+1)}o[s.previousIndex]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!$l(e))throw new we(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function gL(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[oa()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new n2(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new dS),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dS),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class n2{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class r2{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class dS{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new r2,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fS(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class hS{constructor(){}supports(e){return e instanceof Map||tm(e)}create(){return new o2}}class o2{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||tm(e)))throw new we(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new s2(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class s2{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pS(){return new ac([new uS])}let ac=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||pS()),deps:[[n,new Ks,new Yr]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new we(901,"")}}return n.\u0275prov=$({token:n,providedIn:"root",factory:pS}),n})();function gS(){return new Sa([new hS])}let Sa=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||gS()),deps:[[n,new Ks,new Yr]]}}find(t){const r=this.factories.find(o=>o.supports(t));if(r)return r;throw new we(901,"")}}return n.\u0275prov=$({token:n,providedIn:"root",factory:gS}),n})();const a2=[new hS],c2=new ac([new uS]),u2=new Sa(a2),d2=eS(null,"core",[{provide:sc,useValue:"unknown"},{provide:nS,deps:[yt]},{provide:Qw,deps:[]},{provide:qw,deps:[]}]),m2=[{provide:Xo,useClass:Xo,deps:[ot,yt,Qs,Ri,wa]},{provide:Rj,deps:[ot],useFactory:function v2(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:wa,useClass:wa,deps:[[new Yr,Nd]]},{provide:Rd,useClass:Rd,deps:[]},xV,{provide:ac,useFactory:function f2(){return c2},deps:[]},{provide:Sa,useFactory:function h2(){return u2},deps:[]},{provide:fo,useFactory:function p2(n){return n||function g2(){return"undefined"!=typeof $localize&&$localize.locale||Cd}()},deps:[[new qs(fo),new Yr,new Ks]]},{provide:Kw,useValue:"USD"}];let y2=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(R(Xo))},n.\u0275mod=ut({type:n}),n.\u0275inj=at({providers:m2}),n})(),Ld=null;function li(){return Ld}const Vt=new G("DocumentToken");let ns=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return function D2(){return R(mS)}()},providedIn:"platform"}),n})();const E2=new G("Location Initialized");let mS=(()=>{class n extends ns{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return li().getBaseHref(this._doc)}onPopState(t){const r=li().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=li().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){vS()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){vS()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(R(Vt))},n.\u0275prov=$({token:n,factory:function(){return function w2(){return new mS(R(Vt))}()},providedIn:"platform"}),n})();function vS(){return!!window.history.pushState}function Gm(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function yS(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Fi(n){return n&&"?"!==n[0]?"?"+n:n}let Ma=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return function S2(n){const e=R(Vt).location;return new _S(R(ns),e&&e.origin||"")}()},providedIn:"root"}),n})();const qm=new G("appBaseHref");let _S=(()=>{class n extends Ma{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Gm(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Fi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+Fi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+Fi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(R(ns),R(qm,8))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),M2=(()=>{class n extends Ma{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Gm(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Fi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Fi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(R(ns),R(qm,8))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),Km=(()=>{class n{constructor(t,r){this._subject=new Ae,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=yS(bS(i)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Fi(r))}normalize(t){return n.stripTrailingSlash(function T2(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,bS(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fi(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fi(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Fi,n.joinWithSlash=Gm,n.stripTrailingSlash=yS,n.\u0275fac=function(t){return new(t||n)(R(Ma),R(ns))},n.\u0275prov=$({token:n,factory:function(){return function I2(){return new Km(R(Ma),R(ns))}()},providedIn:"root"}),n})();function bS(n){return n.replace(/\/index.html$/,"")}var St=(()=>((St=St||{})[St.Zero=0]="Zero",St[St.One=1]="One",St[St.Two=2]="Two",St[St.Few=3]="Few",St[St.Many=4]="Many",St[St.Other=5]="Other",St))();const P2=function kE(n){return function Cn(n){const e=function wB(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=NE(e);if(t)return t;const r=e.split("-")[0];if(t=NE(r),t)return t;if("en"===r)return EB;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[L.PluralCase]};class qd{}let uH=(()=>{class n extends qd{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(P2(r||this.locale)(t)){case St.Zero:return"zero";case St.One:return"one";case St.Two:return"two";case St.Few:return"few";case St.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(R(fo))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();function xS(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}let uc=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&($l(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Fe(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(w(ac),w(Sa),w(_t),w(oi))},n.\u0275dir=Y({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class fH{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Kd=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new fH(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),AS(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{AS(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(w(sr),w(si),w(ac))},n.\u0275dir=Y({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function AS(n,e){n.context.$implicit=e.item}let ho=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new hH,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){OS("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){OS("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(w(sr),w(si))},n.\u0275dir=Y({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class hH{constructor(){this.$implicit=null,this.ngIf=null}}function OS(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Fe(e)}'.`)}let ov=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split(".");null!=(r=null!=r&&o?`${r}${o}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(w(_t),w(Sa),w(oi))},n.\u0275dir=Y({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),sv=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(w(sr))},n.\u0275dir=Y({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[tr]}),n})();function Rr(n,e){return new we(2100,"")}let NS=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw Rr();return t.toLowerCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=mn({name:"lowercase",type:n,pure:!0}),n})(),PS=(()=>{class n{transform(t,r,i){if(null==t)return null;if(!this.supports(t))throw Rr();return t.slice(r,i)}supports(t){return"string"==typeof t||Array.isArray(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=mn({name:"slice",type:n,pure:!1}),n})(),Pr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({providers:[{provide:qd,useClass:uH}]}),n})();const FS="browser";let VH=(()=>{class n{}return n.\u0275prov=$({token:n,providedIn:"root",factory:()=>new HH(R(Vt),window)}),n})();class HH{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function UH(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=LS(this.window.history)||LS(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function LS(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class BS{}class cv extends class zH extends class C2{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function b2(n){Ld||(Ld=n)}(new cv)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function WH(){return dc=dc||document.querySelector("base"),dc?dc.getAttribute("href"):null}();return null==t?null:function $H(n){Zd=Zd||document.createElement("a"),Zd.setAttribute("href",n);const e=Zd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){dc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return xS(document.cookie,e)}}let Zd,dc=null;const jS=new G("TRANSITION_ID"),qH=[{provide:Nd,useFactory:function GH(n,e,t){return()=>{t.get(wa).donePromise.then(()=>{const r=li(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[jS,Vt,yt],multi:!0}];class uv{static init(){!function jV(n){Vm=n}(new uv)}addToWindow(e){He.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},He.getAllAngularTestabilities=()=>e.getAllTestabilities(),He.getAllAngularRootElements=()=>e.getAllRootElements(),He.frameworkStabilizers||(He.frameworkStabilizers=[]),He.frameworkStabilizers.push(r=>{const i=He.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?li().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let KH=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const Yd=new G("EventManagerPlugins");let Qd=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(R(Yd),R(ot))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();class VS{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=li().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let HS=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),fc=(()=>{class n extends HS{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(US),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(US))}}return n.\u0275fac=function(t){return new(t||n)(R(Vt))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();function US(n){li().remove(n)}const dv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fv=/%COMP%/g;function Jd(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Jd(n,i,t):(i=i.replace(fv,n),t.push(i))}return t}function $S(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let hv=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new pv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Gr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new eU(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Gr.ShadowDom:return new tU(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Jd(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(R(Qd),R(fc),R(oc))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();class pv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(dv[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=dv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=dv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Wn.DashCase|Wn.Important)?e.style.setProperty(t,r,i&Wn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Wn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,$S(r)):this.eventManager.addEventListener(e,t,$S(r))}}class eU extends pv{constructor(e,t,r,i){super(e),this.component=r;const o=Jd(i+"-"+r.id,r.styles,[]);t.addStyles(o),this.contentAttr=function QH(n){return"_ngcontent-%COMP%".replace(fv,n)}(i+"-"+r.id),this.hostAttr=function JH(n){return"_nghost-%COMP%".replace(fv,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class tU extends pv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Jd(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let nU=(()=>{class n extends VS{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(R(Vt))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const qS=["alt","control","meta","shift"],iU={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},KS={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},oU={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let sU=(()=>{class n extends VS{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>li().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="";if(qS.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(t){let r="",i=function aU(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&KS.hasOwnProperty(e)&&(e=KS[e]))}return iU[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),qS.forEach(o=>{o!=i&&oU[o](t)&&(r+=o+".")}),r+=i,r}static eventCallback(t,r,i){return o=>{n.getEventFullKey(o)===t&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(R(Vt))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const dU=eS(d2,"browser",[{provide:sc,useValue:FS},{provide:$w,useValue:function lU(){cv.makeCurrent(),uv.init()},multi:!0},{provide:Vt,useFactory:function uU(){return function MN(n){Rp=n}(document),document},deps:[]}]),fU=[{provide:Zg,useValue:"root"},{provide:Qs,useFactory:function cU(){return new Qs},deps:[]},{provide:Yd,useClass:nU,multi:!0,deps:[Vt,ot,sc]},{provide:Yd,useClass:sU,multi:!0,deps:[Vt]},{provide:hv,useClass:hv,deps:[Qd,fc,oc]},{provide:aw,useExisting:hv},{provide:HS,useExisting:fc},{provide:fc,useClass:fc,deps:[Vt]},{provide:jm,useClass:jm,deps:[ot]},{provide:Qd,useClass:Qd,deps:[Yd,ot]},{provide:BS,useClass:KH,deps:[]}];let hU=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:oc,useValue:t.appId},{provide:jS,useExisting:oc},qH]}}}return n.\u0275fac=function(t){return new(t||n)(R(n,12))},n.\u0275mod=ut({type:n}),n.\u0275inj=at({providers:fU,imports:[Pr,y2]}),n})();"undefined"!=typeof window&&window;let EU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(t){let r=null;return r=t?new(t||n):R(mv),r},providedIn:"root"}),n})(),mv=(()=>{class n extends EU{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Ze.NONE:return r;case Ze.HTML:return Qr(r,"HTML")?zn(r):WC(this._doc,String(r)).toString();case Ze.STYLE:return Qr(r,"Style")?zn(r):r;case Ze.SCRIPT:if(Qr(r,"Script"))return zn(r);throw new Error("unsafe value used in a script context");case Ze.URL:return FC(r),Qr(r,"URL")?zn(r):Fl(String(r));case Ze.RESOURCE_URL:if(Qr(r,"ResourceURL"))return zn(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function VR(n){return new PR(n)}(t)}bypassSecurityTrustStyle(t){return function HR(n){return new FR(n)}(t)}bypassSecurityTrustScript(t){return function UR(n){return new LR(n)}(t)}bypassSecurityTrustUrl(t){return function zR(n){return new BR(n)}(t)}bypassSecurityTrustResourceUrl(t){return function WR(n){return new jR(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(R(Vt))},n.\u0275prov=$({token:n,factory:function(t){let r=null;return r=t?new t:function wU(n){return new mv(n.get(Vt))}(R(yt)),r},providedIn:"root"}),n})();function Xd(n,e){return new Ne(t=>{const r=n.length;if(0===r)return void t.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const l=zt(n[a]);let c=!1;t.add(l.subscribe({next:u=>{c||(c=!0,s++),i[a]=u},error:u=>t.error(u),complete:()=>{o++,(o===r||!c)&&(s===r&&t.next(e?e.reduce((u,d,f)=>(u[d]=i[f],u),{}):i),t.complete())}}))}})}let QS=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(w(oi),w(_t))},n.\u0275dir=Y({type:n}),n})(),rs=(()=>{class n extends QS{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=jt(n)))(r||n)}}(),n.\u0275dir=Y({type:n,features:[xe]}),n})();const cr=new G("NgValueAccessor"),IU={provide:cr,useExisting:Ve(()=>ef),multi:!0},xU=new G("CompositionEventMode");let ef=(()=>{class n extends QS{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function TU(){const n=li()?li().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(w(oi),w(_t),w(xU,8))},n.\u0275dir=Y({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Le("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Qe([IU]),xe]}),n})();const on=new G("NgValidators"),mo=new G("NgAsyncValidators");function lM(n){return null!=n}function cM(n){const e=ql(n)?zt(n):n;return lm(e),e}function uM(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function dM(n,e){return e.map(t=>t(n))}function fM(n){return n.map(e=>function OU(n){return!n.validate}(e)?e:t=>e.validate(t))}function vv(n){return null!=n?function hM(n){if(!n)return null;const e=n.filter(lM);return 0==e.length?null:function(t){return uM(dM(t,e))}}(fM(n)):null}function yv(n){return null!=n?function pM(n){if(!n)return null;const e=n.filter(lM);return 0==e.length?null:function(t){return function SU(...n){if(1===n.length){const e=n[0];if(hl(e))return Xd(e,null);if(hp(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Xd(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return Xd(n=1===n.length&&hl(n[0])?n[0]:n,null).pipe(be(t=>e(...t)))}return Xd(n,null)}(dM(t,e).map(cM)).pipe(be(uM))}}(fM(n)):null}function gM(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function _v(n){return n?Array.isArray(n)?n:[n]:[]}function nf(n,e){return Array.isArray(n)?n.includes(e):n===e}function yM(n,e){const t=_v(e);return _v(n).forEach(i=>{nf(t,i)||t.push(i)}),t}function _M(n,e){return _v(e).filter(t=>!nf(n,t))}class bM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=vv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class vo extends bM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class En extends bM{get formDirective(){return null}get path(){return null}}class CM{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let bv=(()=>{class n extends CM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(w(vo,2))},n.\u0275dir=Y({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Kl("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[xe]}),n})(),DM=(()=>{class n extends CM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(w(En,10))},n.\u0275dir=Y({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Kl("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[xe]}),n})();function hc(n,e){Ev(n,e),e.valueAccessor.writeValue(n.value),function jU(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&wM(n,e)})}(n,e),function HU(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function VU(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&wM(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function BU(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function lf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ev(n,e){const t=function mM(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(gM(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function vM(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(gM(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();lf(e._rawValidators,i),lf(e._rawAsyncValidators,i)}function wM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Mv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const pc="VALID",uf="INVALID",Ia="PENDING",gc="DISABLED";function Tv(n){return(df(n)?n.validators:n)||null}function IM(n){return Array.isArray(n)?vv(n):n||null}function xv(n,e){return(df(e)?e.asyncValidators:n)||null}function TM(n){return Array.isArray(n)?yv(n):n||null}function df(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Av=n=>n instanceof kv;function AM(n){return(n=>n instanceof NM)(n)?n.value:n.getRawValue()}function OM(n,e){const t=Av(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new we(1e3,"");if(!r[e])throw new we(1001,"")}function kM(n,e){Av(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new we(1002,"")})}class Ov{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=IM(this._rawValidators),this._composedAsyncValidatorFn=TM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===pc}get invalid(){return this.status===uf}get pending(){return this.status==Ia}get disabled(){return this.status===gc}get enabled(){return this.status!==gc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=IM(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=TM(e)}addValidators(e){this.setValidators(yM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(yM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_M(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_M(e,this._rawAsyncValidators))}hasValidator(e){return nf(this._rawValidators,e)}hasAsyncValidator(e){return nf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ia,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=gc,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=pc,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pc||this.status===Ia)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gc:pc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ia,this._hasOwnPendingAsyncValidator=!0;const t=cM(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function $U(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=Av(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof qU)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ae,this.statusChanges=new Ae}_calculateStatus(){return this._allControlsDisabled()?gc:this.errors?uf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ia)?Ia:this._anyControlsHaveStatus(uf)?uf:pc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){df(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class NM extends Ov{constructor(e=null,t,r){super(Tv(t),xv(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),df(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Mv(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Mv(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class kv extends Ov{constructor(e,t,r){super(Tv(t),xv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){kM(this,e),Object.keys(e).forEach(r=>{OM(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=AM(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class qU extends Ov{constructor(e,t,r){super(Tv(t),xv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){kM(this,e),e.forEach((r,i)=>{OM(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>AM(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const KU={provide:En,useExisting:Ve(()=>ff)},mc=(()=>Promise.resolve(null))();let ff=(()=>{class n extends En{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ae,this.form=new kv({},vv(t),yv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){mc.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),hc(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){mc.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){mc.then(()=>{const r=this._findContainer(t.path),i=new kv({});(function SM(n,e){Ev(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){mc.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){mc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function MM(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(w(on,10),w(mo,10))},n.\u0275dir=Y({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&Le("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qe([KU]),xe]}),n})();const YU={provide:vo,useExisting:Ve(()=>hf)},FM=(()=>Promise.resolve(null))();let hf=(()=>{class n extends vo{constructor(t,r,i,o,s){super(),this._changeDetectorRef=s,this.control=new NM,this._registered=!1,this.update=new Ae,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Sv(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===ef?t=o:function WU(n){return Object.getPrototypeOf(n.constructor)===rs}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function wv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){hc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){FM.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;FM.then(()=>{var o;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(t){return this._parent?function sf(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(w(En,9),w(on,10),w(mo,10),w(cr,10),w(es,8))},n.\u0275dir=Y({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Qe([YU]),xe,tr]}),n})(),LM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Y({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),jM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({}),n})(),Cz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[[jM]]}),n})(),rI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[Cz]}),n})(),Pt=(()=>{class n{static addClass(t,r){t.classList?t.classList.add(r):t.className+=" "+r}static addMultipleClasses(t,r){if(t.classList){let i=r.trim().split(" ");for(let o=0;o<i.length;o++)t.classList.add(i[o])}else{let i=r.split(" ");for(let o=0;o<i.length;o++)t.className+=" "+i[o]}}static removeClass(t,r){t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(t,r){return t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className)}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(r){return r!==t})}static find(t,r){return Array.from(t.querySelectorAll(r))}static findSingle(t,r){return t?t.querySelector(r):null}static index(t){let r=t.parentNode.childNodes,i=0;for(var o=0;o<r.length;o++){if(r[o]==t)return i;1==r[o].nodeType&&i++}return-1}static indexWithinGroup(t,r){let i=t.parentNode?t.parentNode.childNodes:[],o=0;for(var s=0;s<i.length;s++){if(i[s]==t)return o;i[s].attributes&&i[s].attributes[r]&&1==i[s].nodeType&&o++}return-1}static relativePosition(t,r){let i=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t);const o=r.offsetHeight,s=r.getBoundingClientRect(),a=this.getViewport();let l,c;s.top+o+i.height>a.height?(l=-1*i.height,t.style.transformOrigin="bottom",s.top+l<0&&(l=-1*s.top)):(l=o,t.style.transformOrigin="top"),c=i.width>a.width?-1*s.left:s.left+i.width>a.width?-1*(s.left+i.width-a.width):0,t.style.top=l+"px",t.style.left=c+"px"}static absolutePosition(t,r){let h,p,i=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=i.height,s=i.width,a=r.offsetHeight,l=r.offsetWidth,c=r.getBoundingClientRect(),u=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),f=this.getViewport();c.top+a+o>f.height?(h=c.top+u-o,t.style.transformOrigin="bottom",h<0&&(h=u)):(h=a+c.top+u,t.style.transformOrigin="top"),p=c.left+s>f.width?Math.max(0,c.left+d+l-s):c.left+d,t.style.top=h+"px",t.style.left=p+"px"}static getParents(t,r=[]){return null===t.parentNode?r:this.getParents(t.parentNode,r.concat([t.parentNode]))}static getScrollableParents(t){let r=[];if(t){let i=this.getParents(t);const o=/(auto|scroll)/,s=a=>{let l=window.getComputedStyle(a,null);return o.test(l.getPropertyValue("overflow"))||o.test(l.getPropertyValue("overflowX"))||o.test(l.getPropertyValue("overflowY"))};for(let a of i){let l=1===a.nodeType&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let u of c){let d=this.findSingle(a,u);d&&s(d)&&r.push(d)}}9!==a.nodeType&&s(a)&&r.push(a)}}return r}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementDimensions(t){let r={};return t.style.visibility="hidden",t.style.display="block",r.width=t.offsetWidth,r.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",r}static scrollInView(t,r){let i=getComputedStyle(t).getPropertyValue("borderTopWidth"),o=i?parseFloat(i):0,s=getComputedStyle(t).getPropertyValue("paddingTop"),a=s?parseFloat(s):0,l=t.getBoundingClientRect(),u=r.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-o-a,d=t.scrollTop,f=t.clientHeight,h=this.getOuterHeight(r);u<0?t.scrollTop=d+u:u+h>f&&(t.scrollTop=d+u-f+h)}static fadeIn(t,r){t.style.opacity=0;let i=+new Date,o=0,s=function(){o=+t.style.opacity.replace(",",".")+((new Date).getTime()-i)/r,t.style.opacity=o,i=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16))};s()}static fadeOut(t,r){var i=1,a=50/r;let l=setInterval(()=>{(i-=a)<=0&&(i=0,clearInterval(l)),t.style.opacity=i},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,r){var i=Element.prototype;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(s){return-1!==[].indexOf.call(document.querySelectorAll(s),this)}).call(t,r)}static getOuterWidth(t,r){let i=t.offsetWidth;if(r){let o=getComputedStyle(t);i+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return i}static getHorizontalPadding(t){let r=getComputedStyle(t);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(t){let r=getComputedStyle(t);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static width(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static getInnerHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),r}static getOuterHeight(t,r){let i=t.offsetHeight;if(r){let o=getComputedStyle(t);i+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return i}static getHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}static getWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}static getViewport(){let t=window,r=document,i=r.documentElement,o=r.getElementsByTagName("body")[0];return{width:t.innerWidth||i.clientWidth||o.clientWidth,height:t.innerHeight||i.clientHeight||o.clientHeight}}static getOffset(t){var r=t.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,r){let i=t.parentNode;if(!i)throw"Can't replace element";return i.replaceChild(r,t)}static getUserAgent(){return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,r){if(this.isElement(r))r.appendChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot append "+r+" to "+t;r.el.nativeElement.appendChild(t)}}static removeChild(t,r){if(this.isElement(r))r.removeChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot remove "+t+" from "+r;r.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let r=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(t,r,i){t[r].apply(t,i)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(t){}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return null===t.offsetParent}static getFocusableElements(t){let r=n.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),i=[];for(let o of r)"none"!=getComputedStyle(o).display&&"hidden"!=getComputedStyle(o).visibility&&i.push(o);return i}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();class pt{static equals(e,t,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(t,r):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var o,s,a,r=Array.isArray(e),i=Array.isArray(t);if(r&&i){if((s=e.length)!=t.length)return!1;for(o=s;0!=o--;)if(!this.equalsByValue(e[o],t[o]))return!1;return!0}if(r!=i)return!1;var l=e instanceof Date,c=t instanceof Date;if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var u=e instanceof RegExp,d=t instanceof RegExp;if(u!=d)return!1;if(u&&d)return e.toString()==t.toString();var f=Object.keys(e);if((s=f.length)!==Object.keys(t).length)return!1;for(o=s;0!=o--;)if(!Object.prototype.hasOwnProperty.call(t,f[o]))return!1;for(o=s;0!=o--;)if(!this.equalsByValue(e[a=f[o]],t[a]))return!1;return!0}return e!=e&&t!=t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(-1==t.indexOf("."))return e[t];{let r=t.split("."),i=e;for(let o=0,s=r.length;o<s;++o){if(null==i)return null;i=i[r[o]]}return i}}return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,r){e&&t!==r&&(r>=e.length&&(r%=e.length,t%=e.length),e.splice(r,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,r,i){if(r.length>0){let o=!1;for(let s=0;s<r.length;s++)if(this.findIndexInList(r[s],i)>t){r.splice(s,0,e),o=!0;break}o||r.push(e)}else r.push(e)}static findIndexInList(e,t){let r=-1;if(t)for(let i=0;i<t.length;i++)if(t[i]==e){r=i;break}return r}static contains(e,t){if(null!=e&&t&&t.length)for(let r of t)if(this.equals(e,r))return!0;return!1}static removeAccents(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}static isEmpty(e){return null==e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"==typeof e&&0===Object.keys(e).length}static isNotEmpty(e){return!this.isEmpty(e)}}!function Dz(){let n=[];const i=o=>o&&parseInt(o.style.zIndex,10)||0}();const oI=["*"];let Vv,sn=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),sI=(()=>{class n{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[sn.STARTS_WITH,sn.CONTAINS,sn.NOT_CONTAINS,sn.ENDS_WITH,sn.EQUALS,sn.NOT_EQUALS],numeric:[sn.EQUALS,sn.NOT_EQUALS,sn.LESS_THAN,sn.LESS_THAN_OR_EQUAL_TO,sn.GREATER_THAN,sn.GREATER_THAN_OR_EQUAL_TO],date:[sn.DATE_IS,sn.DATE_IS_NOT,sn.DATE_BEFORE,sn.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new Me,this.translationObserver=this.translationSource.asObservable()}getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=Object.assign(Object.assign({},this.translation),t),this.translationSource.next(this.translation)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aI=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.NO_FILTER="noFilter",n.LT="lt",n.LTE="lte",n.GT="gt",n.GTE="gte",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.CLEAR="clear",n.APPLY="apply",n.MATCH_ALL="matchAll",n.MATCH_ANY="matchAny",n.ADD_RULE="addRule",n.REMOVE_RULE="removeRule",n.ACCEPT="accept",n.REJECT="reject",n.CHOOSE="choose",n.UPLOAD="upload",n.CANCEL="cancel",n.DAY_NAMES="dayNames",n.DAY_NAMES_SHORT="dayNamesShort",n.DAY_NAMES_MIN="dayNamesMin",n.MONTH_NAMES="monthNames",n.MONTH_NAMES_SHORT="monthNamesShort",n.FIRST_DAY_OF_WEEK="firstDayOfWeek",n.TODAY="today",n.WEEK_HEADER="weekHeader",n.WEAK="weak",n.MEDIUM="medium",n.STRONG="strong",n.PASSWORD_PROMPT="passwordPrompt",n.EMPTY_MESSAGE="emptyMessage",n.EMPTY_FILTER_MESSAGE="emptyFilterMessage",n})(),Ez=(()=>{class n{constructor(){this.filters={startsWith:(t,r,i)=>{if(null==r||""===r.trim())return!0;if(null==t)return!1;let o=pt.removeAccents(r.toString()).toLocaleLowerCase(i);return pt.removeAccents(t.toString()).toLocaleLowerCase(i).slice(0,o.length)===o},contains:(t,r,i)=>{if(null==r||"string"==typeof r&&""===r.trim())return!0;if(null==t)return!1;let o=pt.removeAccents(r.toString()).toLocaleLowerCase(i);return-1!==pt.removeAccents(t.toString()).toLocaleLowerCase(i).indexOf(o)},notContains:(t,r,i)=>{if(null==r||"string"==typeof r&&""===r.trim())return!0;if(null==t)return!1;let o=pt.removeAccents(r.toString()).toLocaleLowerCase(i);return-1===pt.removeAccents(t.toString()).toLocaleLowerCase(i).indexOf(o)},endsWith:(t,r,i)=>{if(null==r||""===r.trim())return!0;if(null==t)return!1;let o=pt.removeAccents(r.toString()).toLocaleLowerCase(i),s=pt.removeAccents(t.toString()).toLocaleLowerCase(i);return-1!==s.indexOf(o,s.length-o.length)},equals:(t,r,i)=>null==r||"string"==typeof r&&""===r.trim()||null!=t&&(t.getTime&&r.getTime?t.getTime()===r.getTime():pt.removeAccents(t.toString()).toLocaleLowerCase(i)==pt.removeAccents(r.toString()).toLocaleLowerCase(i)),notEquals:(t,r,i)=>!(null==r||"string"==typeof r&&""===r.trim()||null!=t&&(t.getTime&&r.getTime?t.getTime()===r.getTime():pt.removeAccents(t.toString()).toLocaleLowerCase(i)==pt.removeAccents(r.toString()).toLocaleLowerCase(i))),in:(t,r)=>{if(null==r||0===r.length)return!0;for(let i=0;i<r.length;i++)if(pt.equals(t,r[i]))return!0;return!1},between:(t,r)=>null==r||null==r[0]||null==r[1]||null!=t&&(t.getTime?r[0].getTime()<=t.getTime()&&t.getTime()<=r[1].getTime():r[0]<=t&&t<=r[1]),lt:(t,r,i)=>null==r||null!=t&&(t.getTime&&r.getTime?t.getTime()<r.getTime():t<r),lte:(t,r,i)=>null==r||null!=t&&(t.getTime&&r.getTime?t.getTime()<=r.getTime():t<=r),gt:(t,r,i)=>null==r||null!=t&&(t.getTime&&r.getTime?t.getTime()>r.getTime():t>r),gte:(t,r,i)=>null==r||null!=t&&(t.getTime&&r.getTime?t.getTime()>=r.getTime():t>=r),is:(t,r,i)=>this.filters.equals(t,r,i),isNot:(t,r,i)=>this.filters.notEquals(t,r,i),before:(t,r,i)=>this.filters.lt(t,r,i),after:(t,r,i)=>this.filters.gt(t,r,i),dateIs:(t,r)=>null==r||null!=t&&t.toDateString()===r.toDateString(),dateIsNot:(t,r)=>null==r||null!=t&&t.toDateString()!==r.toDateString(),dateBefore:(t,r)=>null==r||null!=t&&t.getTime()<r.getTime(),dateAfter:(t,r)=>null==r||null!=t&&t.getTime()>r.getTime()}}filter(t,r,i,o,s){let a=[];if(t)for(let l of t)for(let c of r){let u=pt.resolveFieldData(l,c);if(this.filters[o](u,i,s)){a.push(l);break}}return a}register(t,r){this.filters[t]=r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Et({type:n,selectors:[["p-header"]],ngContentSelectors:oI,decls:1,vars:0,template:function(t,r){1&t&&(ma(),Ni(0))},encapsulation:2}),n})(),cI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Et({type:n,selectors:[["p-footer"]],ngContentSelectors:oI,decls:1,vars:0,template:function(t,r){1&t&&(ma(),Ni(0))},encapsulation:2}),n})(),jv=(()=>{class n{constructor(t){this.template=t}getType(){return this.name}}return n.\u0275fac=function(t){return new(t||n)(w(si))},n.\u0275dir=Y({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),vc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[[Pr]]}),n})(),wz=(()=>{class n{constructor(t,r,i){this.el=t,this.zone=r,this.config=i}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(t){let r=this.getInk();if(!r||"none"===getComputedStyle(r,null).display)return;if(Pt.removeClass(r,"p-ink-active"),!Pt.getHeight(r)&&!Pt.getWidth(r)){let a=Math.max(Pt.getOuterWidth(this.el.nativeElement),Pt.getOuterHeight(this.el.nativeElement));r.style.height=a+"px",r.style.width=a+"px"}let i=Pt.getOffset(this.el.nativeElement),o=t.pageX-i.left+document.body.scrollTop-Pt.getWidth(r)/2,s=t.pageY-i.top+document.body.scrollLeft-Pt.getHeight(r)/2;r.style.top=s+"px",r.style.left=o+"px",Pt.addClass(r,"p-ink-active")}getInk(){for(let t=0;t<this.el.nativeElement.children.length;t++)if(-1!==this.el.nativeElement.children[t].className.indexOf("p-ink"))return this.el.nativeElement.children[t];return null}resetInk(){let t=this.getInk();t&&Pt.removeClass(t,"p-ink-active")}onAnimationEnd(t){Pt.removeClass(t.currentTarget,"p-ink-active")}create(){let t=document.createElement("span");t.className="p-ink",this.el.nativeElement.appendChild(t),this.animationListener=this.onAnimationEnd.bind(this),t.addEventListener("animationend",this.animationListener)}remove(){let t=this.getInk();t&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),t.removeEventListener("animationend",this.animationListener),Pt.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(t){return new(t||n)(w(_t),w(ot),w(sI,8))},n.\u0275dir=Y({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),pf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[[Pr]]}),n})(),Mz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[[Pr,pf]]}),n})();try{Vv="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Vv=!1}let yc,Hv,Iz=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function jH(n){return n===FS}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Vv)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(R(sc))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _c(n){return function Tz(){if(null==yc&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>yc=!0}))}finally{yc=yc||!1}return yc}()?n:!!n.capture}function dI(n){if(function xz(){if(null==Hv){const n="undefined"!=typeof document?document.head:null;Hv=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Hv}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function mf(n){return n.composedPath?n.composedPath()[0]:n.target}function ur(n){return n instanceof _t?n.nativeElement:n}function yo(){}function kn(n,e,t){return function(i){return i.lift(new Zz(n,e,t))}}class Zz{constructor(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}call(e,t){return t.subscribe(new Yz(e,this.nextOrObserver,this.error,this.complete))}}class Yz extends tt{constructor(e,t,r,i){super(e),this._tapNext=yo,this._tapError=yo,this._tapComplete=yo,this._tapError=r||yo,this._tapComplete=i||yo,et(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||yo,this._tapError=t.error||yo,this._tapComplete=t.complete||yo)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class Qz extends ke{constructor(e,t){super()}schedule(e,t=0){return this}}class vf extends Qz{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=!!o&&o||new Error(o)}if(r)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,r=t.actions,i=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let fI=(()=>{class n{constructor(t,r=n.now){this.SchedulerAction=t,this.now=r}schedule(t,r=0,i){return new this.SchedulerAction(this,t).schedule(i,r)}}return n.now=()=>Date.now(),n})();class Fr extends fI{constructor(e,t=fI.now){super(e,()=>Fr.delegate&&Fr.delegate!==this?Fr.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,r){return Fr.delegate&&Fr.delegate!==this?Fr.delegate.schedule(e,t,r):super.schedule(e,t,r)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const bc=new Fr(vf);class Xz{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new e3(e,this.dueTime,this.scheduler))}}class e3 extends tt{constructor(e,t,r){super(e),this.dueTime=t,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(t3,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function t3(n){n.debouncedNext()}function _o(n,e){return function(r){return r.lift(new n3(n,e))}}class n3{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new r3(e,this.predicate,this.thisArg))}}class r3 extends tt{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}class gI extends class a3{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Me,this._typeaheadSubscription=ke.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Me,this.change=new Me,e instanceof rc&&e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(kn(t=>this._pressedLetters.push(t)),function Jz(n,e=bc){return t=>t.lift(new Xz(n,e))}(e),_o(()=>this._pressedLetters.length>0),be(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const o=(this._activeItemIndex+i)%r.length,s=r[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||function Kz(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e),i=t[r];this._activeItem=null==i?null:i,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof rc?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function Uv(n){return!hl(n)&&n-parseFloat(n)+1>=0}function v3(n){const{subscriber:e,counter:t,period:r}=n;e.next(t),this.schedule({subscriber:e,counter:t+1,period:r},r)}const vI=new class _3 extends Fr{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let r,i=-1,o=t.length;e=e||t.shift();do{if(r=e.execute(e.state,e.delay))break}while(++i<o&&(e=t.shift()));if(this.active=!1,r){for(;++i<o&&(e=t.shift());)e.unsubscribe();throw r}}}(class y3 extends vf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});function yI(n){return e=>e.lift(new b3(n))}class b3{constructor(e){this.notifier=e}call(e,t){const r=new C3(e),i=vl(this.notifier,new gl(r));return i&&!r.seenValue?(r.add(i),t.subscribe(r)):r}}class C3 extends ml{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let D3=1;const E3=Promise.resolve(),yf={};function _I(n){return n in yf&&(delete yf[n],!0)}const bI={setImmediate(n){const e=D3++;return yf[e]=!0,E3.then(()=>_I(e)&&n()),e},clearImmediate(n){_I(n)}};new class S3 extends Fr{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let r,i=-1,o=t.length;e=e||t.shift();do{if(r=e.execute(e.state,e.delay))break}while(++i<o&&(e=t.shift()));if(this.active=!1,r){for(;++i<o&&(e=t.shift());)e.unsubscribe();throw r}}}(class w3 extends vf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=bI.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(bI.clearImmediate(t),e.scheduled=void 0)}});class T3{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new x3(e,this.durationSelector))}}class x3 extends ml{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:i}=this;t=i(e)}catch(i){return this.destination.error(i)}const r=vl(t,new gl(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:e,hasValue:t,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function O3(n){const{index:e,period:t,subscriber:r}=n;if(r.next(e),!r.closed){if(-1===t)return r.complete();n.index=e+1,this.schedule(n,t)}}let R3=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Me,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(function k3(n,e=bc){return function I3(n){return function(t){return t.lift(new T3(n))}}(()=>function A3(n=0,e,t){let r=-1;return Uv(e)?r=Number(e)<1?1:Number(e):Os(e)&&(t=e),Os(t)||(t=bc),new Ne(i=>{const o=Uv(n)?n:+n-t.now();return t.schedule(O3,o,{index:0,period:r,subscriber:i})})}(n,e))}(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(R(Iz),R(ot),R(Vt,8))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),P3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({}),n})();function zv(n,e,t){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];i?n.setProperty(r,i,(null==t?void 0:t.has(r))?"important":""):n.removeProperty(r)}return n}function xa(n,e){const t=e?"":"none";zv(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function CI(n,e,t){zv(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function _f(n,e){return e&&"none"!=e?n+" "+e:n}function DI(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function Wv(n,e){return n.getPropertyValue(e).split(",").map(r=>r.trim())}function $v(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function Gv(n,e,t){const{top:r,bottom:i,left:o,right:s}=n;return t>=r&&t<=i&&e>=o&&e<=s}function Cc(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function EI(n,e,t,r){const{top:i,right:o,bottom:s,left:a,width:l,height:c}=n,u=l*e,d=c*e;return r>i-d&&r<s+d&&t>a-u&&t<o+u}class wI{constructor(e,t){this._document=e,this._viewportRuler=t,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:$v(t)})})}handleScroll(e){const t=mf(e),r=this.positions.get(t);if(!r)return null;const i=r.scrollPosition;let o,s;if(t===this._document){const c=this._viewportRuler.getViewportScrollPosition();o=c.top,s=c.left}else o=t.scrollTop,s=t.scrollLeft;const a=i.top-o,l=i.left-s;return this.positions.forEach((c,u)=>{c.clientRect&&t!==u&&t.contains(u)&&Cc(c.clientRect,a,l)}),i.top=o,i.left=s,{top:a,left:l}}}function SI(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<t.length;i++)t[i].removeAttribute("id");return"canvas"===r?TI(n,e):("input"===r||"select"===r||"textarea"===r)&&II(n,e),MI("canvas",n,e,TI),MI("input, textarea, select",n,e,II),e}function MI(n,e,t,r){const i=e.querySelectorAll(n);if(i.length){const o=t.querySelectorAll(n);for(let s=0;s<i.length;s++)r(i[s],o[s])}}let L3=0;function II(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${L3++}`)}function TI(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch(r){}}const xI=_c({passive:!0}),AI=_c({passive:!1}),qv=new Set(["position"]);class j3{constructor(e,t,r,i,o,s){this._config=t,this._document=r,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Me,this._pointerMoveSubscription=ke.EMPTY,this._pointerUpSubscription=ke.EMPTY,this._scrollSubscription=ke.EMPTY,this._resizeSubscription=ke.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Me,this.started=new Me,this.released=new Me,this.ended=new Me,this.entered=new Me,this.exited=new Me,this.dropped=new Me,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._handles.find(c=>a.target&&(a.target===c||c.contains(a.target)));l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const h=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),p=this._dropContainer;if(!h)return void this._endDragSequence(a);(!p||!p.isDragging()&&!p.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),a.preventDefault();const c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{const u=this._activeTransform;u.x=c.x-this._pickupPositionOnPage.x+this._passiveTransform.x,u.y=c.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(u.x,u.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:a,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new wI(r,o),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=function Az(n){return null!=n&&"false"!=`${n}`}(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(r=>xa(r,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(r=>ur(r)),this._handles.forEach(r=>xa(r,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&t.add(r)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=ur(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,AI),t.addEventListener("touchstart",this._pointerDown,xI)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?ur(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){var e,t;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(e=this._rootElement)||void 0===e||e.remove()),null===(t=this._anchor)||void 0===t||t.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),xa(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),xa(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var e,t;null===(e=this._preview)||void 0===e||e.remove(),null===(t=this._previewRef)||void 0===t||t.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var e,t;null===(e=this._placeholder)||void 0===e||e.remove(),null===(t=this._placeholderRef)||void 0===t||t.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){Dc(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const r=this._rootElement,i=r.parentNode,o=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();i.insertBefore(s,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),CI(r,!1,qv),this._document.body.appendChild(i.replaceChild(o,r)),this._getPreviewInsertionPoint(i,a).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const r=this.isDragging(),i=Dc(t),o=!i&&0!==t.button,s=this._rootElement,a=mf(t),l=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=i?function p3(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(t):function h3(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(t);if(a&&a.draggable&&"mousedown"===t.type&&t.preventDefault(),r||o||l||c)return;if(this._handles.length){const f=s.style;this._rootElementTapHighlight=f.webkitTapHighlightColor||"",f.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(f=>this._updateOnScroll(f)),this._boundaryElement&&(this._boundaryRect=$v(this._boundaryElement));const u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){CI(this._rootElement,!0,qv),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,r=t.getItemIndex(this),i=this._getPointerPositionOnPage(e),o=this._getDragDistance(i),s=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:o,dropPoint:i}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:i}),t.drop(this,r,this._initialIndex,this._initialContainer,s,o,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:r,y:i}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,e,t,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,r=e?e.template:null;let i;if(r&&e){const o=e.matchSize?this._rootElement.getBoundingClientRect():null,s=e.viewContainer.createEmbeddedView(r,e.context);s.detectChanges(),i=kI(s,this._document),this._previewRef=s,e.matchSize?NI(i,o):i.style.transform=bf(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const o=this._rootElement;i=SI(o),NI(i,o.getBoundingClientRect()),this._initialTransform&&(i.style.transform=this._initialTransform)}return zv(i.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},qv),xa(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(o=>i.classList.add(o)):i.classList.add(t)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function F3(n){const e=getComputedStyle(n),t=Wv(e,"transition-property"),r=t.find(a=>"transform"===a||"all"===a);if(!r)return 0;const i=t.indexOf(r),o=Wv(e,"transition-duration"),s=Wv(e,"transition-delay");return DI(o[i])+DI(s[i])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const i=s=>{var a;(!s||mf(s)===this._preview&&"transform"===s.propertyName)&&(null===(a=this._preview)||void 0===a||a.removeEventListener("transitionend",i),r(),clearTimeout(o))},o=setTimeout(i,1.5*t);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let r;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),r=kI(this._placeholderRef,this._document)):r=SI(this._rootElement),r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(e,t){const r=this._rootElement.getBoundingClientRect(),i=e===this._rootElement?null:e,o=i?i.getBoundingClientRect():r,s=Dc(t)?t.targetTouches[0]:t,a=this._getViewportScrollPosition();return{x:o.left-r.left+(s.pageX-o.left-a.left),y:o.top-r.top+(s.pageY-o.top-a.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),r=Dc(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=r.pageX-t.left,o=r.pageY-t.top;if(this._ownerSVGElement){const s=this._ownerSVGElement.getScreenCTM();if(s){const a=this._ownerSVGElement.createSVGPoint();return a.x=i,a.y=o,a.matrixTransform(s.inverse())}}return{x:i,y:o}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:i}=this.constrainPosition?this.constrainPosition(e,this):e;if("x"===this.lockAxis||"x"===t?i=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x:o,y:s}=this._pickupPositionInElement,a=this._boundaryRect,l=this._previewRect,c=a.top+s,u=a.bottom-(l.height-s);r=OI(r,a.left+o,a.right-(l.width-o)),i=OI(i,c,u)}return{x:r,y:i}}_updatePointerDirectionDelta(e){const{x:t,y:r}=e,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(t-o.x),a=Math.abs(r-o.y);return s>this._config.pointerDirectionChangeThreshold&&(i.x=t>o.x?1:-1,o.x=t),a>this._config.pointerDirectionChangeThreshold&&(i.y=r>o.y?1:-1,o.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,xa(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,AI),e.removeEventListener("touchstart",this._pointerDown,xI)}_applyRootElementTransform(e,t){const r=bf(e,t),i=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=i.transform&&"none"!=i.transform?i.transform:""),i.transform=_f(r,this._initialTransform)}_applyPreviewTransform(e,t){var r;const i=(null===(r=this._previewTemplate)||void 0===r?void 0:r.template)?void 0:this._initialTransform,o=bf(e,t);this._preview.style.transform=_f(o,i)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const r=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const o=r.left-i.left,s=i.right-r.right,a=r.top-i.top,l=i.bottom-r.bottom;r.width>i.width?(o>0&&(e+=o),s>0&&(e-=s)):e=0,r.height>i.height?(a>0&&(t+=a),l>0&&(t-=l)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:Dc(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const r=mf(e);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&Cc(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const e=this._parentPositions.positions.get(this._document);return e?e.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=dI(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const r=this._previewContainer||"global";if("parent"===r)return e;if("global"===r){const i=this._document;return t||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return ur(r)}}function bf(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function OI(n,e,t){return Math.max(e,Math.min(t,n))}function Dc(n){return"t"===n.type[0]}function kI(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const r=e.createElement("div");return t.forEach(i=>r.appendChild(i)),r}function NI(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=bf(e.left,e.top)}function Ec(n,e){return Math.max(0,Math.min(e,n))}class H3{constructor(e,t,r,i,o){this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Me,this.entered=new Me,this.exited=new Me,this.dropped=new Me,this.sorted=new Me,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=ke.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Me,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function m3(n=0,e=bc){return(!Uv(n)||n<0)&&(n=0),(!e||"function"!=typeof e.schedule)&&(e=bc),new Ne(t=>(t.add(e.schedule(v3,n,{subscriber:t,counter:0,period:n})),t))}(0,vI).pipe(yI(this._stopScrollTimers)).subscribe(()=>{const s=this._scrollNode,a=this.autoScrollStep;1===this._verticalScrollDirection?s.scrollBy(0,-a):2===this._verticalScrollDirection&&s.scrollBy(0,a),1===this._horizontalScrollDirection?s.scrollBy(-a,0):2===this._horizontalScrollDirection&&s.scrollBy(a,0)})},this.element=ur(e),this._document=r,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new wI(r,o)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,r,i){let o;this._draggingStarted(),null==i?(o=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===o&&(o=this._getItemIndexFromPointerPosition(e,t,r))):o=i;const s=this._activeDraggables,a=s.indexOf(e),l=e.getPlaceholderElement();let c=s[o];if(c===e&&(c=s[o+1]),!c&&(null==o||-1===o||o<s.length-1)&&this._shouldEnterAsFirstChild(t,r)&&(c=s[0]),a>-1&&s.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){const u=c.getRootElement();u.parentElement.insertBefore(l,u),s.splice(o,0,e)}else ur(this.element).appendChild(l),s.push(e);l.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,r,i,o,s,a){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:o,distance:s,dropPoint:a})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(t.filter(i=>i.isDragging()).every(i=>-1===e.indexOf(i))?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=ur(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,r,i){if(this.sortingDisabled||!this._clientRect||!EI(this._clientRect,.05,t,r))return;const o=this._itemPositions,s=this._getItemIndexFromPointerPosition(e,t,r,i);if(-1===s&&o.length>0)return;const a="horizontal"===this._orientation,l=o.findIndex(m=>m.drag===e),c=o[s],d=c.clientRect,f=l>s?1:-1,h=this._getItemOffsetPx(o[l].clientRect,d,f),p=this._getSiblingOffsetPx(l,o,f),g=o.slice();(function V3(n,e,t){const r=Ec(e,n.length-1),i=Ec(t,n.length-1);if(r===i)return;const o=n[r],s=i<r?-1:1;for(let a=r;a!==i;a+=s)n[a]=n[a+s];n[i]=o})(o,l,s),this.sorted.next({previousIndex:l,currentIndex:s,container:this,item:e}),o.forEach((m,y)=>{if(g[y]===m)return;const v=m.drag===e,b=v?h:p,_=v?e.getPlaceholderElement():m.drag.getRootElement();m.offset+=b,a?(_.style.transform=_f(`translate3d(${Math.round(m.offset)}px, 0, 0)`,m.initialTransform),Cc(m.clientRect,0,b)):(_.style.transform=_f(`translate3d(0, ${Math.round(m.offset)}px, 0)`,m.initialTransform),Cc(m.clientRect,b,0))}),this._previousSwap.overlaps=Gv(d,t,r),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?i.x:i.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let r,i=0,o=0;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||r||EI(s.clientRect,.05,e,t)&&([i,o]=function U3(n,e,t,r){const i=FI(e,r),o=LI(e,t);let s=0,a=0;if(i){const l=n.scrollTop;1===i?l>0&&(s=1):n.scrollHeight-l>n.clientHeight&&(s=2)}if(o){const l=n.scrollLeft;1===o?l>0&&(a=1):n.scrollWidth-l>n.clientWidth&&(a=2)}return[s,a]}(a,s.clientRect,e,t),(i||o)&&(r=a))}),!i&&!o){const{width:s,height:a}=this._viewportRuler.getViewportSize(),l={width:s,height:a,top:0,right:s,bottom:a,left:0};i=FI(l,t),o=LI(l,e),r=window}r&&(i!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=r,(i||o)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=ur(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=ur(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const r=t.getVisibleElement();return{drag:t,offset:0,initialTransform:r.style.transform||"",clientRect:$v(r)}}).sort((t,r)=>e?t.clientRect.left-r.clientRect.left:t.clientRect.top-r.clientRect.top)}_reset(){this._isDragging=!1;const e=ur(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{var r;const i=t.getRootElement();if(i){const o=null===(r=this._itemPositions.find(s=>s.drag===t))||void 0===r?void 0:r.initialTransform;i.style.transform=o||""}}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,r){const i="horizontal"===this._orientation,o=t[e].clientRect,s=t[e+-1*r];let a=o[i?"width":"height"]*r;if(s){const l=i?"left":"top",c=i?"right":"bottom";-1===r?a-=s.clientRect[l]-o[c]:a+=o[l]-s.clientRect[c]}return a}_getItemOffsetPx(e,t,r){const i="horizontal"===this._orientation;let o=i?t.left-e.left:t.top-e.top;return-1===r&&(o+=i?t.width-e.width:t.height-e.height),o}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,i="horizontal"===this._orientation;if(r[0].drag!==this._activeDraggables[0]){const s=r[r.length-1].clientRect;return i?e>=s.right:t>=s.bottom}{const s=r[0].clientRect;return i?e<=s.left:t<=s.top}}_getItemIndexFromPointerPosition(e,t,r,i){const o="horizontal"===this._orientation,s=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===e)return!1;if(i){const c=o?i.x:i.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return o?t>=Math.floor(l.left)&&t<Math.floor(l.right):r>=Math.floor(l.top)&&r<Math.floor(l.bottom)});return-1!==s&&this.sortPredicate(s,e,this)?s:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return null!=this._clientRect&&Gv(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,r){return this._siblings.find(i=>i._canReceive(e,t,r))}_canReceive(e,t,r){if(!this._clientRect||!Gv(this._clientRect,t,r)||!this.enterPredicate(e,this))return!1;const i=this._getShadowRoot().elementFromPoint(t,r);if(!i)return!1;const o=ur(this.element);return i===o||o.contains(i)}_startReceiving(e,t){const r=this._activeSiblings;!r.has(e)&&t.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:r})=>{Cc(r,t.top,t.left)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=dI(ur(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function FI(n,e){const{top:t,bottom:r,height:i}=n,o=.05*i;return e>=t-o&&e<=t+o?1:e>=r-o&&e<=r+o?2:0}function LI(n,e){const{left:t,right:r,width:i}=n,o=.05*i;return e>=t-o&&e<=t+o?1:e>=r-o&&e<=r+o?2:0}const Cf=_c({passive:!1,capture:!0});let z3=(()=>{class n{constructor(t,r){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=i=>i.isDragging(),this.pointerMove=new Me,this.pointerUp=new Me,this.scroll=new Me,this._preventDefaultWhileDragging=i=>{this._activeDragInstances.length>0&&i.preventDefault()},this._persistentTouchmoveListener=i=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&i.preventDefault(),this.pointerMove.next(i))},this._document=r}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Cf)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Cf)}startDragging(t,r){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const i=r.type.startsWith("touch");this._globalListeners.set(i?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Cf}),i||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:Cf}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,s)=>{this._document.addEventListener(s,o.handler,o.options)})})}}stopDragging(t){const r=this._activeDragInstances.indexOf(t);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const r=[this.scroll];return t&&t!==this._document&&r.push(new Ne(i=>this._ngZone.runOutsideAngular(()=>{const s=a=>{this._activeDragInstances.length&&i.next(a)};return t.addEventListener("scroll",s,!0),()=>{t.removeEventListener("scroll",s,!0)}}))),vp(...r)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,r)=>{this._document.removeEventListener(r,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(R(ot),R(Vt))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const W3={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let $3=(()=>{class n{constructor(t,r,i,o){this._document=t,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=o}createDrag(t,r=W3){return new j3(t,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new H3(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(R(Vt),R(ot),R(R3),R(z3))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({providers:[$3],imports:[P3]}),n})(),n4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[[Pr,Mz,vc,pf,BI],vc,BI]}),n})();const r4=["headerchkbox"];function o4(n,e){1&n&&bn(0)}function s4(n,e){if(1&n&&(H(0,"div",6),Ni(1),q(2,o4,1,0,"ng-container",7),W()),2&n){const t=U();N(2),k("ngTemplateOutlet",t.headerTemplate)}}const jI=function(n){return{"p-checkbox-disabled":n}},a4=function(n,e,t){return{"p-highlight":n,"p-focus":e,"p-disabled":t}},VI=function(n){return{"pi pi-check":n}};function l4(n,e){if(1&n){const t=ni();H(0,"div",10)(1,"div",11)(2,"input",12),Le("focus",function(){return Bt(t),U(2).onHeaderCheckboxFocus()})("blur",function(){return Bt(t),U(2).onHeaderCheckboxBlur()})("keydown.space",function(i){return Bt(t),U(2).toggleAll(i)}),W()(),H(3,"div",13,14),Le("click",function(i){return Bt(t),U(2).toggleAll(i)}),$t(5,"span",15),W()()}if(2&n){const t=U(2);k("ngClass",Or(5,jI,t.disabled||t.toggleAllDisabled)),N(2),k("checked",t.allChecked)("disabled",t.disabled||t.toggleAllDisabled),N(1),k("ngClass",function pw(n,e,t,r,i,o){return vw(T(),vn(),n,e,t,r,i,o)}(7,a4,t.allChecked,t.headerCheckboxFocus,t.disabled||t.toggleAllDisabled)),N(2),k("ngClass",Or(11,VI,t.allChecked))}}function c4(n,e){if(1&n){const t=ni();H(0,"div",16)(1,"input",17),Le("input",function(i){return Bt(t),U(2).onFilter(i)}),W(),$t(2,"span",18),W()}if(2&n){const t=U(2);N(1),k("value",t.filterValue||"")("disabled",t.disabled),Gn("placeholder",t.filterPlaceHolder)("aria-label",t.ariaFilterLabel)}}function u4(n,e){if(1&n&&(H(0,"div",6),q(1,l4,6,13,"div",8),q(2,c4,3,4,"div",9),W()),2&n){const t=U();N(1),k("ngIf",t.checkbox&&t.multiple&&t.showToggleAll),N(1),k("ngIf",t.filter)}}function d4(n,e){if(1&n&&(H(0,"span"),Ye(1),W()),2&n){const t=U().$implicit,r=U(2);N(1),An(r.getOptionGroupLabel(t)||"empty")}}function f4(n,e){1&n&&bn(0)}function h4(n,e){1&n&&bn(0)}const Kv=function(n){return{$implicit:n}};function p4(n,e){if(1&n&&(H(0,"li",20),q(1,d4,2,1,"span",3),q(2,f4,1,0,"ng-container",21),W(),q(3,h4,1,0,"ng-container",21)),2&n){const t=e.$implicit,r=U(2),i=co(8);N(1),k("ngIf",!r.groupTemplate),N(1),k("ngTemplateOutlet",r.groupTemplate)("ngTemplateOutletContext",Or(5,Kv,t)),N(1),k("ngTemplateOutlet",i)("ngTemplateOutletContext",Or(7,Kv,r.getOptionGroupChildren(t)))}}function g4(n,e){if(1&n&&(Oi(0),q(1,p4,4,9,"ng-template",19),ki()),2&n){const t=U();N(1),k("ngForOf",t.optionsToRender)}}function m4(n,e){1&n&&bn(0)}function v4(n,e){if(1&n&&(Oi(0),q(1,m4,1,0,"ng-container",21),ki()),2&n){const t=U(),r=co(8);N(1),k("ngTemplateOutlet",r)("ngTemplateOutletContext",Or(2,Kv,t.optionsToRender))}}const y4=function(n){return{"p-highlight":n}};function _4(n,e){if(1&n&&(H(0,"div",10)(1,"div",25),$t(2,"span",15),W()()),2&n){const t=U().$implicit,r=U(2);k("ngClass",Or(3,jI,r.disabled||r.isOptionDisabled(t))),N(1),k("ngClass",Or(5,y4,r.isSelected(t))),N(1),k("ngClass",Or(7,VI,r.isSelected(t)))}}function b4(n,e){if(1&n&&(H(0,"span"),Ye(1),W()),2&n){const t=U().$implicit,r=U(2);N(1),An(r.getOptionLabel(t))}}function C4(n,e){1&n&&bn(0)}const D4=function(n,e){return{"p-listbox-item":!0,"p-highlight":n,"p-disabled":e}},E4=function(n,e){return{$implicit:n,index:e}};function w4(n,e){if(1&n){const t=ni();H(0,"li",24),Le("click",function(i){const s=Bt(t).$implicit;return U(2).onOptionClick(i,s)})("dblclick",function(i){const s=Bt(t).$implicit;return U(2).onOptionDoubleClick(i,s)})("touchend",function(){const o=Bt(t).$implicit;return U(2).onOptionTouchEnd(o)})("keydown",function(i){const s=Bt(t).$implicit;return U(2).onOptionKeyDown(i,s)}),q(1,_4,3,9,"div",8),q(2,b4,2,1,"span",3),q(3,C4,1,0,"ng-container",21),W()}if(2&n){const t=e.$implicit,r=e.index,i=U(2);k("ngClass",Cm(8,D4,i.isSelected(t),i.isOptionDisabled(t))),Gn("tabindex",i.disabled||i.isOptionDisabled(t)?null:"0")("aria-label",i.getOptionLabel(t))("aria-selected",i.isSelected(t)),N(1),k("ngIf",i.checkbox&&i.multiple),N(1),k("ngIf",!i.itemTemplate),N(1),k("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",Cm(11,E4,t,r))}}function S4(n,e){if(1&n&&(Oi(0),Ye(1),ki()),2&n){const t=U(3);N(1),uo(" ",t.emptyFilterMessageLabel," ")}}function M4(n,e){1&n&&bn(0,null,28)}function I4(n,e){if(1&n&&(H(0,"li",26),q(1,S4,2,1,"ng-container",27),q(2,M4,2,0,"ng-container",7),W()),2&n){const t=U(2);N(1),k("ngIf",!t.emptyFilterTemplate&&!t.emptyTemplate)("ngIfElse",t.emptyFilter),N(1),k("ngTemplateOutlet",t.emptyFilterTemplate||t.emptyTemplate)}}function T4(n,e){if(1&n&&(Oi(0),Ye(1),ki()),2&n){const t=U(3);N(1),uo(" ",t.emptyMessageLabel," ")}}function x4(n,e){1&n&&bn(0,null,29)}function A4(n,e){if(1&n&&(H(0,"li",26),q(1,T4,2,1,"ng-container",27),q(2,x4,2,0,"ng-container",7),W()),2&n){const t=U(2);N(1),k("ngIf",!t.emptyTemplate)("ngIfElse",t.empty),N(1),k("ngTemplateOutlet",t.emptyTemplate)}}function O4(n,e){if(1&n&&(q(0,w4,4,14,"li",22),q(1,I4,3,3,"li",23),q(2,A4,3,3,"li",23)),2&n){const t=e.$implicit,r=U();k("ngForOf",t),N(1),k("ngIf",r.hasFilter()&&r.isEmpty(t)),N(1),k("ngIf",!r.hasFilter()&&r.isEmpty(t))}}function k4(n,e){1&n&&bn(0)}function N4(n,e){if(1&n&&(H(0,"div",30),Ni(1,1),q(2,k4,1,0,"ng-container",7),W()),2&n){const t=U();N(2),k("ngTemplateOutlet",t.footerTemplate)}}const R4=[[["p-header"]],[["p-footer"]]],P4=function(n){return{"p-listbox p-component":!0,"p-disabled":n}},F4=["p-header","p-footer"],L4={provide:cr,useExisting:Ve(()=>B4),multi:!0};let B4=(()=>{class n{constructor(t,r,i,o){this.el=t,this.cd=r,this.filterService=i,this.config=o,this.checkbox=!1,this.filter=!1,this.filterMatchMode="contains",this.metaKeySelection=!0,this.showToggleAll=!0,this.optionGroupChildren="items",this.onChange=new Ae,this.onClick=new Ae,this.onDblClick=new Ae,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get options(){return this._options}set options(t){this._options=t,this.hasFilter()&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(t){this._filterValue=t,this.activateFilter()}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()})}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"emptyfilter":this.emptyFilterTemplate=t.template}})}getOptionLabel(t){return this.optionLabel?pt.resolveFieldData(t,this.optionLabel):null!=t.label?t.label:t}getOptionGroupChildren(t){return this.optionGroupChildren?pt.resolveFieldData(t,this.optionGroupChildren):t.items}getOptionGroupLabel(t){return this.optionGroupLabel?pt.resolveFieldData(t,this.optionGroupLabel):null!=t.label?t.label:t}getOptionValue(t){return this.optionValue?pt.resolveFieldData(t,this.optionValue):this.optionLabel||void 0===t.value?t:t.value}isOptionDisabled(t){return this.optionDisabled?pt.resolveFieldData(t,this.optionDisabled):void 0!==t.disabled&&t.disabled}writeValue(t){this.value=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onOptionClick(t,r){this.disabled||this.isOptionDisabled(r)||this.readonly||(this.multiple?this.checkbox?this.onOptionClickCheckbox(t,r):this.onOptionClickMultiple(t,r):this.onOptionClickSingle(t,r),this.onClick.emit({originalEvent:t,option:r,value:this.value}),this.optionTouched=!1)}onOptionTouchEnd(t){this.disabled||this.isOptionDisabled(t)||this.readonly||(this.optionTouched=!0)}onOptionDoubleClick(t,r){this.disabled||this.isOptionDisabled(r)||this.readonly||this.onDblClick.emit({originalEvent:t,option:r,value:this.value})}onOptionClickSingle(t,r){let i=this.isSelected(r),o=!1;if(!this.optionTouched&&this.metaKeySelection){let a=t.metaKey||t.ctrlKey;i?a&&(this.value=null,o=!0):(this.value=this.getOptionValue(r),o=!0)}else this.value=i?null:this.getOptionValue(r),o=!0;o&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}))}onOptionClickMultiple(t,r){let i=this.isSelected(r),o=!1;if(!this.optionTouched&&this.metaKeySelection){let a=t.metaKey||t.ctrlKey;i?(a?this.removeOption(r):this.value=[this.getOptionValue(r)],o=!0):(this.value=a&&this.value||[],this.value=[...this.value,this.getOptionValue(r)],o=!0)}else i?this.removeOption(r):this.value=[...this.value||[],this.getOptionValue(r)],o=!0;o&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}))}onOptionClickCheckbox(t,r){this.disabled||this.readonly||(this.isSelected(r)?this.removeOption(r):(this.value=this.value?this.value:[],this.value=[...this.value,this.getOptionValue(r)]),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}))}removeOption(t){this.value=this.value.filter(r=>!pt.equals(r,this.getOptionValue(t),this.dataKey))}isSelected(t){let r=!1,i=this.getOptionValue(t);if(this.multiple){if(this.value)for(let o of this.value)if(pt.equals(o,i,this.dataKey)){r=!0;break}}else r=pt.equals(this.value,i,this.dataKey);return r}get allChecked(){let t=this.optionsToRender;if(!t||0===t.length)return!1;{let r=0,i=0,o=0,s=this.group?0:this.optionsToRender.length;for(let a of t)if(this.group)for(let l of this.getOptionGroupChildren(a)){let c=this.isOptionDisabled(l),u=this.isSelected(l);if(c)u?r++:i++;else{if(!u)return!1;o++}s++}else{let l=this.isOptionDisabled(a),c=this.isSelected(a);if(l)c?r++:i++;else{if(!c)return!1;o++}}return s===r||s===o||o&&s===o+i+r}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(aI.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(aI.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(t){return!t||t&&0===t.length}onFilter(t){this._filterValue=t.target.value,this.activateFilter()}activateFilter(){if(this.hasFilter()&&this._options)if(this.group){let t=(this.optionLabel||"label").split(","),r=[];for(let i of this.options){let o=this.filterService.filter(this.getOptionGroupChildren(i),t,this.filterValue,this.filterMatchMode,this.filterLocale);o&&o.length&&r.push(Object.assign(Object.assign({},i),{[this.optionGroupChildren]:o}))}this._filteredOptions=r}else this._filteredOptions=this._options.filter(t=>this.filterService.filters[this.filterMatchMode](this.getOptionLabel(t),this._filterValue,this.filterLocale));else this._filteredOptions=null}get toggleAllDisabled(){let t=this.optionsToRender;if(!t||0===t.length)return!0;for(let r of t)if(!this.isOptionDisabled(r))return!1;return!0}toggleAll(t){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}),t.preventDefault())}checkAll(){let r=[];this.optionsToRender.forEach(i=>{if(this.group){let o=this.getOptionGroupChildren(i);o&&o.forEach(s=>{let a=this.isOptionDisabled(s);(!a||a&&this.isSelected(s))&&r.push(this.getOptionValue(s))})}else{let o=this.isOptionDisabled(i);(!o||o&&this.isSelected(i))&&r.push(this.getOptionValue(i))}}),this.value=r}uncheckAll(){let r=[];this.optionsToRender.forEach(i=>{this.group?i.items&&i.items.forEach(o=>{this.isOptionDisabled(o)&&this.isSelected(o)&&r.push(this.getOptionValue(o))}):this.isOptionDisabled(i)&&this.isSelected(i)&&r.push(this.getOptionValue(i))}),this.value=r}onOptionKeyDown(t,r){if(this.readonly)return;let i=t.currentTarget;switch(t.which){case 40:var o=this.findNextItem(i);o&&o.focus(),t.preventDefault();break;case 38:var s=this.findPrevItem(i);s&&s.focus(),t.preventDefault();break;case 13:this.onOptionClick(t,r),t.preventDefault()}}findNextItem(t){let r=t.nextElementSibling;return r?Pt.hasClass(r,"p-disabled")||Pt.isHidden(r)||Pt.hasClass(r,"p-listbox-item-group")?this.findNextItem(r):r:null}findPrevItem(t){let r=t.previousElementSibling;return r?Pt.hasClass(r,"p-disabled")||Pt.isHidden(r)||Pt.hasClass(r,"p-listbox-item-group")?this.findPrevItem(r):r:null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(w(_t),w(es),w(Ez),w(sI))},n.\u0275cmp=Et({type:n,selectors:[["p-listbox"]],contentQueries:function(t,r,i){if(1&t&&(ai(i,lI,5),ai(i,cI,5),ai(i,jv,4)),2&t){let o;qn(o=Kn())&&(r.headerFacet=o.first),qn(o=Kn())&&(r.footerFacet=o.first),qn(o=Kn())&&(r.templates=o)}},viewQuery:function(t,r){if(1&t&&xd(r4,5),2&t){let i;qn(i=Kn())&&(r.headerCheckboxViewChild=i.first)}},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:"readonly",disabled:"disabled",checkbox:"checkbox",filter:"filter",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:"metaKeySelection",dataKey:"dataKey",showToggleAll:"showToggleAll",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:"group",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick"},features:[Qe([L4])],ngContentSelectors:F4,decls:10,vars:15,consts:[[3,"ngClass","ngStyle"],["class","p-listbox-header",4,"ngIf"],["role","listbox","aria-multiselectable","multiple",1,"p-listbox-list"],[4,"ngIf"],["itemslist",""],["class","p-listbox-footer",4,"ngIf"],[1,"p-listbox-header"],[4,"ngTemplateOutlet"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],["class","p-listbox-filter-container",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],[1,"p-checkbox-box",3,"ngClass","click"],["headerchkbox",""],[1,"p-checkbox-icon",3,"ngClass"],[1,"p-listbox-filter-container"],["type","text",1,"p-listbox-filter","p-inputtext","p-component",3,"value","disabled","input"],[1,"p-listbox-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-listbox-item-group"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown",4,"ngFor","ngForOf"],["class","p-listbox-empty-message",4,"ngIf"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-listbox-empty-message"],[4,"ngIf","ngIfElse"],["emptyFilter",""],["empty",""],[1,"p-listbox-footer"]],template:function(t,r){1&t&&(ma(R4),H(0,"div",0),q(1,s4,3,1,"div",1),q(2,u4,3,2,"div",1),H(3,"div",0)(4,"ul",2),q(5,g4,2,1,"ng-container",3),q(6,v4,2,4,"ng-container",3),q(7,O4,3,3,"ng-template",null,4,Jo),W()(),q(9,N4,3,1,"div",5),W()),2&t&&(_d(r.styleClass),k("ngClass",Or(13,P4,r.disabled))("ngStyle",r.style),N(1),k("ngIf",r.headerFacet||r.headerTemplate),N(1),k("ngIf",r.checkbox&&r.multiple&&r.showToggleAll||r.filter),N(1),_d(r.listStyleClass),k("ngClass","p-listbox-list-wrapper")("ngStyle",r.listStyle),N(2),k("ngIf",r.group),N(1),k("ngIf",!r.group),N(3),k("ngIf",r.footerFacet||r.footerTemplate))},directives:[uc,ov,ho,sv,Kd,wz],styles:[".p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.p-listbox-header{display:flex;align-items:center}.p-listbox-filter-container{position:relative;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),j4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[[Pr,vc,pf],vc]}),n})();function an(n){this.content=n}an.prototype={constructor:an,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return-1==e?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),o=r.content.slice();return-1==i?o.push(t||n,e):(o[i+1]=e,t&&(o[i]=t)),new an(o)},remove:function(n){var e=this.find(n);if(-1==e)return this;var t=this.content.slice();return t.splice(e,2),new an(t)},addToStart:function(n,e){return new an([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new an(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),o=r.find(n);return i.splice(-1==o?i.length:o,0,e,t),new an(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return(n=an.from(n)).size?new an(n.content.concat(this.subtract(n).content)):this},append:function(n){return(n=an.from(n)).size?new an(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=an.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},get size(){return this.content.length>>1}},an.from=function(n){if(n instanceof an)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new an(e)};const HI=an;function UI(n,e,t){for(var r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;var i=n.child(r),o=e.child(r);if(i!=o){if(!i.sameMarkup(o))return t;if(i.isText&&i.text!=o.text){for(var s=0;i.text[s]==o.text[s];s++)t++;return t}if(i.content.size||o.content.size){var a=UI(i.content,o.content,t+1);if(null!=a)return a}t+=i.nodeSize}else t+=i.nodeSize}}function zI(n,e,t,r){for(var i=n.childCount,o=e.childCount;;){if(0==i||0==o)return i==o?null:{a:t,b:r};var s=n.child(--i),a=e.child(--o),l=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:t,b:r};if(s.isText&&s.text!=a.text){for(var c=0,u=Math.min(s.text.length,a.text.length);c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,t--,r--;return{a:t,b:r}}if(s.content.size||a.content.size){var d=zI(s.content,a.content,t-1,r-1);if(d)return d}t-=l,r-=l}else t-=l,r-=l}}var M=function(e,t){if(this.content=e,this.size=t||0,null==t)for(var r=0;r<e.length;r++)this.size+=e[r].nodeSize},Df={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};M.prototype.nodesBetween=function(e,t,r,i,o){void 0===i&&(i=0);for(var s=0,a=0;a<t;s++){var l=this.content[s],c=a+l.nodeSize;if(c>e&&!1!==r(l,i+a,o,s)&&l.content.size){var u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,t-u),r,i+u)}a=c}},M.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)},M.prototype.textBetween=function(e,t,r,i){var o="",s=!0;return this.nodesBetween(e,t,function(a,l){a.isText?(o+=a.text.slice(Math.max(e,l)-l,t-l),s=!r):a.isLeaf&&i?(o+="function"==typeof i?i(a):i,s=!r):!s&&a.isBlock&&(o+=r,s=!0)},0),o},M.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var t=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new M(i,this.size+e.size)},M.prototype.cut=function(e,t){if(null==t&&(t=this.size),0==e&&t==this.size)return this;var r=[],i=0;if(t>e)for(var o=0,s=0;s<t;o++){var a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>t)&&(a=a.isText?a.cut(Math.max(0,e-s),Math.min(a.text.length,t-s)):a.cut(Math.max(0,e-s-1),Math.min(a.content.size,t-s-1))),r.push(a),i+=a.nodeSize),s=l}return new M(r,i)},M.prototype.cutByIndex=function(e,t){return e==t?M.empty:0==e&&t==this.content.length?this:new M(this.content.slice(e,t))},M.prototype.replaceChild=function(e,t){var r=this.content[e];if(r==t)return this;var i=this.content.slice(),o=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new M(i,o)},M.prototype.addToStart=function(e){return new M([e].concat(this.content),this.size+e.nodeSize)},M.prototype.addToEnd=function(e){return new M(this.content.concat(e),this.size+e.nodeSize)},M.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0},Df.firstChild.get=function(){return this.content.length?this.content[0]:null},Df.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},Df.childCount.get=function(){return this.content.length},M.prototype.child=function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t},M.prototype.maybeChild=function(e){return this.content[e]},M.prototype.forEach=function(e){for(var t=0,r=0;t<this.content.length;t++){var i=this.content[t];e(i,r,t),r+=i.nodeSize}},M.prototype.findDiffStart=function(e,t){return void 0===t&&(t=0),UI(this,e,t)},M.prototype.findDiffEnd=function(e,t,r){return void 0===t&&(t=this.size),void 0===r&&(r=e.size),zI(this,e,t,r)},M.prototype.findIndex=function(e,t){if(void 0===t&&(t=-1),0==e)return Ef(0,e);if(e==this.size)return Ef(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var r=0,i=0;;r++){var s=i+this.child(r).nodeSize;if(s>=e)return s==e||t>0?Ef(r+1,s):Ef(r,i);i=s}},M.prototype.toString=function(){return"<"+this.toStringInner()+">"},M.prototype.toStringInner=function(){return this.content.join(", ")},M.prototype.toJSON=function(){return this.content.length?this.content.map(function(e){return e.toJSON()}):null},M.fromJSON=function(e,t){if(!t)return M.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new M(t.map(e.nodeFromJSON))},M.fromArray=function(e){if(!e.length)return M.empty;for(var t,r=0,i=0;i<e.length;i++){var o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(t||(t=e.slice(0,i)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new M(t||e,r)},M.from=function(e){if(!e)return M.empty;if(e instanceof M)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new M([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(M.prototype,Df);var Zv={index:0,offset:0};function Ef(n,e){return Zv.index=n,Zv.offset=e,Zv}function wf(n,e){if(n===e)return!0;if(!n||"object"!=typeof n||!e||"object"!=typeof e)return!1;var t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(var r=0;r<n.length;r++)if(!wf(n[r],e[r]))return!1}else{for(var i in n)if(!(i in e)||!wf(n[i],e[i]))return!1;for(var o in e)if(!(o in n))return!1}return!0}M.empty=new M([],0);var Ce=function(e,t){this.type=e,this.attrs=t};function ci(n){var e=Error.call(this,n);return e.__proto__=ci.prototype,e}Ce.prototype.addToSet=function(e){for(var t,r=!1,i=0;i<e.length;i++){var o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(o)}}return t||(t=e.slice()),r||t.push(this),t},Ce.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e},Ce.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1},Ce.prototype.eq=function(e){return this==e||this.type==e.type&&wf(this.attrs,e.attrs)},Ce.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e},Ce.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var r=e.marks[t.type];if(!r)throw new RangeError("There is no mark type "+t.type+" in this schema");return r.create(t.attrs)},Ce.sameSet=function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0},Ce.setFrom=function(e){if(!e||0==e.length)return Ce.none;if(e instanceof Ce)return[e];var t=e.slice();return t.sort(function(r,i){return r.type.rank-i.type.rank}),t},Ce.none=[],(ci.prototype=Object.create(Error.prototype)).constructor=ci,ci.prototype.name="ReplaceError";var F=function(e,t,r){this.content=e,this.openStart=t,this.openEnd=r},WI={size:{configurable:!0}};function $I(n,e,t){var r=n.findIndex(e),i=r.index,o=r.offset,s=n.maybeChild(i),a=n.findIndex(t),l=a.index;if(o==e||s.isText){if(a.offset!=t&&!n.child(l).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(i!=l)throw new RangeError("Removing non-flat range");return n.replaceChild(i,s.copy($I(s.content,e-o-1,t-o-1)))}function GI(n,e,t,r){var i=n.findIndex(e),o=i.index,s=i.offset,a=n.maybeChild(o);if(s==e||a.isText)return r&&!r.canReplace(o,o,t)?null:n.cut(0,e).append(t).append(n.cut(e));var l=GI(a.content,e-s-1,t);return l&&n.replaceChild(o,a.copy(l))}function V4(n,e,t){if(t.openStart>n.depth)throw new ci("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new ci("Inconsistent open depths");return qI(n,e,t,0)}function qI(n,e,t,r){var i=n.index(r),o=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){var s=qI(n,e,t,r+1);return o.copy(o.content.replaceChild(i,s))}if(t.content.size){if(t.openStart||t.openEnd||n.depth!=r||e.depth!=r){var c=function H4(n,e){for(var t=e.depth-n.openStart,i=e.node(t).copy(n.content),o=t-1;o>=0;o--)i=e.node(o).copy(M.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}(t,n);return ls(o,ZI(n,c.start,c.end,e,r))}var a=n.parent,l=a.content;return ls(a,l.cut(0,n.parentOffset).append(t.content).append(l.cut(e.parentOffset)))}return ls(o,Sf(n,e,r))}function KI(n,e){if(!e.type.compatibleContent(n.type))throw new ci("Cannot join "+e.type.name+" onto "+n.type.name)}function Yv(n,e,t){var r=n.node(t);return KI(r,e.node(t)),r}function as(n,e){var t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function wc(n,e,t,r){var i=(e||n).node(t),o=0,s=e?e.index(t):i.childCount;n&&(o=n.index(t),n.depth>t?o++:n.textOffset&&(as(n.nodeAfter,r),o++));for(var a=o;a<s;a++)as(i.child(a),r);e&&e.depth==t&&e.textOffset&&as(e.nodeBefore,r)}function ls(n,e){if(!n.type.validContent(e))throw new ci("Invalid content for node "+n.type.name);return n.copy(e)}function ZI(n,e,t,r,i){var o=n.depth>i&&Yv(n,e,i+1),s=r.depth>i&&Yv(t,r,i+1),a=[];return wc(null,n,i,a),o&&s&&e.index(i)==t.index(i)?(KI(o,s),as(ls(o,ZI(n,e,t,r,i+1)),a)):(o&&as(ls(o,Sf(n,e,i+1)),a),wc(e,t,i,a),s&&as(ls(s,Sf(t,r,i+1)),a)),wc(r,null,i,a),new M(a)}function Sf(n,e,t){var r=[];return wc(null,n,t,r),n.depth>t&&as(ls(Yv(n,e,t+1),Sf(n,e,t+1)),r),wc(e,null,t,r),new M(r)}WI.size.get=function(){return this.content.size-this.openStart-this.openEnd},F.prototype.insertAt=function(e,t){var r=GI(this.content,e+this.openStart,t,null);return r&&new F(r,this.openStart,this.openEnd)},F.prototype.removeBetween=function(e,t){return new F($I(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)},F.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd},F.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},F.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e},F.fromJSON=function(e,t){if(!t)return F.empty;var r=t.openStart||0,i=t.openEnd||0;if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid input for Slice.fromJSON");return new F(M.fromJSON(e,t.content),r,i)},F.maxOpen=function(e,t){void 0===t&&(t=!0);for(var r=0,i=0,o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)r++;for(var s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)i++;return new F(e,r,i)},Object.defineProperties(F.prototype,WI),F.empty=new F(M.empty,0,0);var st=function(e,t,r){this.pos=e,this.path=t,this.depth=t.length/3-1,this.parentOffset=r},Aa={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};st.prototype.resolveDepth=function(e){return null==e?this.depth:e<0?this.depth+e:e},Aa.parent.get=function(){return this.node(this.depth)},Aa.doc.get=function(){return this.node(0)},st.prototype.node=function(e){return this.path[3*this.resolveDepth(e)]},st.prototype.index=function(e){return this.path[3*this.resolveDepth(e)+1]},st.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)},st.prototype.start=function(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1},st.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size},st.prototype.before=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]},st.prototype.after=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize},Aa.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},Aa.nodeAfter.get=function(){var n=this.parent,e=this.index(this.depth);if(e==n.childCount)return null;var t=this.pos-this.path[this.path.length-1],r=n.child(e);return t?n.child(e).cut(t):r},Aa.nodeBefore.get=function(){var n=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(n).cut(0,e):0==n?null:this.parent.child(n-1)},st.prototype.posAtIndex=function(e,t){t=this.resolveDepth(t);for(var r=this.path[3*t],i=0==t?0:this.path[3*t-1]+1,o=0;o<e;o++)i+=r.child(o).nodeSize;return i},st.prototype.marks=function(){var e=this.parent,t=this.index();if(0==e.content.size)return Ce.none;if(this.textOffset)return e.child(t).marks;var r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){var o=r;r=i,i=o}for(var s=r.marks,a=0;a<s.length;a++)!1===s[a].type.spec.inclusive&&(!i||!s[a].isInSet(i.marks))&&(s=s[a--].removeFromSet(s));return s},st.prototype.marksAcross=function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var r=t.marks,i=e.parent.maybeChild(e.index()),o=0;o<r.length;o++)!1===r[o].type.spec.inclusive&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r},st.prototype.sharedDepth=function(e){for(var t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0},st.prototype.blockRange=function(e,t){if(void 0===e&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new Sc(this,e,r)},st.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset},st.prototype.max=function(e){return e.pos>this.pos?e:this},st.prototype.min=function(e){return e.pos<this.pos?e:this},st.prototype.toString=function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset},st.resolve=function(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");for(var r=[],i=0,o=t,s=e;;){var a=s.content.findIndex(o),l=a.index,c=a.offset,u=o-c;if(r.push(s,l,i+c),!u||(s=s.child(l)).isText)break;o=u-1,i+=c+1}return new st(t,r,o)},st.resolveCached=function(e,t){for(var r=0;r<Qv.length;r++){var i=Qv[r];if(i.pos==t&&i.doc==e)return i}var o=Qv[Jv]=st.resolve(e,t);return Jv=(Jv+1)%U4,o},Object.defineProperties(st.prototype,Aa);var Qv=[],Jv=0,U4=12,Sc=function(e,t,r){this.$from=e,this.$to=t,this.depth=r},Oa={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};Oa.start.get=function(){return this.$from.before(this.depth+1)},Oa.end.get=function(){return this.$to.after(this.depth+1)},Oa.parent.get=function(){return this.$from.node(this.depth)},Oa.startIndex.get=function(){return this.$from.index(this.depth)},Oa.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(Sc.prototype,Oa);var z4=Object.create(null),Ee=function(e,t,r,i){this.type=e,this.attrs=t,this.content=r||M.empty,this.marks=i||Ce.none},Zn={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};Zn.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},Zn.childCount.get=function(){return this.content.childCount},Ee.prototype.child=function(e){return this.content.child(e)},Ee.prototype.maybeChild=function(e){return this.content.maybeChild(e)},Ee.prototype.forEach=function(e){this.content.forEach(e)},Ee.prototype.nodesBetween=function(e,t,r,i){void 0===i&&(i=0),this.content.nodesBetween(e,t,r,i,this)},Ee.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)},Zn.textContent.get=function(){return this.textBetween(0,this.content.size,"")},Ee.prototype.textBetween=function(e,t,r,i){return this.content.textBetween(e,t,r,i)},Zn.firstChild.get=function(){return this.content.firstChild},Zn.lastChild.get=function(){return this.content.lastChild},Ee.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)},Ee.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)},Ee.prototype.hasMarkup=function(e,t,r){return this.type==e&&wf(this.attrs,t||e.defaultAttrs||z4)&&Ce.sameSet(this.marks,r||Ce.none)},Ee.prototype.copy=function(e){return void 0===e&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)},Ee.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)},Ee.prototype.cut=function(e,t){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))},Ee.prototype.slice=function(e,t,r){if(void 0===t&&(t=this.content.size),void 0===r&&(r=!1),e==t)return F.empty;var i=this.resolve(e),o=this.resolve(t),s=r?0:i.sharedDepth(t),a=i.start(s),c=i.node(s).content.cut(i.pos-a,o.pos-a);return new F(c,i.depth-s,o.depth-s)},Ee.prototype.replace=function(e,t,r){return V4(this.resolve(e),this.resolve(t),r)},Ee.prototype.nodeAt=function(e){for(var t=this;;){var r=t.content.findIndex(e),o=r.offset;if(!(t=t.maybeChild(r.index)))return null;if(o==e||t.isText)return t;e-=o+1}},Ee.prototype.childAfter=function(e){var t=this.content.findIndex(e),r=t.index,i=t.offset;return{node:this.content.maybeChild(r),index:r,offset:i}},Ee.prototype.childBefore=function(e){if(0==e)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),r=t.index,i=t.offset;if(i<e)return{node:this.content.child(r),index:r,offset:i};var o=this.content.child(r-1);return{node:o,index:r-1,offset:i-o.nodeSize}},Ee.prototype.resolve=function(e){return st.resolveCached(this,e)},Ee.prototype.resolveNoCache=function(e){return st.resolve(this,e)},Ee.prototype.rangeHasMark=function(e,t,r){var i=!1;return t>e&&this.nodesBetween(e,t,function(o){return r.isInSet(o.marks)&&(i=!0),!i}),i},Zn.isBlock.get=function(){return this.type.isBlock},Zn.isTextblock.get=function(){return this.type.isTextblock},Zn.inlineContent.get=function(){return this.type.inlineContent},Zn.isInline.get=function(){return this.type.isInline},Zn.isText.get=function(){return this.type.isText},Zn.isLeaf.get=function(){return this.type.isLeaf},Zn.isAtom.get=function(){return this.type.isAtom},Ee.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),YI(this.marks,e)},Ee.prototype.contentMatchAt=function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t},Ee.prototype.canReplace=function(e,t,r,i,o){void 0===r&&(r=M.empty),void 0===i&&(i=0),void 0===o&&(o=r.childCount);var s=this.contentMatchAt(e).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(var l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0},Ee.prototype.canReplaceWith=function(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;var o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,t);return!!s&&s.validEnd},Ee.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)},Ee.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var e=Ce.none,t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!Ce.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map(function(r){return r.type.name}));this.content.forEach(function(r){return r.check()})},Ee.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(function(r){return r.toJSON()})),e},Ee.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var r=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}var i=M.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,i,r)},Object.defineProperties(Ee.prototype,Zn);var W4=function(n){function e(r,i,o,s){if(n.call(this,r,i,null,s),!o)throw new RangeError("Empty text nodes are not allowed");this.text=o}n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e;var t={textContent:{configurable:!0},nodeSize:{configurable:!0}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):YI(this.marks,JSON.stringify(this.text))},t.textContent.get=function(){return this.text},e.prototype.textBetween=function(i,o){return this.text.slice(i,o)},t.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(i){return i==this.marks?this:new e(this.type,this.attrs,this.text,i)},e.prototype.withText=function(i){return i==this.text?this:new e(this.type,this.attrs,i,this.marks)},e.prototype.cut=function(i,o){return void 0===i&&(i=0),void 0===o&&(o=this.text.length),0==i&&o==this.text.length?this:this.withText(this.text.slice(i,o))},e.prototype.eq=function(i){return this.sameMarkup(i)&&this.text==i.text},e.prototype.toJSON=function(){var i=n.prototype.toJSON.call(this);return i.text=this.text,i},Object.defineProperties(e.prototype,t),e}(Ee);function YI(n,e){for(var t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}var ln=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]},Mf={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};ln.parse=function(e,t){var r=new If(e,t);if(null==r.next)return ln.empty;var i=JI(r);r.next&&r.err("Unexpected trailing text");var o=function Q4(n){var e=Object.create(null);return function t(r){var i=[];r.forEach(function(l){n[l].forEach(function(c){var u=c.term,d=c.to;if(u){var f=i.indexOf(u),h=f>-1&&i[f+1];tT(n,d).forEach(function(p){h||i.push(u,h=[]),-1==h.indexOf(p)&&h.push(p)})}})});for(var o=e[r.join(",")]=new ln(r.indexOf(n.length-1)>-1),s=0;s<i.length;s+=2){var a=i[s+1].sort(eT);o.next.push(i[s],e[a.join(",")]||t(a))}return o}(tT(n,0))}(function Y4(n){var e=[[]];return i(function o(s,a){if("choice"==s.type)return s.exprs.reduce(function(y,v){return y.concat(o(v,a))},[]);if("seq"==s.type)for(var l=0;;l++){var c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;i(c,a=t())}else{if("star"==s.type){var u=t();return r(a,u),i(o(s.expr,u),u),[r(u)]}if("plus"==s.type){var d=t();return i(o(s.expr,a),d),i(o(s.expr,d),d),[r(d)]}if("opt"==s.type)return[r(a)].concat(o(s.expr,a));if("range"==s.type){for(var f=a,h=0;h<s.min;h++){var p=t();i(o(s.expr,f),p),f=p}if(-1==s.max)i(o(s.expr,f),f);else for(var g=s.min;g<s.max;g++){var m=t();r(f,m),i(o(s.expr,f),m),f=m}return[r(f)]}if("name"==s.type)return[r(a,null,s.value)]}}(n,0),t()),e;function t(){return e.push([])-1}function r(s,a,l){var c={term:l,to:a};return e[s].push(c),c}function i(s,a){s.forEach(function(l){return l.to=a})}}(i));return function J4(n,e){for(var t=0,r=[n];t<r.length;t++){for(var i=r[t],o=!i.validEnd,s=[],a=0;a<i.next.length;a+=2){var l=i.next[a],c=i.next[a+1];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),-1==r.indexOf(c)&&r.push(c)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,r),o},ln.prototype.matchType=function(e){for(var t=0;t<this.next.length;t+=2)if(this.next[t]==e)return this.next[t+1];return null},ln.prototype.matchFragment=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=e.childCount);for(var i=this,o=t;i&&o<r;o++)i=i.matchType(e.child(o).type);return i},Mf.inlineContent.get=function(){var n=this.next[0];return!!n&&n.isInline},Mf.defaultType.get=function(){for(var n=0;n<this.next.length;n+=2){var e=this.next[n];if(!e.isText&&!e.hasRequiredAttrs())return e}},ln.prototype.compatible=function(e){for(var t=0;t<this.next.length;t+=2)for(var r=0;r<e.next.length;r+=2)if(this.next[t]==e.next[r])return!0;return!1},ln.prototype.fillBefore=function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=0);var i=[this];return function o(s,a){var l=s.matchFragment(e,r);if(l&&(!t||l.validEnd))return M.from(a.map(function(h){return h.createAndFill()}));for(var c=0;c<s.next.length;c+=2){var u=s.next[c],d=s.next[c+1];if(!u.isText&&!u.hasRequiredAttrs()&&-1==i.indexOf(d)){i.push(d);var f=o(d,a.concat(u));if(f)return f}}}(this,[])},ln.prototype.findWrapping=function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var r=this.computeWrapping(e);return this.wrapCache.push(e,r),r},ln.prototype.computeWrapping=function(e){for(var t=Object.create(null),r=[{match:this,type:null,via:null}];r.length;){var i=r.shift(),o=i.match;if(o.matchType(e)){for(var s=[],a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(var l=0;l<o.next.length;l+=2){var c=o.next[l];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in t)&&(!i.type||o.next[l+1].validEnd)&&(r.push({match:c.contentMatch,type:c,via:i}),t[c.name]=!0)}}},Mf.edgeCount.get=function(){return this.next.length>>1},ln.prototype.edge=function(e){var t=e<<1;if(t>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[t],next:this.next[t+1]}},ln.prototype.toString=function(){var e=[];return function t(r){e.push(r);for(var i=1;i<r.next.length;i+=2)-1==e.indexOf(r.next[i])&&t(r.next[i])}(this),e.map(function(r,i){for(var o=i+(r.validEnd?"*":" ")+" ",s=0;s<r.next.length;s+=2)o+=(s?", ":"")+r.next[s].name+"->"+e.indexOf(r.next[s+1]);return o}).join("\n")},Object.defineProperties(ln.prototype,Mf),ln.empty=new ln(!0);var If=function(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},QI={next:{configurable:!0}};function JI(n){var e=[];do{e.push($4(n))}while(n.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function $4(n){var e=[];do{e.push(G4(n))}while(n.next&&")"!=n.next&&"|"!=n.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function G4(n){for(var e=function Z4(n){if(n.eat("(")){var e=JI(n);return n.eat(")")||n.err("Missing closing paren"),e}if(!/\W/.test(n.next)){var t=function K4(n,e){var t=n.nodeTypes,r=t[e];if(r)return[r];var i=[];for(var o in t){var s=t[o];s.groups.indexOf(e)>-1&&i.push(s)}return 0==i.length&&n.err("No node type or group '"+e+"' found"),i}(n,n.next).map(function(r){return null==n.inline?n.inline=r.isInline:n.inline!=r.isInline&&n.err("Mixing inline and block content"),{type:"name",value:r}});return n.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}n.err("Unexpected token '"+n.next+"'")}(n);;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else{if(!n.eat("{"))break;e=q4(n,e)}return e}function XI(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");var e=Number(n.next);return n.pos++,e}function q4(n,e){var t=XI(n),r=t;return n.eat(",")&&(r="}"!=n.next?XI(n):-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function eT(n,e){return e-n}function tT(n,e){var t=[];return function r(i){var o=n[i];if(1==o.length&&!o[0].term)return r(o[0].to);t.push(i);for(var s=0;s<o.length;s++){var a=o[s],c=a.to;!a.term&&-1==t.indexOf(c)&&r(c)}}(e),t.sort(eT)}function nT(n){var e=Object.create(null);for(var t in n){var r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function rT(n,e){var t=Object.create(null);for(var r in n){var i=e&&e[r];if(void 0===i){var o=n[r];if(!o.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=o.default}t[r]=i}return t}function iT(n){var e=Object.create(null);if(n)for(var t in n)e[t]=new oT(n[t]);return e}QI.next.get=function(){return this.tokens[this.pos]},If.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)},If.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")},Object.defineProperties(If.prototype,QI);var wn=function(e,t,r){this.name=e,this.schema=t,this.spec=r,this.groups=r.group?r.group.split(" "):[],this.attrs=iT(r.attrs),this.defaultAttrs=nT(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(r.inline||"text"==e),this.isText="text"==e},ka={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0},whitespace:{configurable:!0}};ka.isInline.get=function(){return!this.isBlock},ka.isTextblock.get=function(){return this.isBlock&&this.inlineContent},ka.isLeaf.get=function(){return this.contentMatch==ln.empty},ka.isAtom.get=function(){return this.isLeaf||this.spec.atom},ka.whitespace.get=function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")},wn.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1},wn.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)},wn.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:rT(this.attrs,e)},wn.prototype.create=function(e,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ee(this,this.computeAttrs(e),M.from(t),Ce.setFrom(r))},wn.prototype.createChecked=function(e,t,r){if(t=M.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new Ee(this,this.computeAttrs(e),t,Ce.setFrom(r))},wn.prototype.createAndFill=function(e,t,r){if(e=this.computeAttrs(e),(t=M.from(t)).size){var i=this.contentMatch.fillBefore(t);if(!i)return null;t=i.append(t)}var o=this.contentMatch.matchFragment(t).fillBefore(M.empty,!0);return o?new Ee(this,e,t.append(o),Ce.setFrom(r)):null},wn.prototype.validContent=function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0},wn.prototype.allowsMarkType=function(e){return null==this.markSet||this.markSet.indexOf(e)>-1},wn.prototype.allowsMarks=function(e){if(null==this.markSet)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0},wn.prototype.allowedMarks=function(e){if(null==this.markSet)return e;for(var t,r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Ce.empty:e},wn.compile=function(e,t){var r=Object.create(null);e.forEach(function(s,a){return r[s]=new wn(s,t,a)});var i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(var o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r},Object.defineProperties(wn.prototype,ka);var oT=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},sT={isRequired:{configurable:!0}};sT.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(oT.prototype,sT);var bo=function(e,t,r,i){this.name=e,this.schema=r,this.spec=i,this.attrs=iT(i.attrs),this.rank=t,this.excluded=null;var o=nT(this.attrs);this.instance=o&&new Ce(this,o)};bo.prototype.create=function(e){return!e&&this.instance?this.instance:new Ce(this,rT(this.attrs,e))},bo.compile=function(e,t){var r=Object.create(null),i=0;return e.forEach(function(o,s){return r[o]=new bo(o,i++,t,s)}),r},bo.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e},bo.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]},bo.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var cs=function(e){for(var t in this.spec={},e)this.spec[t]=e[t];this.spec.nodes=HI.from(e.nodes),this.spec.marks=HI.from(e.marks),this.nodes=wn.compile(this.spec.nodes,this),this.marks=bo.compile(this.spec.marks,this);var r=Object.create(null);for(var i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");var o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;o.contentMatch=r[s]||(r[s]=ln.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet="_"==a?null:a?aT(this,a.split(" ")):""!=a&&o.inlineContent?null:[]}for(var l in this.marks){var c=this.marks[l],u=c.spec.excludes;c.excluded=null==u?[c]:""==u?[]:aT(this,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function aT(n,e){for(var t=[],r=0;r<e.length;r++){var i=e[r],o=n.marks[i],s=o;if(o)t.push(o);else for(var a in n.marks){var l=n.marks[a];("_"==i||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&t.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}cs.prototype.node=function(e,t,r,i){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof wn))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,r,i)},cs.prototype.text=function(e,t){var r=this.nodes.text;return new W4(r,r.defaultAttrs,e,Ce.setFrom(t))},cs.prototype.mark=function(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)},cs.prototype.nodeFromJSON=function(e){return Ee.fromJSON(this,e)},cs.prototype.markFromJSON=function(e){return Ce.fromJSON(this,e)},cs.prototype.nodeType=function(e){var t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t};var Lr=function(e,t){var r=this;this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach(function(i){i.tag?r.tags.push(i):i.style&&r.styles.push(i)}),this.normalizeLists=!this.tags.some(function(i){if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;var o=e.nodes[i.node];return o.contentMatch.matchType(o)})};Lr.prototype.parse=function(e,t){void 0===t&&(t={});var r=new Xe(this,t,!1);return r.addAll(e,null,t.from,t.to),r.finish()},Lr.prototype.parseSlice=function(e,t){void 0===t&&(t={});var r=new Xe(this,t,!0);return r.addAll(e,null,t.from,t.to),F.maxOpen(r.finish())},Lr.prototype.matchTag=function(e,t,r){for(var i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){var o=this.tags[i];if(t8(e,o.tag)&&(void 0===o.namespace||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){var s=o.getAttrs(e);if(!1===s)continue;o.attrs=s}return o}}},Lr.prototype.matchStyle=function(e,t,r,i){for(var o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){var s=this.styles[o];if(!(0!=s.style.indexOf(e)||s.context&&!r.matchesContext(s.context)||s.style.length>e.length&&(61!=s.style.charCodeAt(e.length)||s.style.slice(e.length+1)!=t))){if(s.getAttrs){var a=s.getAttrs(t);if(!1===a)continue;s.attrs=a}return s}}},Lr.schemaRules=function(e){var t=[];function r(l){for(var c=null==l.priority?50:l.priority,u=0;u<t.length;u++){var d=t[u];if((null==d.priority?50:d.priority)<c)break}t.splice(u,0,l)}var c,i=function(l){var c=e.marks[l].spec.parseDOM;c&&c.forEach(function(u){r(u=uT(u)),u.mark=l})};for(var o in e.marks)i(o);for(var a in e.nodes)c=void 0,(c=e.nodes[a].spec.parseDOM)&&c.forEach(function(u){r(u=uT(u)),u.node=a});return t},Lr.fromSchema=function(e){return e.cached.domParser||(e.cached.domParser=new Lr(e,Lr.schemaRules(e)))};var Xv={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},X4={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},lT={ol:!0,ul:!0};function cT(n,e,t){return null!=e?(e?1:0)|("full"===e?2:0):n&&"pre"==n.whitespace?3:-5&t}var Bi=function(e,t,r,i,o,s,a){this.type=e,this.attrs=t,this.solid=o,this.match=s||(4&a?null:e.contentMatch),this.options=a,this.content=[],this.marks=r,this.activeMarks=Ce.none,this.pendingMarks=i,this.stashMarks=[]};Bi.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(M.from(e));if(!t){var i,r=this.type.contentMatch;return(i=r.findWrapping(e.type))?(this.match=r,i):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)},Bi.prototype.finish=function(e){if(!(1&this.options)){var r,t=this.content[this.content.length-1];t&&t.isText&&(r=/[ \t\r\n\u000c]+$/.exec(t.text))&&(t.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=t.withText(t.text.slice(0,t.text.length-r[0].length)))}var i=M.from(this.content);return!e&&this.match&&(i=i.append(this.match.fillBefore(M.empty,!0))),this.type?this.type.create(this.attrs,i,this.marks):i},Bi.prototype.popFromStashMark=function(e){for(var t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]},Bi.prototype.applyPending=function(e){for(var t=0,r=this.pendingMarks;t<r.length;t++){var i=r[t];(this.type?this.type.allowsMarkType(i.type):r8(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}},Bi.prototype.inlineContext=function(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Xv.hasOwnProperty(e.parentNode.nodeName.toLowerCase())};var Xe=function(e,t,r){this.parser=e,this.options=t,this.isOpen=r;var o,i=t.topNode,s=cT(null,t.preserveWhitespace,0)|(r?4:0);o=i?new Bi(i.type,i.attrs,Ce.none,Ce.none,!0,t.topMatch||i.type.contentMatch,s):new Bi(r?null:e.schema.topNodeType,null,Ce.none,Ce.none,!0,null,s),this.nodes=[o],this.open=0,this.find=t.findPositions,this.needsBlock=!1},ey={top:{configurable:!0},currentPos:{configurable:!0}};function t8(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function uT(n){var e={};for(var t in n)e[t]=n[t];return e}function r8(n,e){var t=e.schema.nodes,r=function(s){var a=t[s];if(a.allowsMarkType(n)){var l=[],c=function(u){l.push(u);for(var d=0;d<u.edgeCount;d++){var f=u.edge(d),p=f.next;if(f.type==e||l.indexOf(p)<0&&c(p))return!0}};if(c(a.contentMatch))return{v:!0}}};for(var i in t){var o=r(i);if(o)return o.v}}ey.top.get=function(){return this.nodes[this.open]},Xe.prototype.addDOM=function(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){var t=e.getAttribute("style"),r=t?this.readStyles(function n8(n){for(var t,e=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];t=e.exec(n);)r.push(t[1],t[2].trim());return r}(t)):null,i=this.top;if(null!=r)for(var o=0;o<r.length;o++)this.addPendingMark(r[o]);if(this.addElement(e),null!=r)for(var s=0;s<r.length;s++)this.removePendingMark(r[s],i)}},Xe.prototype.addTextNode=function(e){var t=e.nodeValue,r=this.top;if(2&r.options||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(1&r.options)t=2&r.options?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&"BR"==o.nodeName||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)},Xe.prototype.addElement=function(e,t){var i,r=e.nodeName.toLowerCase();lT.hasOwnProperty(r)&&this.parser.normalizeLists&&function e8(n){for(var e=n.firstChild,t=null;e;e=e.nextSibling){var r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&lT.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):"li"==r?t=e:r&&(t=null)}}(e);var o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,t));if(o?o.ignore:X4.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);var s,a=this.top,l=this.needsBlock;if(Xv.hasOwnProperty(r))s=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),s&&this.sync(a),this.needsBlock=l}else this.addElementByRule(e,o,!1===o.consuming?i:null)},Xe.prototype.leafFallback=function(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))},Xe.prototype.ignoreFallback=function(e){"BR"==e.nodeName&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))},Xe.prototype.readStyles=function(e){var t=Ce.none;e:for(var r=0;r<e.length;r+=2)for(var i=null;;){var o=this.parser.matchStyle(e[r],e[r+1],this,i);if(!o)continue e;if(o.ignore)return null;if(t=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(t),!1!==o.consuming)break;i=o}return t},Xe.prototype.addElementByRule=function(e,t,r){var o,s,l,i=this;t.node?(s=this.parser.schema.nodes[t.node]).isLeaf?this.insertNode(s.create(t.attrs))||this.leafFallback(e):o=this.enter(s,t.attrs,t.preserveWhitespace):(l=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(l));var c=this.top;if(s&&s.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(function(d){return i.insertNode(d)});else{var u=t.contentElement;"string"==typeof u?u=e.querySelector(u):"function"==typeof u&&(u=u(e)),u||(u=e),this.findAround(e,u,!0),this.addAll(u,o)}o&&(this.sync(c),this.open--),l&&this.removePendingMark(l,c)},Xe.prototype.addAll=function(e,t,r,i){for(var o=r||0,s=r?e.childNodes[r]:e.firstChild,a=null==i?null:e.childNodes[i];s!=a;s=s.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(s),t&&Xv.hasOwnProperty(s.nodeName.toLowerCase())&&this.sync(t);this.findAtPoint(e,o)},Xe.prototype.findPlace=function(e){for(var t,r,i=this.open;i>=0;i--){var o=this.nodes[i],s=o.findWrapping(e);if(s&&(!t||t.length>s.length)&&(t=s,r=o,!s.length)||o.solid)break}if(!t)return!1;this.sync(r);for(var a=0;a<t.length;a++)this.enterInner(t[a],null,!1);return!0},Xe.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var r=this.top;r.applyPending(e.type),r.match&&(r.match=r.match.matchType(e.type));for(var i=r.activeMarks,o=0;o<e.marks.length;o++)(!r.type||r.type.allowsMarkType(e.marks[o].type))&&(i=e.marks[o].addToSet(i));return r.content.push(e.mark(i)),!0}return!1},Xe.prototype.enter=function(e,t,r){var i=this.findPlace(e.create(t));return i&&this.enterInner(e,t,!0,r),i},Xe.prototype.enterInner=function(e,t,r,i){this.closeExtra();var o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e,t);var s=cT(e,i,o.options);4&o.options&&0==o.content.length&&(s|=4),this.nodes.push(new Bi(e,t,o.activeMarks,o.pendingMarks,r,null,s)),this.open++},Xe.prototype.closeExtra=function(e){var t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}},Xe.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},Xe.prototype.sync=function(e){for(var t=this.open;t>=0;t--)if(this.nodes[t]==e)return void(this.open=t)},ey.currentPos.get=function(){this.closeExtra();for(var n=0,e=this.open;e>=0;e--){for(var t=this.nodes[e].content,r=t.length-1;r>=0;r--)n+=t[r].nodeSize;e&&n++}return n},Xe.prototype.findAtPoint=function(e,t){if(this.find)for(var r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)},Xe.prototype.findInside=function(e){if(this.find)for(var t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)},Xe.prototype.findAround=function(e,t,r){if(e!=t&&this.find)for(var i=0;i<this.find.length;i++)null==this.find[i].pos&&1==e.nodeType&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)},Xe.prototype.findInText=function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))},Xe.prototype.matchesContext=function(e){var t=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var r=e.split("/"),i=this.options.context,o=!(this.isOpen||i&&i.parent.type!=this.nodes[0].type),s=(o?0:1)-(i?i.depth+1:0),a=function(l,c){for(;l>=0;l--){var u=r[l];if(""==u){if(l==r.length-1||0==l)continue;for(;c>=s;c--)if(a(l-1,c))return!0;return!1}var d=c>0||0==c&&o?t.nodes[c].type:i&&c>=s?i.node(c-s).type:null;if(!d||d.name!=u&&-1==d.groups.indexOf(u))return!1;c--}return!0};return a(r.length-1,this.open)},Xe.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var t=e.depth;t>=0;t--){var r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(var i in this.parser.schema.nodes){var o=this.parser.schema.nodes[i];if(o.isTextblock&&o.defaultAttrs)return o}},Xe.prototype.addPendingMark=function(e){var t=function i8(n,e){for(var t=0;t<e.length;t++)if(n.eq(e[t]))return e[t]}(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)},Xe.prototype.removePendingMark=function(e,t){for(var r=this.open;r>=0;r--){var i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);var s=i.popFromStashMark(e);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==t)break}},Object.defineProperties(Xe.prototype,ey);var Gt=function(e,t){this.nodes=e||{},this.marks=t||{}};function dT(n){var e={};for(var t in n){var r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function ty(n){return n.document||window.document}Gt.prototype.serializeFragment=function(e,t,r){var i=this;void 0===t&&(t={}),r||(r=ty(t).createDocumentFragment());var o=r,s=null;return e.forEach(function(a){if(s||a.marks.length){s||(s=[]);for(var l=0,c=0;l<s.length&&c<a.marks.length;){var u=a.marks[c];if(i.marks[u.type.name]){if(!u.eq(s[l])||!1===u.type.spec.spanning)break;l+=2,c++}else c++}for(;l<s.length;)o=s.pop(),s.pop();for(;c<a.marks.length;){var d=a.marks[c++],f=i.serializeMark(d,a.isInline,t);f&&(s.push(d,o),o.appendChild(f.dom),o=f.contentDOM||f.dom)}}o.appendChild(i.serializeNodeInner(a,t))}),r},Gt.prototype.serializeNodeInner=function(e,t){void 0===t&&(t={});var r=Gt.renderSpec(ty(t),this.nodes[e.type.name](e)),i=r.dom,o=r.contentDOM;if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");t.onContent?t.onContent(e,o,t):this.serializeFragment(e.content,t,o)}return i},Gt.prototype.serializeNode=function(e,t){void 0===t&&(t={});for(var r=this.serializeNodeInner(e,t),i=e.marks.length-1;i>=0;i--){var o=this.serializeMark(e.marks[i],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r},Gt.prototype.serializeMark=function(e,t,r){void 0===r&&(r={});var i=this.marks[e.type.name];return i&&Gt.renderSpec(ty(r),i(e,t))},Gt.renderSpec=function(e,t,r){if(void 0===r&&(r=null),"string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;var i=t[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));var s=null,a=r?e.createElementNS(r,i):e.createElement(i),l=t[1],c=1;if(l&&"object"==typeof l&&null==l.nodeType&&!Array.isArray(l))for(var u in c=2,l)if(null!=l[u]){var d=u.indexOf(" ");d>0?a.setAttributeNS(u.slice(0,d),u.slice(d+1),l[u]):a.setAttribute(u,l[u])}for(var f=c;f<t.length;f++){var h=t[f];if(0===h){if(f<t.length-1||f>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}var p=Gt.renderSpec(e,h,r),m=p.contentDOM;if(a.appendChild(p.dom),m){if(s)throw new RangeError("Multiple content holes");s=m}}return{dom:a,contentDOM:s}},Gt.fromSchema=function(e){return e.cached.domSerializer||(e.cached.domSerializer=new Gt(this.nodesFromSchema(e),this.marksFromSchema(e)))},Gt.nodesFromSchema=function(e){var t=dT(e.nodes);return t.text||(t.text=function(r){return r.text}),t},Gt.marksFromSchema=function(e){return dT(e.marks)};var hT=Math.pow(2,16);function o8(n,e){return n+e*hT}function pT(n){return 65535&n}var ny=function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=null),this.pos=e,this.deleted=t,this.recover=r},qt=function n(e,t){if(void 0===t&&(t=!1),!e.length&&n.empty)return n.empty;this.ranges=e,this.inverted=t};qt.prototype.recover=function(e){var t=0,r=pT(e);if(!this.inverted)for(var i=0;i<r;i++)t+=this.ranges[3*i+2]-this.ranges[3*i+1];return this.ranges[3*r]+t+function s8(n){return(n-(65535&n))/hT}(e)},qt.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},qt.prototype.map=function(e,t){return void 0===t&&(t=1),this._map(e,t,!0)},qt.prototype._map=function(e,t,r){for(var i=0,o=this.inverted?2:1,s=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;var c=this.ranges[a+o],u=this.ranges[a+s],d=l+c;if(e<=d){var h=l+i+((c?e==l?-1:e==d?1:t:t)<0?0:u);if(r)return h;var p=e==(t<0?l:d)?null:o8(a/3,e-l);return new ny(h,t<0?e!=l:e!=d,p)}i+=u-c}return r?e+i:new ny(e+i)},qt.prototype.touches=function(e,t){for(var r=0,i=pT(t),o=this.inverted?2:1,s=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;var c=this.ranges[a+o];if(e<=l+c&&a==3*i)return!0;r+=this.ranges[a+s]-c}return!1},qt.prototype.forEach=function(e){for(var t=this.inverted?2:1,r=this.inverted?1:2,i=0,o=0;i<this.ranges.length;i+=3){var s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[i+t],u=this.ranges[i+r];e(a,a+c,l,l+u),o+=u-c}},qt.prototype.invert=function(){return new qt(this.ranges,!this.inverted)},qt.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},qt.offset=function(e){return 0==e?qt.empty:new qt(e<0?[0,-e,0]:[0,0,e])},qt.empty=new qt([]);var cn=function(e,t,r,i){this.maps=e||[],this.from=r||0,this.to=null==i?this.maps.length:i,this.mirror=t};function Na(n){var e=Error.call(this,n);return e.__proto__=Na.prototype,e}cn.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.maps.length),new cn(this.maps,this.mirror,e,t)},cn.prototype.copy=function(){return new cn(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},cn.prototype.appendMap=function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)},cn.prototype.appendMapping=function(e){for(var t=0,r=this.maps.length;t<e.maps.length;t++){var i=e.getMirror(t);this.appendMap(e.maps[t],null!=i&&i<t?r+i:null)}},cn.prototype.getMirror=function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]},cn.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)},cn.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,r=this.maps.length+e.maps.length;t>=0;t--){var i=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=i&&i>t?r-i-1:null)}},cn.prototype.invert=function(){var e=new cn;return e.appendMappingInverted(this),e},cn.prototype.map=function(e,t){if(void 0===t&&(t=1),this.mirror)return this._map(e,t,!0);for(var r=this.from;r<this.to;r++)e=this.maps[r].map(e,t);return e},cn.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},cn.prototype._map=function(e,t,r){for(var i=!1,o=this.from;o<this.to;o++){var a=this.maps[o].mapResult(e,t);if(null!=a.recover){var l=this.getMirror(o);if(null!=l&&l>o&&l<this.to){o=l,e=this.maps[l].recover(a.recover);continue}}a.deleted&&(i=!0),e=a.pos}return r?e:new ny(e,i)},(Na.prototype=Object.create(Error.prototype)).constructor=Na,Na.prototype.name="TransformError";var gt=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new cn},ry={before:{configurable:!0},docChanged:{configurable:!0}};function Af(){throw new Error("Override me")}ry.before.get=function(){return this.docs.length?this.docs[0]:this.doc},gt.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new Na(t.failed);return this},gt.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t},ry.docChanged.get=function(){return this.steps.length>0},gt.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t},Object.defineProperties(gt.prototype,ry);var iy=Object.create(null),un=function(){};un.prototype.apply=function(e){return Af()},un.prototype.getMap=function(){return qt.empty},un.prototype.invert=function(e){return Af()},un.prototype.map=function(e){return Af()},un.prototype.merge=function(e){return null},un.prototype.toJSON=function(){return Af()},un.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var r=iy[t.stepType];if(!r)throw new RangeError("No step type "+t.stepType+" defined");return r.fromJSON(e,t)},un.jsonID=function(e,t){if(e in iy)throw new RangeError("Duplicate use of step JSON ID "+e);return iy[e]=t,t.prototype.jsonID=e,t};var Sn=function(e,t){this.doc=e,this.failed=t};Sn.ok=function(e){return new Sn(e,null)},Sn.fail=function(e){return new Sn(null,e)},Sn.fromReplace=function(e,t,r,i){try{return Sn.ok(e.replace(t,r,i))}catch(o){if(o instanceof ci)return Sn.fail(o.message);throw o}};var ji=function(n){function e(t,r,i,o){n.call(this),this.from=t,this.to=r,this.slice=i,this.structure=!!o}return n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e,e.prototype.apply=function(r){return this.structure&&oy(r,this.from,this.to)?Sn.fail("Structure replace would overwrite content"):Sn.fromReplace(r,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new qt([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(r){return new e(this.from,this.from+this.slice.size,r.slice(this.from,this.to))},e.prototype.map=function(r){var i=r.mapResult(this.from,1),o=r.mapResult(this.to,-1);return i.deleted&&o.deleted?null:new e(i.pos,Math.max(i.pos,o.pos),this.slice)},e.prototype.merge=function(r){if(!(r instanceof e)||r.structure||this.structure)return null;if(this.from+this.slice.size!=r.from||this.slice.openEnd||r.slice.openStart){if(r.to!=this.from||this.slice.openStart||r.slice.openEnd)return null;var o=this.slice.size+r.slice.size==0?F.empty:new F(r.slice.content.append(this.slice.content),r.slice.openStart,this.slice.openEnd);return new e(r.from,this.to,o,this.structure)}var i=this.slice.size+r.slice.size==0?F.empty:new F(this.slice.content.append(r.slice.content),this.slice.openStart,r.slice.openEnd);return new e(this.from,this.to+(r.to-r.from),i,this.structure)},e.prototype.toJSON=function(){var r={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(r.slice=this.slice.toJSON()),this.structure&&(r.structure=!0),r},e.fromJSON=function(r,i){if("number"!=typeof i.from||"number"!=typeof i.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(i.from,i.to,F.fromJSON(r,i.slice),!!i.structure)},e}(un);un.jsonID("replace",ji);var Nn=function(n){function e(t,r,i,o,s,a,l){n.call(this),this.from=t,this.to=r,this.gapFrom=i,this.gapTo=o,this.slice=s,this.insert=a,this.structure=!!l}return n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e,e.prototype.apply=function(r){if(this.structure&&(oy(r,this.from,this.gapFrom)||oy(r,this.gapTo,this.to)))return Sn.fail("Structure gap-replace would overwrite content");var i=r.slice(this.gapFrom,this.gapTo);if(i.openStart||i.openEnd)return Sn.fail("Gap is not a flat range");var o=this.slice.insertAt(this.insert,i.content);return o?Sn.fromReplace(r,this.from,this.to,o):Sn.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new qt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(r){var i=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+i,this.from+this.insert,this.from+this.insert+i,r.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(r){var i=r.mapResult(this.from,1),o=r.mapResult(this.to,-1),s=r.map(this.gapFrom,-1),a=r.map(this.gapTo,1);return i.deleted&&o.deleted||s<i.pos||a>o.pos?null:new e(i.pos,o.pos,s,a,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var r={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(r.slice=this.slice.toJSON()),this.structure&&(r.structure=!0),r},e.fromJSON=function(r,i){if("number"!=typeof i.from||"number"!=typeof i.to||"number"!=typeof i.gapFrom||"number"!=typeof i.gapTo||"number"!=typeof i.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(i.from,i.to,i.gapFrom,i.gapTo,F.fromJSON(r,i.slice),i.insert,!!i.structure)},e}(un);function oy(n,e,t){for(var r=n.resolve(e),i=t-e,o=r.depth;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0)for(var s=r.node(o).maybeChild(r.indexAfter(o));i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}return!1}function a8(n,e,t){return(0==e||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function Ra(n){for(var t=n.parent.content.cutByIndex(n.startIndex,n.endIndex),r=n.depth;;--r){var i=n.$from.node(r),o=n.$from.index(r),s=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(o,s,t))return r;if(0==r||i.type.spec.isolating||!a8(i,o,s))break}}function sy(n,e,t,r){void 0===r&&(r=n);var i=function l8(n,e){var t=n.parent,r=n.startIndex,i=n.endIndex,o=t.contentMatchAt(r).findWrapping(e);return o&&t.canReplaceWith(r,i,o.length?o[0]:e)?o:null}(n,e),o=i&&function c8(n,e){var t=n.parent,r=n.startIndex,i=n.endIndex,o=t.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;for(var l=(s.length?s[s.length-1]:e).contentMatch,c=r;l&&c<i;c++)l=l.matchType(t.child(c).type);return l&&l.validEnd?s:null}(r,e);return o?i.map(gT).concat({type:e,attrs:t}).concat(o.map(gT)):null}function gT(n){return{type:n,attrs:null}}function Vi(n,e,t,r){void 0===t&&(t=1);var i=n.resolve(e),o=i.depth-t,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(var a=i.depth-1,l=t-2;a>o;a--,l--){var c=i.node(a),u=i.index(a);if(c.type.spec.isolating)return!1;var d=c.content.cutByIndex(u,c.childCount),f=r&&r[l]||c;if(f!=c&&(d=d.replaceChild(0,f.type.create(f.attrs))),!c.canReplace(u+1,c.childCount)||!f.type.validContent(d))return!1}var h=i.indexAfter(o),p=r&&r[0];return i.node(o).canReplaceWith(h,h,p?p.type:i.node(o+1).type)}function Ic(n,e){var t=n.resolve(e),r=t.index();return function mT(n,e){return n&&e&&!n.isLeaf&&n.canAppend(e)}(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function vT(n,e,t){var r=n.resolve(e);if(!t.content.size)return e;for(var i=t.content,o=0;o<t.openStart;o++)i=i.firstChild.content;for(var s=1;s<=(0==t.openStart&&t.size?2:1);s++)for(var a=r.depth;a>=0;a--){var l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,c=r.index(a)+(l>0?1:0),u=r.node(a),d=!1;if(1==s)d=u.canReplace(c,c,i);else{var f=u.contentMatchAt(c).findWrapping(i.firstChild.type);d=f&&u.canReplaceWith(c,c,f[0])}if(d)return 0==l?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}function ay(n,e,t){for(var r=[],i=0;i<n.childCount;i++){var o=n.child(i);o.content.size&&(o=o.copy(ay(o.content,e,o))),o.isInline&&(o=e(o,t,i)),r.push(o)}return M.fromArray(r)}un.jsonID("replaceAround",Nn),gt.prototype.lift=function(n,e){for(var t=n.$from,r=n.$to,i=n.depth,o=t.before(i+1),s=r.after(i+1),a=o,l=s,c=M.empty,u=0,d=i,f=!1;d>e;d--)f||t.index(d)>0?(f=!0,c=M.from(t.node(d).copy(c)),u++):a--;for(var h=M.empty,p=0,g=i,m=!1;g>e;g--)m||r.after(g+1)<r.end(g)?(m=!0,h=M.from(r.node(g).copy(h)),p++):l++;return this.step(new Nn(a,l,o,s,new F(c.append(h),u,p),c.size-u,!0))},gt.prototype.wrap=function(n,e){for(var t=M.empty,r=e.length-1;r>=0;r--){if(t.size){var i=e[r].type.contentMatch.matchFragment(t);if(!i||!i.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}t=M.from(e[r].type.create(e[r].attrs,t))}var o=n.start,s=n.end;return this.step(new Nn(o,s,o,s,new F(t,0,0),e.length,!0))},gt.prototype.setBlockType=function(n,e,t,r){var i=this;if(void 0===e&&(e=n),!t.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var o=this.steps.length;return this.doc.nodesBetween(n,e,function(s,a){if(s.isTextblock&&!s.hasMarkup(t,r)&&function u8(n,e,t){var r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}(i.doc,i.mapping.slice(o).map(a),t)){i.clearIncompatible(i.mapping.slice(o).map(a,1),t);var l=i.mapping.slice(o),c=l.map(a,1),u=l.map(a+s.nodeSize,1);return i.step(new Nn(c,u,c+1,u-1,new F(M.from(t.create(r,null,s.marks)),0,0),1,!0)),!1}}),this},gt.prototype.setNodeMarkup=function(n,e,t,r){var i=this.doc.nodeAt(n);if(!i)throw new RangeError("No node at given position");e||(e=i.type);var o=e.create(t,null,r||i.marks);if(i.isLeaf)return this.replaceWith(n,n+i.nodeSize,o);if(!e.validContent(i.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new Nn(n,n+i.nodeSize,n+1,n+i.nodeSize-1,new F(M.from(o),0,0),1,!0))},gt.prototype.split=function(n,e,t){void 0===e&&(e=1);for(var r=this.doc.resolve(n),i=M.empty,o=M.empty,s=r.depth,a=r.depth-e,l=e-1;s>a;s--,l--){i=M.from(r.node(s).copy(i));var c=t&&t[l];o=M.from(c?c.type.create(c.attrs,o):r.node(s).copy(o))}return this.step(new ji(n,n,new F(i.append(o),e,e),!0))},gt.prototype.join=function(n,e){void 0===e&&(e=1);var t=new ji(n-e,n+e,F.empty,!0);return this.step(t)};var ly=function(n){function e(t,r,i){n.call(this),this.from=t,this.to=r,this.mark=i}return n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e,e.prototype.apply=function(r){var i=this,o=r.slice(this.from,this.to),s=r.resolve(this.from),a=s.node(s.sharedDepth(this.to)),l=new F(ay(o.content,function(c,u){return c.isAtom&&u.type.allowsMarkType(i.mark.type)?c.mark(i.mark.addToSet(c.marks)):c},a),o.openStart,o.openEnd);return Sn.fromReplace(r,this.from,this.to,l)},e.prototype.invert=function(){return new Tc(this.from,this.to,this.mark)},e.prototype.map=function(r){var i=r.mapResult(this.from,1),o=r.mapResult(this.to,-1);return i.deleted&&o.deleted||i.pos>=o.pos?null:new e(i.pos,o.pos,this.mark)},e.prototype.merge=function(r){if(r instanceof e&&r.mark.eq(this.mark)&&this.from<=r.to&&this.to>=r.from)return new e(Math.min(this.from,r.from),Math.max(this.to,r.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(r,i){if("number"!=typeof i.from||"number"!=typeof i.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(i.from,i.to,r.markFromJSON(i.mark))},e}(un);un.jsonID("addMark",ly);var Tc=function(n){function e(t,r,i){n.call(this),this.from=t,this.to=r,this.mark=i}return n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e,e.prototype.apply=function(r){var i=this,o=r.slice(this.from,this.to),s=new F(ay(o.content,function(a){return a.mark(i.mark.removeFromSet(a.marks))}),o.openStart,o.openEnd);return Sn.fromReplace(r,this.from,this.to,s)},e.prototype.invert=function(){return new ly(this.from,this.to,this.mark)},e.prototype.map=function(r){var i=r.mapResult(this.from,1),o=r.mapResult(this.to,-1);return i.deleted&&o.deleted||i.pos>=o.pos?null:new e(i.pos,o.pos,this.mark)},e.prototype.merge=function(r){if(r instanceof e&&r.mark.eq(this.mark)&&this.from<=r.to&&this.to>=r.from)return new e(Math.min(this.from,r.from),Math.max(this.to,r.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(r,i){if("number"!=typeof i.from||"number"!=typeof i.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(i.from,i.to,r.markFromJSON(i.mark))},e}(un);function cy(n,e,t,r){if(void 0===t&&(t=e),void 0===r&&(r=F.empty),e==t&&!r.size)return null;var i=n.resolve(e),o=n.resolve(t);return yT(i,o,r)?new ji(e,t,r):new dr(i,o,r).fit()}function yT(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}un.jsonID("removeMark",Tc),gt.prototype.addMark=function(n,e,t){var r=this,i=[],o=[],s=null,a=null;return this.doc.nodesBetween(n,e,function(l,c,u){if(l.isInline){var d=l.marks;if(!t.isInSet(d)&&u.type.allowsMarkType(t.type)){for(var f=Math.max(c,n),h=Math.min(c+l.nodeSize,e),p=t.addToSet(d),g=0;g<d.length;g++)d[g].isInSet(p)||(s&&s.to==f&&s.mark.eq(d[g])?s.to=h:i.push(s=new Tc(f,h,d[g])));a&&a.to==f?a.to=h:o.push(a=new ly(f,h,t))}}}),i.forEach(function(l){return r.step(l)}),o.forEach(function(l){return r.step(l)}),this},gt.prototype.removeMark=function(n,e,t){var r=this;void 0===t&&(t=null);var i=[],o=0;return this.doc.nodesBetween(n,e,function(s,a){if(s.isInline){o++;var l=null;if(t instanceof bo)for(var u,c=s.marks;u=t.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c);else t?t.isInSet(s.marks)&&(l=[t]):l=s.marks;if(l&&l.length)for(var d=Math.min(a+s.nodeSize,e),f=0;f<l.length;f++){for(var h=l[f],p=void 0,g=0;g<i.length;g++){var m=i[g];m.step==o-1&&h.eq(i[g].style)&&(p=m)}p?(p.to=d,p.step=o):i.push({style:h,from:Math.max(a,n),to:d,step:o})}}}),i.forEach(function(s){return r.step(new Tc(s.from,s.to,s.style))}),this},gt.prototype.clearIncompatible=function(n,e,t){void 0===t&&(t=e.contentMatch);for(var r=this.doc.nodeAt(n),i=[],o=n+1,s=0;s<r.childCount;s++){var a=r.child(s),l=o+a.nodeSize,c=t.matchType(a.type,a.attrs);if(c){t=c;for(var u=0;u<a.marks.length;u++)e.allowsMarkType(a.marks[u].type)||this.step(new Tc(o,l,a.marks[u]))}else i.push(new ji(o,l,F.empty));o=l}if(!t.validEnd){var d=t.fillBefore(M.empty,!0);this.replace(o,o,new F(d,0,0))}for(var f=i.length-1;f>=0;f--)this.step(i[f]);return this},gt.prototype.replace=function(n,e,t){void 0===e&&(e=n),void 0===t&&(t=F.empty);var r=cy(this.doc,n,e,t);return r&&this.step(r),this},gt.prototype.replaceWith=function(n,e,t){return this.replace(n,e,new F(M.from(t),0,0))},gt.prototype.delete=function(n,e){return this.replace(n,e,F.empty)},gt.prototype.insert=function(n,e){return this.replaceWith(n,n,e)};var dr=function(e,t,r){this.$to=t,this.$from=e,this.unplaced=r,this.frontier=[];for(var i=0;i<=e.depth;i++){var o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}this.placed=M.empty;for(var s=e.depth;s>0;s--)this.placed=M.from(e.node(s).copy(this.placed))},_T={depth:{configurable:!0}};function xc(n,e,t){return 0==e?n.cutByIndex(t):n.replaceChild(0,n.firstChild.copy(xc(n.firstChild.content,e-1,t)))}function Ac(n,e,t){return 0==e?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Ac(n.lastChild.content,e-1,t)))}function uy(n,e){for(var t=0;t<e;t++)n=n.firstChild.content;return n}function bT(n,e,t){if(e<=0)return n;var r=n.content;return e>1&&(r=r.replaceChild(0,bT(r.firstChild,e-1,1==r.childCount?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(M.empty,!0)))),n.copy(r)}function dy(n,e,t,r,i){var o=n.node(e),s=i?n.indexAfter(e):n.index(e);if(s==o.childCount&&!t.compatibleContent(o.type))return null;var a=r.fillBefore(o.content,!0,s);return a&&!function f8(n,e,t){for(var r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}(t,o.content,s)?a:null}function h8(n){return n.spec.defining||n.spec.definingForContent}function CT(n,e,t,r,i){if(e<t){var o=n.firstChild;n=n.replaceChild(0,o.copy(CT(o.content,e+1,t,r,o)))}if(e>r){var s=i.contentMatchAt(0),a=s.fillBefore(n).append(n);n=a.append(s.matchFragment(a).fillBefore(M.empty,!0))}return n}function DT(n,e){for(var t=[],i=Math.min(n.depth,e.depth);i>=0;i--){var o=n.start(i);if(o<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&t.push(i)}return t}_T.depth.get=function(){return this.frontier.length-1},dr.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,i=this.$from,o=this.close(t<0?this.$to:i.doc.resolve(t));if(!o)return null;for(var s=this.placed,a=i.depth,l=o.depth;a&&l&&1==s.childCount;)s=s.firstChild.content,a--,l--;var c=new F(s,a,l);return t>-1?new Nn(i.pos,t,this.$to.pos,this.$to.end(),c,r):c.size||i.pos!=this.$to.pos?new ji(i.pos,o.pos,c):void 0},dr.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var t=this.unplaced.openStart;t>=0;t--)for(var i=void 0,o=(t?(i=uy(this.unplaced.content,t-1).firstChild).content:this.unplaced.content).firstChild,s=this.depth;s>=0;s--){var a=this.frontier[s],l=a.type,c=a.match,u=void 0,d=void 0;if(1==e&&(o?c.matchType(o.type)||(d=c.fillBefore(M.from(o),!1)):l.compatibleContent(i.type)))return{sliceDepth:t,frontierDepth:s,parent:i,inject:d};if(2==e&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:t,frontierDepth:s,parent:i,wrap:u};if(i&&c.matchType(i.type))break}},dr.prototype.openMore=function(){var e=this.unplaced,t=e.content,r=e.openStart,i=e.openEnd,o=uy(t,r);return!(!o.childCount||o.firstChild.isLeaf||(this.unplaced=new F(t,r+1,Math.max(i,o.size+r>=t.size-i?r+1:0)),0))},dr.prototype.dropNode=function(){var e=this.unplaced,t=e.content,r=e.openStart,i=e.openEnd,o=uy(t,r);if(o.childCount<=1&&r>0){var s=t.size-r<=r+o.size;this.unplaced=new F(xc(t,r-1,1),r-1,s?r-1:i)}else this.unplaced=new F(xc(t,r,1),r,i)},dr.prototype.placeNodes=function(e){for(var t=e.sliceDepth,r=e.frontierDepth,i=e.parent,o=e.inject,s=e.wrap;this.depth>r;)this.closeFrontierNode();if(s)for(var a=0;a<s.length;a++)this.openFrontierNode(s[a]);var l=this.unplaced,c=i?i.content:l.content,u=l.openStart-t,d=0,f=[],h=this.frontier[r],p=h.match,g=h.type;if(o){for(var m=0;m<o.childCount;m++)f.push(o.child(m));p=p.matchFragment(o)}for(var y=c.size+t-(l.content.size-l.openEnd);d<c.childCount;){var v=c.child(d),b=p.matchType(v.type);if(!b)break;(++d>1||0==u||v.content.size)&&(p=b,f.push(bT(v.mark(g.allowedMarks(v.marks)),1==d?u:0,d==c.childCount?y:-1)))}var _=d==c.childCount;_||(y=-1),this.placed=Ac(this.placed,r,M.from(f)),this.frontier[r].match=p,_&&y<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var C=0,D=c;C<y;C++){var I=D.lastChild;this.frontier.push({type:I.type,match:I.contentMatchAt(I.childCount)}),D=I.content}this.unplaced=_?0==t?F.empty:new F(xc(l.content,t-1,1),t-1,y<0?l.openEnd:t-1):new F(xc(l.content,t,d),l.openStart,l.openEnd)},dr.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock)return-1;var t,e=this.frontier[this.depth];if(!e.type.isTextblock||!dy(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;for(var i=this.$to.depth,o=this.$to.after(i);i>1&&o==this.$to.end(--i);)++o;return o},dr.prototype.findCloseLevel=function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var r=this.frontier[t],i=r.match,o=r.type,s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=dy(e,t,o,i,s);if(a){for(var l=t-1;l>=0;l--){var c=this.frontier[l],f=dy(e,l,c.type,c.match,!0);if(!f||f.childCount)continue e}return{depth:t,fit:a,move:s?e.doc.resolve(e.after(t+1)):e}}}},dr.prototype.close=function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Ac(this.placed,t.depth,t.fit)),e=t.move;for(var r=t.depth+1;r<=e.depth;r++){var i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e},dr.prototype.openFrontierNode=function(e,t,r){var i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Ac(this.placed,this.depth,M.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})},dr.prototype.closeFrontierNode=function(){var t=this.frontier.pop().match.fillBefore(M.empty,!0);t.childCount&&(this.placed=Ac(this.placed,this.frontier.length,t))},Object.defineProperties(dr.prototype,_T),gt.prototype.replaceRange=function(n,e,t){if(!t.size)return this.deleteRange(n,e);var r=this.doc.resolve(n),i=this.doc.resolve(e);if(yT(r,i,t))return this.step(new ji(n,e,t));var o=DT(r,this.doc.resolve(e));0==o[o.length-1]&&o.pop();var s=-(r.depth+1);o.unshift(s);for(var a=r.depth,l=r.pos-1;a>0;a--,l--){var c=r.node(a).type.spec;if(c.defining||c.definingAsContext||c.isolating)break;o.indexOf(a)>-1?s=a:r.before(a)==l&&o.splice(1,0,-a)}for(var u=o.indexOf(s),d=[],f=t.openStart,h=t.content,p=0;;p++){var g=h.firstChild;if(d.push(g),p==t.openStart)break;h=g.content}for(var m=f-1;m>=0;m--){var y=d[m].type,v=h8(y);if(v&&r.node(u).type!=y)f=m;else if(v||!y.isTextblock)break}for(var b=t.openStart;b>=0;b--){var _=(b+f+1)%(t.openStart+1),C=d[_];if(C)for(var D=0;D<o.length;D++){var I=o[(D+u)%o.length],A=!0;I<0&&(A=!1,I=-I);var B=r.node(I-1),z=r.index(I-1);if(B.canReplaceWith(z,z,C.type,C.marks))return this.replace(r.before(I),A?i.after(I):e,new F(CT(t.content,0,t.openStart,_),_,t.openEnd))}}for(var ee=this.steps.length,re=o.length-1;re>=0&&(this.replace(n,e,t),!(this.steps.length>ee));re--){var K=o[re];K<0||(n=r.before(K),e=i.after(K))}return this},gt.prototype.replaceRangeWith=function(n,e,t){if(!t.isInline&&n==e&&this.doc.resolve(n).parent.content.size){var r=function d8(n,e,t){var r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(0==r.parentOffset)for(var i=r.depth-1;i>=0;i--){var o=r.index(i);if(r.node(i).canReplaceWith(o,o,t))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,t))return r.after(s+1);if(a<r.node(s).childCount)return null}}(this.doc,n,t.type);null!=r&&(n=e=r)}return this.replaceRange(n,e,new F(M.from(t),0,0))},gt.prototype.deleteRange=function(n,e){for(var t=this.doc.resolve(n),r=this.doc.resolve(e),i=DT(t,r),o=0;o<i.length;o++){var s=i[o],a=o==i.length-1;if(a&&0==s||t.node(s).type.contentMatch.validEnd)return this.delete(t.start(s),r.end(s));if(s>0&&(a||t.node(s-1).canReplace(t.index(s-1),r.indexAfter(s-1))))return this.delete(t.before(s),r.after(s))}for(var l=1;l<=t.depth&&l<=r.depth;l++)if(n-t.start(l)==t.depth-l&&e>t.end(l)&&r.end(l)-e!=r.depth-l)return this.delete(t.before(l),e);return this.delete(n,e)};var fy=Object.create(null),ue=function(e,t,r){this.ranges=r||[new p8(e.min(t),e.max(t))],this.$anchor=e,this.$head=t},Co={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};Co.anchor.get=function(){return this.$anchor.pos},Co.head.get=function(){return this.$head.pos},Co.from.get=function(){return this.$from.pos},Co.to.get=function(){return this.$to.pos},Co.$from.get=function(){return this.ranges[0].$from},Co.$to.get=function(){return this.ranges[0].$to},Co.empty.get=function(){for(var n=this.ranges,e=0;e<n.length;e++)if(n[e].$from.pos!=n[e].$to.pos)return!1;return!0},ue.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},ue.prototype.replace=function(e,t){void 0===t&&(t=F.empty);for(var r=t.content.lastChild,i=null,o=0;o<t.openEnd;o++)i=r,r=r.lastChild;for(var s=e.steps.length,a=this.ranges,l=0;l<a.length;l++){var c=a[l],u=c.$from,d=c.$to,f=e.mapping.slice(s);e.replaceRange(f.map(u.pos),f.map(d.pos),l?F.empty:t),0==l&&ET(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}},ue.prototype.replaceWith=function(e,t){for(var r=e.steps.length,i=this.ranges,o=0;o<i.length;o++){var s=i[o],a=s.$from,l=s.$to,c=e.mapping.slice(r),u=c.map(a.pos),d=c.map(l.pos);o?e.deleteRange(u,d):(e.replaceRangeWith(u,d,t),ET(e,r,t.isInline?-1:1))}},ue.findFrom=function(e,t,r){var i=e.parent.inlineContent?new ye(e):Pa(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(var o=e.depth-1;o>=0;o--){var s=t<0?Pa(e.node(0),e.node(o),e.before(o+1),e.index(o),t,r):Pa(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,r);if(s)return s}},ue.near=function(e,t){return void 0===t&&(t=1),this.findFrom(e,t)||this.findFrom(e,-t)||new Hi(e.node(0))},ue.atStart=function(e){return Pa(e,e,0,0,1)||new Hi(e)},ue.atEnd=function(e){return Pa(e,e,e.content.size,e.childCount,-1)||new Hi(e)},ue.fromJSON=function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var r=fy[t.type];if(!r)throw new RangeError("No selection type "+t.type+" defined");return r.fromJSON(e,t)},ue.jsonID=function(e,t){if(e in fy)throw new RangeError("Duplicate use of selection JSON ID "+e);return fy[e]=t,t.prototype.jsonID=e,t},ue.prototype.getBookmark=function(){return ye.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(ue.prototype,Co),ue.prototype.visible=!0;var p8=function(e,t){this.$from=e,this.$to=t},ye=function(n){function e(r,i){void 0===i&&(i=r),n.call(this,r,i)}n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e;var t={$cursor:{configurable:!0}};return t.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(i,o){var s=i.resolve(o.map(this.head));if(!s.parent.inlineContent)return n.near(s);var a=i.resolve(o.map(this.anchor));return new e(a.parent.inlineContent?a:s,s)},e.prototype.replace=function(i,o){if(void 0===o&&(o=F.empty),n.prototype.replace.call(this,i,o),o==F.empty){var s=this.$from.marksAcross(this.$to);s&&i.ensureMarks(s)}},e.prototype.eq=function(i){return i instanceof e&&i.anchor==this.anchor&&i.head==this.head},e.prototype.getBookmark=function(){return new Oc(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(i,o){if("number"!=typeof o.anchor||"number"!=typeof o.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(i.resolve(o.anchor),i.resolve(o.head))},e.create=function(i,o,s){void 0===s&&(s=o);var a=i.resolve(o);return new this(a,s==o?a:i.resolve(s))},e.between=function(i,o,s){var a=i.pos-o.pos;if((!s||a)&&(s=a>=0?1:-1),!o.parent.inlineContent){var l=n.findFrom(o,s,!0)||n.findFrom(o,-s,!0);if(!l)return n.near(o,s);o=l.$head}return i.parent.inlineContent||(0==a||(i=(n.findFrom(i,-s,!0)||n.findFrom(i,s,!0)).$anchor).pos<o.pos!=a<0)&&(i=o),new e(i,o)},Object.defineProperties(e.prototype,t),e}(ue);ue.jsonID("text",ye);var Oc=function(e,t){this.anchor=e,this.head=t};Oc.prototype.map=function(e){return new Oc(e.map(this.anchor),e.map(this.head))},Oc.prototype.resolve=function(e){return ye.between(e.resolve(this.anchor),e.resolve(this.head))};var ne=function(n){function e(t){var r=t.nodeAfter,i=t.node(0).resolve(t.pos+r.nodeSize);n.call(this,t,i),this.node=r}return n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e,e.prototype.map=function(r,i){var o=i.mapResult(this.anchor),s=o.deleted,l=r.resolve(o.pos);return s?n.near(l):new e(l)},e.prototype.content=function(){return new F(M.from(this.node),0,0)},e.prototype.eq=function(r){return r instanceof e&&r.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new Of(this.anchor)},e.fromJSON=function(r,i){if("number"!=typeof i.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(r.resolve(i.anchor))},e.create=function(r,i){return new this(r.resolve(i))},e.isSelectable=function(r){return!r.isText&&!1!==r.type.spec.selectable},e}(ue);ne.prototype.visible=!1,ue.jsonID("node",ne);var Of=function(e){this.anchor=e};Of.prototype.map=function(e){var t=e.mapResult(this.anchor),i=t.pos;return t.deleted?new Oc(i,i):new Of(i)},Of.prototype.resolve=function(e){var t=e.resolve(this.anchor),r=t.nodeAfter;return r&&ne.isSelectable(r)?new ne(t):ue.near(t)};var Hi=function(n){function e(t){n.call(this,t.resolve(0),t.resolve(t.content.size))}return n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e,e.prototype.replace=function(r,i){if(void 0===i&&(i=F.empty),i==F.empty){r.delete(0,r.doc.content.size);var o=n.atStart(r.doc);o.eq(r.selection)||r.setSelection(o)}else n.prototype.replace.call(this,r,i)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(r){return new e(r)},e.prototype.map=function(r){return new e(r)},e.prototype.eq=function(r){return r instanceof e},e.prototype.getBookmark=function(){return g8},e}(ue);ue.jsonID("all",Hi);var g8={map:function(){return this},resolve:function(e){return new Hi(e)}};function Pa(n,e,t,r,i,o){if(e.inlineContent)return ye.create(n,t);for(var s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){var a=e.child(s);if(a.isAtom){if(!o&&ne.isSelectable(a))return ne.create(n,t-(i<0?a.nodeSize:0))}else{var l=Pa(n,a,t+i,i<0?a.childCount:0,i,o);if(l)return l}t+=a.nodeSize*i}}function ET(n,e,t){var r=n.steps.length-1;if(!(r<e)){var s,i=n.steps[r];(i instanceof ji||i instanceof Nn)&&(n.mapping.maps[r].forEach(function(a,l,c,u){null==s&&(s=u)}),n.setSelection(ue.near(n.doc.resolve(s),t)))}}var m8=function(n){function e(r){n.call(this,r.doc),this.time=Date.now(),this.curSelection=r.selection,this.curSelectionFor=0,this.storedMarks=r.storedMarks,this.updated=0,this.meta=Object.create(null)}n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e;var t={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return t.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(i){if(i.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=i,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},t.selectionSet.get=function(){return(1&this.updated)>0},e.prototype.setStoredMarks=function(i){return this.storedMarks=i,this.updated|=2,this},e.prototype.ensureMarks=function(i){return Ce.sameSet(this.storedMarks||this.selection.$from.marks(),i)||this.setStoredMarks(i),this},e.prototype.addStoredMark=function(i){return this.ensureMarks(i.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(i){return this.ensureMarks(i.removeFromSet(this.storedMarks||this.selection.$head.marks()))},t.storedMarksSet.get=function(){return(2&this.updated)>0},e.prototype.addStep=function(i,o){n.prototype.addStep.call(this,i,o),this.updated=-3&this.updated,this.storedMarks=null},e.prototype.setTime=function(i){return this.time=i,this},e.prototype.replaceSelection=function(i){return this.selection.replace(this,i),this},e.prototype.replaceSelectionWith=function(i,o){var s=this.selection;return!1!==o&&(i=i.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||Ce.none))),s.replaceWith(this,i),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(i,o,s){void 0===s&&(s=o);var a=this.doc.type.schema;if(null==o)return i?this.replaceSelectionWith(a.text(i),!0):this.deleteSelection();if(!i)return this.deleteRange(o,s);var l=this.storedMarks;if(!l){var c=this.doc.resolve(o);l=s==o?c.marks():c.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(o,s,a.text(i,l)),this.selection.empty||this.setSelection(ue.near(this.selection.$to)),this},e.prototype.setMeta=function(i,o){return this.meta["string"==typeof i?i:i.key]=o,this},e.prototype.getMeta=function(i){return this.meta["string"==typeof i?i:i.key]},t.isGeneric.get=function(){for(var r in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=4,this},t.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(e.prototype,t),e}(gt);function MT(n,e){return e&&n?n.bind(e):n}var kc=function(e,t,r){this.name=e,this.init=MT(t.init,r),this.apply=MT(t.apply,r)},v8=[new kc("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new kc("selection",{init:function(e,t){return e.selection||ue.atStart(t.doc)},apply:function(e){return e.selection}}),new kc("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,r,i){return i.selection.$cursor?e.storedMarks:null}}),new kc("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],hy=function(e,t){var r=this;this.schema=e,this.fields=v8.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),t&&t.forEach(function(i){if(r.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");r.plugins.push(i),r.pluginsByKey[i.key]=i,i.spec.state&&r.fields.push(new kc(i.key,i.spec.state,i))})},dn=function(e){this.config=e},Nf={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};Nf.schema.get=function(){return this.config.schema},Nf.plugins.get=function(){return this.config.plugins},dn.prototype.apply=function(e){return this.applyTransaction(e).state},dn.prototype.filterTransaction=function(e,t){void 0===t&&(t=-1);for(var r=0;r<this.config.plugins.length;r++)if(r!=t){var i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0},dn.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],r=this.applyInner(e),i=null;;){for(var o=!1,s=0;s<this.config.plugins.length;s++){var a=this.config.plugins[s];if(a.spec.appendTransaction){var l=i?i[s].n:0,c=i?i[s].state:this,u=l<t.length&&a.spec.appendTransaction.call(a,l?t.slice(l):t,c,r);if(u&&r.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(var d=0;d<this.config.plugins.length;d++)i.push(d<s?{state:r,n:t.length}:{state:this,n:0})}t.push(u),r=r.applyInner(u),o=!0}i&&(i[s]={state:r,n:t.length})}}if(!o)return{state:r,transactions:t}}},dn.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var t=new dn(this.config),r=this.config.fields,i=0;i<r.length;i++){var o=r[i];t[o.name]=o.apply(e,this[o.name],this,t)}for(var s=0;s<Nc.length;s++)Nc[s](this,e,t);return t},Nf.tr.get=function(){return new m8(this)},dn.create=function(e){for(var t=new hy(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new dn(t),i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r},dn.prototype.reconfigure=function(e){for(var t=new hy(this.schema,e.plugins),r=t.fields,i=new dn(t),o=0;o<r.length;o++){var s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i},dn.prototype.toJSON=function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(function(s){return s.toJSON()})),e&&"object"==typeof e)for(var r in e){if("doc"==r||"selection"==r)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var i=e[r],o=i.spec.state;o&&o.toJSON&&(t[r]=o.toJSON.call(i,this[i.key]))}return t},dn.fromJSON=function(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var i=new hy(e.schema,e.plugins),o=new dn(i);return i.fields.forEach(function(s){if("doc"==s.name)o.doc=Ee.fromJSON(e.schema,t.doc);else if("selection"==s.name)o.selection=ue.fromJSON(o.doc,t.selection);else if("storedMarks"==s.name)t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(var a in r){var l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(t,a))return void(o[s.name]=c.fromJSON.call(l,e,t[a],o))}o[s.name]=s.init(e,o)}}),o},dn.addApplyListener=function(e){Nc.push(e)},dn.removeApplyListener=function(e){var t=Nc.indexOf(e);t>-1&&Nc.splice(t,1)},Object.defineProperties(dn.prototype,Nf);var Nc=[];function IT(n,e,t){for(var r in n){var i=n[r];i instanceof Function?i=i.bind(e):"handleDOMEvents"==r&&(i=IT(i,e,{})),t[r]=i}return t}var rt=function(e){this.props={},e.props&&IT(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:TT("plugin")};rt.prototype.getState=function(e){return e[this.key]};var py=Object.create(null);function TT(n){return n in py?n+"$"+ ++py[n]:(py[n]=0,n+"$")}var Ct=function(e){void 0===e&&(e="key"),this.key=TT(e)};function gy(n,e){return!n.selection.empty&&(e&&e(n.tr.deleteSelection().scrollIntoView()),!0)}function xT(n,e,t){var i=n.selection.$cursor;if(!i||(t?!t.endOfTextblock("backward",n):i.parentOffset>0))return!1;var o=OT(i);if(!o){var s=i.blockRange(),a=s&&Ra(s);return null!=a&&(e&&e(n.tr.lift(s,a).scrollIntoView()),!0)}var l=o.nodeBefore;if(!l.type.spec.isolating&&VT(n,o,e))return!0;if(0==i.parent.content.size&&(Fa(l,"end")||ne.isSelectable(l))){var c=cy(n.doc,i.before(),i.after(),F.empty);if(c.slice.size<c.to-c.from){if(e){var u=n.tr.step(c);u.setSelection(Fa(l,"end")?ue.findFrom(u.doc.resolve(u.mapping.map(o.pos,-1)),-1):ne.create(u.doc,o.pos-l.nodeSize)),e(u.scrollIntoView())}return!0}}return!(!l.isAtom||o.depth!=i.depth-1||(e&&e(n.tr.delete(o.pos-l.nodeSize,o.pos).scrollIntoView()),0))}function Fa(n,e,t){for(;n;n="start"==e?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(t&&1!=n.childCount)return!1}return!1}function AT(n,e,t){var r=n.selection,i=r.$head,s=i;if(!r.empty)return!1;if(i.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):i.parentOffset>0)return!1;s=OT(i)}var a=s&&s.nodeBefore;return!(!a||!ne.isSelectable(a)||(e&&e(n.tr.setSelection(ne.create(n.doc,s.pos-a.nodeSize)).scrollIntoView()),0))}function OT(n){if(!n.parent.type.spec.isolating)for(var e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function kT(n,e,t){var i=n.selection.$cursor;if(!i||(t?!t.endOfTextblock("forward",n):i.parentOffset<i.parent.content.size))return!1;var o=RT(i);if(!o)return!1;var s=o.nodeAfter;if(VT(n,o,e))return!0;if(0==i.parent.content.size&&(Fa(s,"start")||ne.isSelectable(s))){var a=cy(n.doc,i.before(),i.after(),F.empty);if(a.slice.size<a.to-a.from){if(e){var l=n.tr.step(a);l.setSelection(Fa(s,"start")?ue.findFrom(l.doc.resolve(l.mapping.map(o.pos)),1):ne.create(l.doc,l.mapping.map(o.pos))),e(l.scrollIntoView())}return!0}}return!(!s.isAtom||o.depth!=i.depth-1||(e&&e(n.tr.delete(o.pos,o.pos+s.nodeSize).scrollIntoView()),0))}function NT(n,e,t){var r=n.selection,i=r.$head,s=i;if(!r.empty)return!1;if(i.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):i.parentOffset<i.parent.content.size)return!1;s=RT(i)}var a=s&&s.nodeAfter;return!(!a||!ne.isSelectable(a)||(e&&e(n.tr.setSelection(ne.create(n.doc,s.pos)).scrollIntoView()),0))}function RT(n){if(!n.parent.type.spec.isolating)for(var e=n.depth-1;e>=0;e--){var t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}function PT(n,e){var t=n.selection,r=t.$head;return!(!r.parent.type.spec.code||!r.sameParent(t.$anchor)||(e&&e(n.tr.insertText("\n").scrollIntoView()),0))}function my(n){for(var e=0;e<n.edgeCount;e++){var r=n.edge(e).type;if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function FT(n,e){var t=n.selection,r=t.$head;if(!r.parent.type.spec.code||!r.sameParent(t.$anchor))return!1;var o=r.node(-1),s=r.indexAfter(-1),a=my(o.contentMatchAt(s));if(!o.canReplaceWith(s,s,a))return!1;if(e){var l=r.after(),c=n.tr.replaceWith(l,l,a.createAndFill());c.setSelection(ue.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0}function LT(n,e){var t=n.selection,r=t.$from,i=t.$to;if(t instanceof Hi||r.parent.inlineContent||i.parent.inlineContent)return!1;var o=my(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){var s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=n.tr.insert(s,o.createAndFill());a.setSelection(ye.create(a.doc,s+1)),e(a.scrollIntoView())}return!0}function BT(n,e){var r=n.selection.$cursor;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){var i=r.before();if(Vi(n.doc,i))return e&&e(n.tr.split(i).scrollIntoView()),!0}var o=r.blockRange(),s=o&&Ra(o);return null!=s&&(e&&e(n.tr.lift(o,s).scrollIntoView()),!0)}function VT(n,e,t){var o,s,r=e.nodeBefore,i=e.nodeAfter;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(function C8(n,e,t){var r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!(!(r&&i&&r.type.compatibleContent(i.type))||(!r.content.size&&e.parent.canReplace(o-1,o)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),0):!e.parent.canReplace(o,o+1)||!i.isTextblock&&!Ic(n.doc,e.pos)||(t&&t(n.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),0)))}(n,e,t))return!0;var a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(t){for(var l=e.pos+i.nodeSize,c=M.empty,u=o.length-1;u>=0;u--)c=M.from(o[u].create(null,c));c=M.from(r.copy(c));var d=n.tr.step(new Nn(e.pos-1,l,e.pos,l,new F(c,1,0),o.length,!0)),f=l+2*o.length;Ic(d.doc,f)&&d.join(f),t(d.scrollIntoView())}return!0}var h=ue.findFrom(e,1),p=h&&h.$from.blockRange(h.$to),g=p&&Ra(p);if(null!=g&&g>=e.depth)return t&&t(n.tr.lift(p,g).scrollIntoView()),!0;if(a&&Fa(i,"start",!0)&&Fa(r,"end")){for(var m=r,y=[];y.push(m),!m.isTextblock;)m=m.lastChild;for(var v=i,b=1;!v.isTextblock;v=v.firstChild)b++;if(m.canReplace(m.childCount,m.childCount,v.content)){if(t){for(var _=M.empty,C=y.length-1;C>=0;C--)_=M.from(y[C].copy(_));t(n.tr.step(new Nn(e.pos-y.length,e.pos+i.nodeSize,e.pos+b,e.pos+i.nodeSize-b,new F(_,y.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function HT(n){return function(e,t){for(var r=e.selection,i=n<0?r.$from:r.$to,o=i.depth;i.node(o).isInline;){if(!o)return!1;o--}return!!i.node(o).isTextblock&&(t&&t(e.tr.setSelection(ye.create(e.doc,n<0?i.start(o):i.end(o)))),!0)}}Ct.prototype.get=function(e){return e.config.pluginsByKey[this.key]},Ct.prototype.getState=function(e){return e[this.key]};var UT=HT(-1),zT=HT(1);function WT(n,e){return function(t,r){var i=t.selection,o=i.from,s=i.to,a=!1;return t.doc.nodesBetween(o,s,function(l,c){if(a)return!1;if(l.isTextblock&&!l.hasMarkup(n,e))if(l.type==n)a=!0;else{var u=t.doc.resolve(c),d=u.index();a=u.parent.canReplaceWith(d,d+1,n)}}),!!a&&(r&&r(t.tr.setBlockType(o,s,n,e).scrollIntoView()),!0)}}function vy(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return function(t,r,i){for(var o=0;o<n.length;o++)if(n[o](t,r,i))return!0;return!1}}var yy=vy(gy,xT,AT),$T=vy(gy,kT,NT),Do={Enter:vy(PT,LT,BT,function jT(n,e){var t=n.selection,r=t.$from,i=t.$to;if(n.selection instanceof ne&&n.selection.node.isBlock)return!(!r.parentOffset||!Vi(n.doc,r.pos)||(e&&e(n.tr.split(r.pos).scrollIntoView()),0));if(!r.parent.isBlock)return!1;if(e){var o=i.parentOffset==i.parent.content.size,s=n.tr;(n.selection instanceof ye||n.selection instanceof Hi)&&s.deleteSelection();var a=0==r.depth?null:my(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=o&&a?[{type:a}]:null,c=Vi(s.doc,s.mapping.map(r.pos),1,l);if(!l&&!c&&Vi(s.doc,s.mapping.map(r.pos),1,a&&[{type:a}])&&(l=[{type:a}],c=!0),c&&(s.split(s.mapping.map(r.pos),1,l),!o&&!r.parentOffset&&r.parent.type!=a)){var u=s.mapping.map(r.before()),d=s.doc.resolve(u);r.node(-1).canReplaceWith(d.index(),d.index()+1,a)&&s.setNodeMarkup(s.mapping.map(r.before()),a)}e(s.scrollIntoView())}return!0}),"Mod-Enter":FT,Backspace:yy,"Mod-Backspace":yy,"Shift-Backspace":yy,Delete:$T,"Mod-Delete":$T,"Mod-a":function b8(n,e){return e&&e(n.tr.setSelection(new Hi(n.doc))),!0}},S8={"Ctrl-h":Do.Backspace,"Alt-Backspace":Do["Mod-Backspace"],"Ctrl-d":Do.Delete,"Ctrl-Alt-Backspace":Do["Mod-Delete"],"Alt-Delete":Do["Mod-Delete"],"Alt-d":Do["Mod-Delete"],"Ctrl-a":UT,"Ctrl-e":zT};for(var GT in Do)S8[GT]=Do[GT];"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform();var x={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var by=/Edge\/(\d+)/.exec(navigator.userAgent),qT=/MSIE \d/.test(navigator.userAgent),Cy=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Dy=x.ie=!!(qT||Cy||by);x.ie_version=qT?document.documentMode||6:Cy?+Cy[1]:by?+by[1]:null,x.gecko=!Dy&&/gecko\/(\d+)/i.test(navigator.userAgent),x.gecko_version=x.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var Ey=!Dy&&/Chrome\/(\d+)/.exec(navigator.userAgent);x.chrome=!!Ey,x.chrome_version=Ey&&+Ey[1],x.safari=!Dy&&/Apple Computer/.test(navigator.vendor),x.ios=x.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),x.mac=x.ios||/Mac/.test(navigator.platform),x.android=/Android \d/.test(navigator.userAgent),x.webkit="webkitFontSmoothing"in document.documentElement.style,x.webkit_version=x.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var Yn=function(n){for(var e=0;;e++)if(!(n=n.previousSibling))return e},wy=function(n){var e=n.assignedSlot||n.parentNode;return e&&11==e.nodeType?e.host:e},KT=null,Ui=function(n,e,t){var r=KT||(KT=document.createRange());return r.setEnd(n,null==t?n.nodeValue.length:t),r.setStart(n,e||0),r},Rc=function(n,e,t,r){return t&&(ZT(n,e,t,r,-1)||ZT(n,e,t,r,1))},B8=/^(img|br|input|textarea|hr)$/i;function ZT(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:ui(n))){var o=n.parentNode;if(!o||1!=o.nodeType||V8(n)||B8.test(n.nodeName)||"false"==n.contentEditable)return!1;e=Yn(n)+(i<0?0:1),n=o}else{if(1!=n.nodeType)return!1;if("false"==(n=n.childNodes[e+(i<0?-1:0)]).contentEditable)return!1;e=i<0?ui(n):0}}}function ui(n){return 3==n.nodeType?n.nodeValue.length:n.childNodes.length}function V8(n){for(var e,t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}var Sy=function(n){var e=n.isCollapsed;return e&&x.chrome&&n.rangeCount&&!n.getRangeAt(0).collapsed&&(e=!1),e};function La(n,e){var t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function H8(n){return{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Eo(n,e){return"number"==typeof n?n:n[e]}function U8(n){var e=n.getBoundingClientRect();return{left:e.left,right:e.left+n.clientWidth*(e.width/n.offsetWidth||1),top:e.top,bottom:e.top+n.clientHeight*(e.height/n.offsetHeight||1)}}function QT(n){for(var e=[],t=n.ownerDocument;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),n!=t);n=wy(n));return e}function JT(n,e){for(var t=0;t<n.length;t++){var r=n[t],i=r.dom,o=r.top,s=r.left;i.scrollTop!=o+e&&(i.scrollTop=o+e),i.scrollLeft!=s&&(i.scrollLeft=s)}}var Ba=null;function XT(n,e){for(var t,i,r=2e8,o=0,s=e.top,a=e.top,l=n.firstChild,c=0;l;l=l.nextSibling,c++){var u=void 0;if(1==l.nodeType)u=l.getClientRects();else{if(3!=l.nodeType)continue;u=Ui(l).getClientRects()}for(var d=0;d<u.length;d++){var f=u[d];if(f.top<=s&&f.bottom>=a){s=Math.max(f.bottom,s),a=Math.min(f.top,a);var h=f.left>e.left?f.left-e.left:f.right<e.left?e.left-f.right:0;if(h<r){t=l,r=h,i=h&&3==t.nodeType?{left:f.right<e.left?f.right:f.left,top:e.top}:e,1==l.nodeType&&h&&(o=c+(e.left>=(f.left+f.right)/2?1:0));continue}}!t&&(e.left>=f.right&&e.top>=f.top||e.left>=f.left&&e.top>=f.bottom)&&(o=c+1)}}return t&&3==t.nodeType?function G8(n,e){for(var t=n.nodeValue.length,r=document.createRange(),i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);var o=wo(r,1);if(o.top!=o.bottom&&My(e,o))return{node:n,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:n,offset:0}}(t,i):!t||r&&1==t.nodeType?{node:n,offset:o}:XT(t,i)}function My(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function ex(n,e,t){var r=n.childNodes.length;if(r&&t.top<t.bottom)for(var i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),o=i;;){var s=n.childNodes[o];if(1==s.nodeType)for(var a=s.getClientRects(),l=0;l<a.length;l++){var c=a[l];if(My(e,c))return ex(s,e,c)}if((o=(o+1)%r)==i)break}return n}function Y8(n,e){var t,r,o,s,i=n.dom.ownerDocument;if(i.caretPositionFromPoint)try{var a=i.caretPositionFromPoint(e.left,e.top);a&&(o=(t=a).offsetNode,s=t.offset)}catch(m){}if(!o&&i.caretRangeFromPoint){var l=i.caretRangeFromPoint(e.left,e.top);l&&(o=(r=l).startContainer,s=r.startOffset)}var u,c=(n.root.elementFromPoint?n.root:i).elementFromPoint(e.left,e.top+1);if(!c||!n.dom.contains(1!=c.nodeType?c.parentNode:c)){var d=n.dom.getBoundingClientRect();if(!My(e,d)||!(c=ex(n.dom,e,d)))return null}if(x.safari)for(var f=c;o&&f;f=wy(f))f.draggable&&(o=s=null);if(c=function q8(n,e){var t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}(c,e),o){if(x.gecko&&1==o.nodeType&&(s=Math.min(s,o.childNodes.length))<o.childNodes.length){var p,h=o.childNodes[s];"IMG"==h.nodeName&&(p=h.getBoundingClientRect()).right<=e.left&&p.bottom>e.top&&s++}o==n.dom&&s==o.childNodes.length-1&&1==o.lastChild.nodeType&&e.top>o.lastChild.getBoundingClientRect().bottom?u=n.state.doc.content.size:(0==s||1!=o.nodeType||"BR"!=o.childNodes[s-1].nodeName)&&(u=function Z8(n,e,t,r){for(var i=-1,o=e;o!=n.dom;){var s=n.docView.nearestDesc(o,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)i=s.posBefore;else{if(!(a.right<r.left||a.bottom<r.top))break;i=s.posAfter}}o=s.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t)}(n,o,s,e))}null==u&&(u=function K8(n,e,t){var r=XT(e,t),i=r.node,o=r.offset,s=-1;if(1==i.nodeType&&!i.firstChild){var a=i.getBoundingClientRect();s=a.left!=a.right&&t.left>(a.left+a.right)/2?1:-1}return n.docView.posFromDOM(i,o,s)}(n,c,e));var g=n.docView.nearestDesc(c,!0);return{pos:u,inside:g?g.posAtStart-g.border:-1}}function wo(n,e){var t=n.getClientRects();return t.length?t[e<0?0:t.length-1]:n.getBoundingClientRect()}var Q8=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function tx(n,e,t){var r=n.docView.domFromPos(e,t<0?-1:1),i=r.node,o=r.offset,s=x.webkit||x.gecko;if(3==i.nodeType){if(!s||!Q8.test(i.nodeValue)&&(t<0?o:o!=i.nodeValue.length)){var u=o,d=o,f=t<0?1:-1;return t<0&&!o?(d++,f=-1):t>=0&&o==i.nodeValue.length?(u--,f=1):t<0?u--:d++,Pc(wo(Ui(i,u,d),f),f<0)}var a=wo(Ui(i,o,o),t);if(x.gecko&&o&&/\s/.test(i.nodeValue[o-1])&&o<i.nodeValue.length){var l=wo(Ui(i,o-1,o-1),-1);if(l.top==a.top){var c=wo(Ui(i,o,o+1),-1);if(c.top!=a.top)return Pc(c,c.left<l.left)}}return a}if(!n.state.doc.resolve(e).parent.inlineContent){if(o&&(t<0||o==ui(i))){var h=i.childNodes[o-1];if(1==h.nodeType)return Iy(h.getBoundingClientRect(),!1)}if(o<ui(i)){var p=i.childNodes[o];if(1==p.nodeType)return Iy(p.getBoundingClientRect(),!0)}return Iy(i.getBoundingClientRect(),t>=0)}if(o&&(t<0||o==ui(i))){var g=i.childNodes[o-1],m=3==g.nodeType?Ui(g,ui(g)-(s?0:1)):1!=g.nodeType||"BR"==g.nodeName&&g.nextSibling?null:g;if(m)return Pc(wo(m,1),!1)}if(o<ui(i)){for(var y=i.childNodes[o];y.pmViewDesc&&y.pmViewDesc.ignoreForCoords;)y=y.nextSibling;var v=y?3==y.nodeType?Ui(y,0,s?0:1):1==y.nodeType?y:null:null;if(v)return Pc(wo(v,-1),!0)}return Pc(wo(3==i.nodeType?Ui(i):i,-t),t>=0)}function Pc(n,e){if(0==n.width)return n;var t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Iy(n,e){if(0==n.height)return n;var t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function nx(n,e,t){var r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}var X8=/[\u0590-\u08ac]/,rx=null,ix=null,ox=!1;var Ge=function(e,t,r,i){this.parent=e,this.children=t,this.dom=r,r.pmViewDesc=this,this.contentDOM=i,this.dirty=0},di={size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};Ge.prototype.matchesWidget=function(){return!1},Ge.prototype.matchesMark=function(){return!1},Ge.prototype.matchesNode=function(){return!1},Ge.prototype.matchesHack=function(e){return!1},Ge.prototype.parseRule=function(){return null},Ge.prototype.stopEvent=function(){return!1},di.size.get=function(){for(var n=0,e=0;e<this.children.length;e++)n+=this.children[e].size;return n},di.border.get=function(){return 0},Ge.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()},Ge.prototype.posBeforeChild=function(e){for(var t=0,r=this.posAtStart;t<this.children.length;t++){var i=this.children[t];if(i==e)return r;r+=i.size}},di.posBefore.get=function(){return this.parent.posBeforeChild(this)},di.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},di.posAfter.get=function(){return this.posBefore+this.size},di.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},Ge.prototype.localPosFromDOM=function(e,t,r){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(r<0){var i,o;if(e==this.contentDOM)i=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&(!(o=i.pmViewDesc)||o.parent!=this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}var s,a;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&(!(a=s.pmViewDesc)||a.parent!=this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}var l;if(e==this.dom&&this.contentDOM)l=t>Yn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))l=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var c=e;;c=c.parentNode){if(c==this.dom){l=!1;break}if(c.parentNode.firstChild!=c)break}if(null==l&&t==e.childNodes.length)for(var u=e;;u=u.parentNode){if(u==this.dom){l=!0;break}if(u.parentNode.lastChild!=u)break}}return(null==l?r>0:l)?this.posAtEnd:this.posAtStart},Ge.prototype.nearestDesc=function(e,t){for(var r=!0,i=e;i;i=i.parentNode){var o=this.getDesc(i);if(o&&(!t||o.node)){if(!r||!o.nodeDOM||(1==o.nodeDOM.nodeType?o.nodeDOM.contains(1==e.nodeType?e:e.parentNode):o.nodeDOM==e))return o;r=!1}}},Ge.prototype.getDesc=function(e){for(var t=e.pmViewDesc,r=t;r;r=r.parent)if(r==this)return t},Ge.prototype.posFromDOM=function(e,t,r){for(var i=e;i;i=i.parentNode){var o=this.getDesc(i);if(o)return o.localPosFromDOM(e,t,r)}return-1},Ge.prototype.descAt=function(e){for(var t=0,r=0;t<this.children.length;t++){var i=this.children[t],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}},Ge.prototype.domFromPos=function(e,t){if(!this.contentDOM)return{node:this.dom,offset:0};for(var r=0,i=0,o=0;r<this.children.length;r++){var s=this.children[r],a=o+s.size;if(a>e||s instanceof ux){i=e-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(var l=void 0;r&&!(l=this.children[r-1]).size&&l instanceof ax&&l.widget.type.side>=0;r--);if(t<=0){for(var c,u=!0;(c=r?this.children[r-1]:null)&&c.dom.parentNode!=this.contentDOM;r--,u=!1);return c&&t&&u&&!c.border&&!c.domAtom?c.domFromPos(c.size,t):{node:this.contentDOM,offset:c?Yn(c.dom)+1:0}}for(var d,f=!0;(d=r<this.children.length?this.children[r]:null)&&d.dom.parentNode!=this.contentDOM;r++,f=!1);return d&&f&&!d.border&&!d.domAtom?d.domFromPos(0,t):{node:this.contentDOM,offset:d?Yn(d.dom):this.contentDOM.childNodes.length}},Ge.prototype.parseRange=function(e,t,r){if(void 0===r&&(r=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var i=-1,o=-1,s=r,a=0;;a++){var l=this.children[a],c=s+l.size;if(-1==i&&e<=c){var u=s+l.border;if(e>=u&&t<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,u);e=s;for(var d=a;d>0;d--){var f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=Yn(f.dom)+1;break}e-=f.size}-1==i&&(i=0)}if(i>-1&&(c>t||a==this.children.length-1)){t=c;for(var h=a+1;h<this.children.length;h++){var p=this.children[h];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){o=Yn(p.dom);break}t+=p.size}-1==o&&(o=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:o}},Ge.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},Ge.prototype.domAfterPos=function(e){var t=this.domFromPos(e,0),r=t.node,i=t.offset;if(1!=r.nodeType||i==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[i]},Ge.prototype.setSelection=function(e,t,r,i){for(var o=Math.min(e,t),s=Math.max(e,t),a=0,l=0;a<this.children.length;a++){var c=this.children[a],u=l+c.size;if(o>l&&s<u)return c.setSelection(e-l-c.border,t-l-c.border,r,i);l=u}var d=this.domFromPos(e,e?-1:1),f=t==e?d:this.domFromPos(t,t?-1:1),h=r.getSelection(),p=!1;if((x.gecko||x.safari)&&e==t){var g=d.node,m=d.offset;if(3==g.nodeType){if((p=m&&"\n"==g.nodeValue[m-1])&&m==g.nodeValue.length)for(var y=g,v=void 0;y;y=y.parentNode){if(v=y.nextSibling){"BR"==v.nodeName&&(d=f={node:v.parentNode,offset:Yn(v)+1});break}var b=y.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{var _=g.childNodes[m-1];p=_&&("BR"==_.nodeName||"false"==_.contentEditable)}}if(x.gecko&&h.focusNode&&h.focusNode!=f.node&&1==h.focusNode.nodeType){var C=h.focusNode.childNodes[h.focusOffset];C&&"false"==C.contentEditable&&(i=!0)}if(i||p&&x.safari||!Rc(d.node,d.offset,h.anchorNode,h.anchorOffset)||!Rc(f.node,f.offset,h.focusNode,h.focusOffset)){var D=!1;if((h.extend||e==t)&&!p){h.collapse(d.node,d.offset);try{e!=t&&h.extend(f.node,f.offset),D=!0}catch(B){if(!(B instanceof DOMException))throw B}}if(!D){if(e>t){var I=d;d=f,f=I}var A=document.createRange();A.setEnd(f.node,f.offset),A.setStart(d.node,d.offset),h.removeAllRanges(),h.addRange(A)}}},Ge.prototype.ignoreMutation=function(e){return!this.contentDOM&&"selection"!=e.type},di.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},Ge.prototype.markDirty=function(e,t){for(var r=0,i=0;i<this.children.length;i++){var o=this.children[i],s=r+o.size;if(r==s?e<=s&&t>=r:e<s&&t>r){var a=r+o.border,l=s-o.border;if(e>=a&&t<=l)return this.dirty=e==r||t==s?2:1,void(e!=a||t!=l||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-a,t-a):o.dirty=3);o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?3:2}r=s}this.dirty=2},Ge.prototype.markParentsDirty=function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var r=1==e?2:1;t.dirty<r&&(t.dirty=r)}},di.domAtom.get=function(){return!1},di.ignoreForCoords.get=function(){return!1},Object.defineProperties(Ge.prototype,di);var So=[],ax=function(n){function e(r,i,o,s){var a,l=i.type.toDOM;if("function"==typeof l&&(l=l(o,function(){return a?a.parent?a.parent.posBeforeChild(a):void 0:s})),!i.type.spec.raw){if(1!=l.nodeType){var c=document.createElement("span");c.appendChild(l),l=c}l.contentEditable=!1,l.classList.add("ProseMirror-widget")}n.call(this,r,So,l,null),this.widget=i,a=this}n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e;var t={domAtom:{configurable:!0}};return e.prototype.matchesWidget=function(i){return 0==this.dirty&&i.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(i){var o=this.widget.spec.stopEvent;return!!o&&o(i)},e.prototype.ignoreMutation=function(i){return"selection"!=i.type||this.widget.spec.ignoreSelection},e.prototype.destroy=function(){this.widget.type.destroy(this.dom),n.prototype.destroy.call(this)},t.domAtom.get=function(){return!0},Object.defineProperties(e.prototype,t),e}(Ge),nW=function(n){function e(r,i,o,s){n.call(this,r,So,i,null),this.textDOM=o,this.text=s}n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e;var t={size:{configurable:!0}};return t.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(i,o){return i!=this.textDOM?this.posAtStart+(o?this.size:0):this.posAtStart+o},e.prototype.domFromPos=function(i){return{node:this.textDOM,offset:i}},e.prototype.ignoreMutation=function(i){return"characterData"===i.type&&i.target.nodeValue==i.oldValue},Object.defineProperties(e.prototype,t),e}(Ge),Rf=function(n){function e(t,r,i,o){n.call(this,t,[],i,o),this.mark=r}return n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e,e.create=function(r,i,o,s){var a=s.nodeViews[i.type.name],l=a&&a(i,s,o);return(!l||!l.dom)&&(l=Gt.renderSpec(document,i.type.spec.toDOM(i,o))),new e(r,i,l.dom,l.contentDOM||l.dom)},e.prototype.parseRule=function(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(r){return 3!=this.dirty&&this.mark.eq(r)},e.prototype.markDirty=function(r,i){if(n.prototype.markDirty.call(this,r,i),0!=this.dirty){for(var o=this.parent;!o.node;)o=o.parent;o.dirty<this.dirty&&(o.dirty=this.dirty),this.dirty=0}},e.prototype.slice=function(r,i,o){var s=e.create(this.parent,this.mark,!0,o),a=this.children,l=this.size;i<l&&(a=Ay(a,i,l,o)),r>0&&(a=Ay(a,0,r,o));for(var c=0;c<a.length;c++)a[c].parent=s;return s.children=a,s},e}(Ge),Lc=function(n){function e(r,i,o,s,a,l,c,u,d){n.call(this,r,i.isLeaf?So:[],a,l),this.nodeDOM=c,this.node=i,this.outerDeco=o,this.innerDeco=s,l&&this.updateChildren(u,d)}n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e;var t={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return e.create=function(i,o,s,a,l,c){var u,f,d=l.nodeViews[o.type.name],h=d&&d(o,l,function(){return f?f.parent?f.parent.posBeforeChild(f):void 0:c},s,a),p=h&&h.dom,g=h&&h.contentDOM;if(o.isText)if(p){if(3!=p.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else p=document.createTextNode(o.text);else p||(p=(u=Gt.renderSpec(document,o.type.spec.toDOM(o))).dom,g=u.contentDOM);!g&&!o.isText&&"BR"!=p.nodeName&&(p.hasAttribute("contenteditable")||(p.contentEditable=!1),o.type.spec.draggable&&(p.draggable=!0));var m=p;return p=hx(p,s,o),h?f=new rW(i,o,s,a,p,g,m,h,l,c+1):o.isText?new cx(i,o,s,a,p,m,l):new e(i,o,s,a,p,g,m,l,c+1)},e.prototype.parseRule=function(){var i=this;if(this.node.type.spec.reparseInView)return null;var o={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(o.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(var s=this.children.length-1;s>=0;s--){var a=this.children[s];if(this.dom.contains(a.dom.parentNode)){o.contentElement=a.dom.parentNode;break}}o.contentElement||(o.getContent=function(){return M.empty})}else o.contentElement=this.contentDOM;else o.getContent=function(){return i.node.content};return o},e.prototype.matchesNode=function(i,o,s){return 0==this.dirty&&i.eq(this.node)&&xy(o,this.outerDeco)&&s.eq(this.innerDeco)},t.size.get=function(){return this.node.nodeSize},t.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(i,o){var s=this,a=this.node.inlineContent,l=o,c=i.composing&&this.localCompositionInfo(i,o),u=c&&c.pos>-1?c:null,d=c&&c.pos<0,f=new fr(this,u&&u.node);(function aW(n,e,t,r){var i=e.locals(n),o=0;if(0!=i.length)for(var l=0,c=[],u=null,d=0;;){if(l<i.length&&i[l].to==o){for(var f=i[l++],h=void 0;l<i.length&&i[l].to==o;)(h||(h=[f])).push(i[l++]);if(h){h.sort(sW);for(var p=0;p<h.length;p++)t(h[p],d,!!u)}else t(f,d,!!u)}var g=void 0,m=void 0;if(u)m=-1,g=u,u=null;else{if(!(d<n.childCount))break;m=d,g=n.child(d++)}for(var y=0;y<c.length;y++)c[y].to<=o&&c.splice(y--,1);for(;l<i.length&&i[l].from<=o&&i[l].to>o;)c.push(i[l++]);var v=o+g.nodeSize;if(g.isText){var b=v;l<i.length&&i[l].from<b&&(b=i[l].from);for(var _=0;_<c.length;_++)c[_].to<b&&(b=c[_].to);b<v&&(u=g.cut(b-o),g=g.cut(0,b-o),v=b,m=-1)}r(g,c.length?g.isInline&&!g.isLeaf?c.filter(function(D){return!D.inline}):c.slice():So,e.forChild(o,g),m),o=v}else for(var s=0;s<n.childCount;s++){var a=n.child(s);r(a,i,e.forChild(o,a),s),o+=a.nodeSize}})(this.node,this.innerDeco,function(h,p,g){h.spec.marks?f.syncToMarks(h.spec.marks,a,i):h.type.side>=0&&!g&&f.syncToMarks(p==s.node.childCount?Ce.none:s.node.child(p).marks,a,i),f.placeWidget(h,i,l)},function(h,p,g,m){var y;f.syncToMarks(h.marks,a,i),f.findNodeMatch(h,p,g,m)||d&&i.state.selection.from>l&&i.state.selection.to<l+h.nodeSize&&(y=f.findIndexWithChild(c.node))>-1&&f.updateNodeAt(h,p,g,y,i)||f.updateNextNode(h,p,g,i,m)||f.addNode(h,p,g,i,l),l+=h.nodeSize}),f.syncToMarks(So,a,i),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||2==this.dirty)&&(u&&this.protectLocalComposition(i,u),dx(this.contentDOM,this.children,i),x.ios&&function lW(n){if("UL"==n.nodeName||"OL"==n.nodeName){var e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n),n.style.cssText=e}}(this.dom))},e.prototype.localCompositionInfo=function(i,o){var s=i.state.selection,a=s.from,l=s.to;if(!(!(i.state.selection instanceof ye)||a<o||l>o+this.node.content.size)){var c=i.root.getSelection(),u=function cW(n,e){for(;;){if(3==n.nodeType)return n;if(1==n.nodeType&&e>0){if(n.childNodes.length>e&&3==n.childNodes[e].nodeType)return n.childNodes[e];e=ui(n=n.childNodes[e-1])}else{if(!(1==n.nodeType&&e<n.childNodes.length))return null;n=n.childNodes[e],e=0}}}(c.focusNode,c.focusOffset);if(u&&this.dom.contains(u.parentNode)){if(this.node.inlineContent){var d=u.nodeValue,f=function uW(n,e,t,r){for(var i=0,o=0;i<n.childCount&&o<=r;){var s=n.child(i++),a=o;if(o+=s.nodeSize,s.isText){for(var l=s.text;i<n.childCount;){var c=n.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=t){var u=a<r?l.lastIndexOf(e,r-a-1):-1;if(u>=0&&u+e.length+a>=t)return a+u;if(t==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}}return-1}(this.node.content,d,a-o,l-o);return f<0?null:{node:u,pos:f,text:d}}return{node:u,pos:-1}}}},e.prototype.protectLocalComposition=function(i,o){var s=o.node,a=o.pos,l=o.text;if(!this.getDesc(s)){for(var c=s;c.parentNode!=this.contentDOM;c=c.parentNode){for(;c.previousSibling;)c.parentNode.removeChild(c.previousSibling);for(;c.nextSibling;)c.parentNode.removeChild(c.nextSibling);c.pmViewDesc&&(c.pmViewDesc=null)}var u=new nW(this,c,s,l);i.compositionNodes.push(u),this.children=Ay(this.children,a,a+l.length,i,u)}},e.prototype.update=function(i,o,s,a){return!(3==this.dirty||!i.sameMarkup(this.node)||(this.updateInner(i,o,s,a),0))},e.prototype.updateInner=function(i,o,s,a){this.updateOuterDeco(o),this.node=i,this.innerDeco=s,this.contentDOM&&this.updateChildren(a,this.posAtStart),this.dirty=0},e.prototype.updateOuterDeco=function(i){if(!xy(i,this.outerDeco)){var o=1!=this.nodeDOM.nodeType,s=this.dom;this.dom=fx(this.dom,this.nodeDOM,Ty(this.outerDeco,this.node,o),Ty(i,this.node,o)),this.dom!=s&&(s.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=i}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")},t.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(e.prototype,t),e}(Ge);function lx(n,e,t,r,i){return hx(r,e,n),new Lc(null,n,e,t,r,r,r,i,0)}var cx=function(n){function e(r,i,o,s,a,l,c){n.call(this,r,i,o,s,a,null,l,c)}n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e;var t={domAtom:{configurable:!0}};return e.prototype.parseRule=function(){for(var i=this.nodeDOM.parentNode;i&&i!=this.dom&&!i.pmIsDeco;)i=i.parentNode;return{skip:i||!0}},e.prototype.update=function(i,o,s,a){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!i.sameMarkup(this.node)||(this.updateOuterDeco(o),(0!=this.dirty||i.text!=this.node.text)&&i.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=i.text,a.trackWrites==this.nodeDOM&&(a.trackWrites=null)),this.node=i,this.dirty=0,0))},e.prototype.inParent=function(){for(var i=this.parent.contentDOM,o=this.nodeDOM;o;o=o.parentNode)if(o==i)return!0;return!1},e.prototype.domFromPos=function(i){return{node:this.nodeDOM,offset:i}},e.prototype.localPosFromDOM=function(i,o,s){return i==this.nodeDOM?this.posAtStart+Math.min(o,this.node.text.length):n.prototype.localPosFromDOM.call(this,i,o,s)},e.prototype.ignoreMutation=function(i){return"characterData"!=i.type&&"selection"!=i.type},e.prototype.slice=function(i,o,s){var a=this.node.cut(i,o),l=document.createTextNode(a.text);return new e(this.parent,a,this.outerDeco,this.innerDeco,l,l,s)},e.prototype.markDirty=function(i,o){n.prototype.markDirty.call(this,i,o),this.dom!=this.nodeDOM&&(0==i||o==this.nodeDOM.nodeValue.length)&&(this.dirty=3)},t.domAtom.get=function(){return!1},Object.defineProperties(e.prototype,t),e}(Lc),ux=function(n){function e(){n.apply(this,arguments)}n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e;var t={domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};return e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(i){return 0==this.dirty&&this.dom.nodeName==i},t.domAtom.get=function(){return!0},t.ignoreForCoords.get=function(){return"IMG"==this.dom.nodeName},Object.defineProperties(e.prototype,t),e}(Ge),rW=function(n){function e(t,r,i,o,s,a,l,c,u,d){n.call(this,t,r,i,o,s,a,l,u,d),this.spec=c}return n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e,e.prototype.update=function(r,i,o,s){if(3==this.dirty)return!1;if(this.spec.update){var a=this.spec.update(r,i,o);return a&&this.updateInner(r,i,o,s),a}return!(!this.contentDOM&&!r.isLeaf)&&n.prototype.update.call(this,r,i,o,s)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():n.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():n.prototype.deselectNode.call(this)},e.prototype.setSelection=function(r,i,o,s){this.spec.setSelection?this.spec.setSelection(r,i,o):n.prototype.setSelection.call(this,r,i,o,s)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),n.prototype.destroy.call(this)},e.prototype.stopEvent=function(r){return!!this.spec.stopEvent&&this.spec.stopEvent(r)},e.prototype.ignoreMutation=function(r){return this.spec.ignoreMutation?this.spec.ignoreMutation(r):n.prototype.ignoreMutation.call(this,r)},e}(Lc);function dx(n,e,t){for(var r=n.firstChild,i=!1,o=0;o<e.length;o++){var s=e[o],a=s.dom;if(a.parentNode==n){for(;a!=r;)r=px(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(a,r);if(s instanceof Rf){var l=r?r.previousSibling:n.lastChild;dx(s.contentDOM,s.children,t),r=l?l.nextSibling:n.firstChild}}for(;r;)r=px(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}function Bc(n){n&&(this.nodeName=n)}Bc.prototype=Object.create(null);var us=[new Bc];function Ty(n,e,t){if(0==n.length)return us;for(var r=t?us[0]:new Bc,i=[r],o=0;o<n.length;o++){var s=n[o].type.attrs;if(s)for(var a in s.nodeName&&i.push(r=new Bc(s.nodeName)),s){var l=s[a];null!=l&&(t&&1==i.length&&i.push(r=new Bc(e.isInline?"span":"div")),"class"==a?r.class=(r.class?r.class+" ":"")+l:"style"==a?r.style=(r.style?r.style+";":"")+l:"nodeName"!=a&&(r[a]=l))}}return i}function fx(n,e,t,r){if(t==us&&r==us)return e;for(var i=e,o=0;o<r.length;o++){var s=r[o],a=t[o];if(o){var l=void 0;a&&a.nodeName==s.nodeName&&i!=n&&(l=i.parentNode)&&l.tagName.toLowerCase()==s.nodeName||((l=document.createElement(s.nodeName)).pmIsDeco=!0,l.appendChild(i),a=us[0]),i=l}iW(i,a||us[0],s)}return i}function iW(n,e,t){for(var r in e)"class"!=r&&"style"!=r&&"nodeName"!=r&&!(r in t)&&n.removeAttribute(r);for(var i in t)"class"!=i&&"style"!=i&&"nodeName"!=i&&t[i]!=e[i]&&n.setAttribute(i,t[i]);if(e.class!=t.class){for(var o=e.class?e.class.split(" ").filter(Boolean):So,s=t.class?t.class.split(" ").filter(Boolean):So,a=0;a<o.length;a++)-1==s.indexOf(o[a])&&n.classList.remove(o[a]);for(var l=0;l<s.length;l++)-1==o.indexOf(s[l])&&n.classList.add(s[l]);0==n.classList.length&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style)for(var u,c=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;u=c.exec(e.style);)n.style.removeProperty(u[1]);t.style&&(n.style.cssText+=t.style)}}function hx(n,e,t){return fx(n,n,us,Ty(e,t,1!=n.nodeType))}function xy(n,e){if(n.length!=e.length)return!1;for(var t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function px(n){var e=n.nextSibling;return n.parentNode.removeChild(n),e}var fr=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1,this.preMatch=function oW(n,e){var t=e,r=t.children.length,i=n.childCount,o=new Map,s=[];e:for(;i>0;){for(var a=void 0;;)if(r){var l=t.children[r-1];if(!(l instanceof Rf)){a=l,r--;break}t=l,r=l.children.length}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}var c=a.node;if(c){if(c!=n.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}(e.node.content,e)};function sW(n,e){return n.type.side-e.type.side}function Ay(n,e,t,r,i){for(var o=[],s=0,a=0;s<n.length;s++){var l=n[s],c=a,u=a+=l.size;c>=t||u<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,r)),i&&(o.push(i),i=null),u>t&&o.push(l.slice(t-c,l.size,r)))}return o}function gx(n,e){var t=n.root.getSelection(),r=n.state.doc;if(!t.focusNode)return null;var i=n.docView.nearestDesc(t.focusNode),o=i&&0==i.size,s=n.docView.posFromDOM(t.focusNode,t.focusOffset);if(s<0)return null;var l,c,a=r.resolve(s);if(Sy(t)){for(l=a;i&&!i.node;)i=i.parent;if(i&&i.node.isAtom&&ne.isSelectable(i.node)&&i.parent&&(!i.node.isInline||!function j8(n,e,t){for(var r=0==e,i=e==ui(n);r||i;){if(n==t)return!0;var o=Yn(n);if(!(n=n.parentNode))return!1;r=r&&0==o,i=i&&o==ui(n)}}(t.focusNode,t.focusOffset,i.dom))){var u=i.posBefore;c=new ne(s==u?a:r.resolve(u))}}else{var d=n.docView.posFromDOM(t.anchorNode,t.anchorOffset);if(d<0)return null;l=r.resolve(d)}return c||(c=ky(n,l,a,"pointer"==e||n.state.selection.head<a.pos&&!o?1:-1)),c}function mx(n){return n.editable?n.hasFocus():Ex(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Mo(n,e){var t=n.state.selection;if(bx(n,t),mx(n)){if(!e&&n.mouseDown&&n.mouseDown.allowDefault&&x.chrome){var r=n.root.getSelection(),i=n.domObserver.currentSelection;if(r.anchorNode&&Rc(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset))return n.mouseDown.delayedSelectionSync=!0,void n.domObserver.setCurSelection()}if(n.domObserver.disconnectSelection(),n.cursorWrapper)!function fW(n){var e=n.root.getSelection(),t=document.createRange(),r=n.cursorWrapper.dom,i="IMG"==r.nodeName;i?t.setEnd(r.parentNode,Yn(r)+1):t.setEnd(r,0),t.collapse(!1),e.removeAllRanges(),e.addRange(t),!i&&!n.state.selection.visible&&x.ie&&x.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}(n);else{var a,l,o=t.anchor,s=t.head;vx&&!(t instanceof ye)&&(t.$from.parent.inlineContent||(a=yx(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(l=yx(n,t.to))),n.docView.setSelection(o,s,n.root,e),vx&&(a&&_x(a),l&&_x(l)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function dW(n){var e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.hideSelectionGuard);var t=n.root.getSelection(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.hideSelectionGuard=function(){(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.hideSelectionGuard),setTimeout(function(){(!mx(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}fr.prototype.destroyBetween=function(e,t){if(e!=t){for(var r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}},fr.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},fr.prototype.syncToMarks=function(e,t,r){for(var i=0,o=this.stack.length>>1,s=Math.min(o,e.length);i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&!1!==e[i].type.spec.spanning;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);for(var a=-1,l=this.index;l<Math.min(this.index+3,this.top.children.length);l++)if(this.top.children[l].matchesMark(e[o])){a=l;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var c=Rf.create(this.top,e[o],t,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,o++}},fr.prototype.findNodeMatch=function(e,t,r,i){var s,o=-1;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,t,r))o=this.top.children.indexOf(s,this.index);else for(var a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){var c=this.top.children[a];if(c.matchesNode(e,t,r)&&!this.preMatch.matched.has(c)){o=a;break}}return!(o<0||(this.destroyBetween(this.index,o),this.index++,0))},fr.prototype.updateNodeAt=function(e,t,r,i,o){return!!this.top.children[i].update(e,t,r,o)&&(this.destroyBetween(this.index,i),this.index=i+1,!0)},fr.prototype.findIndexWithChild=function(e){for(;;){var t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){var r=e.pmViewDesc;if(r)for(var i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i;return-1}e=t}},fr.prototype.updateNextNode=function(e,t,r,i,o){for(var s=this.index;s<this.top.children.length;s++){var a=this.top.children[s];if(a instanceof Lc){var l=this.preMatch.matched.get(a);if(null!=l&&l!=o)return!1;var c=a.dom;if((!this.lock||!(c==this.lock||1==c.nodeType&&c.contains(this.lock.parentNode))||e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&3!=a.dirty&&xy(t,a.outerDeco))&&a.update(e,t,r,i))return this.destroyBetween(this.index,s),a.dom!=c&&(this.changed=!0),this.index++,!0;break}}return!1},fr.prototype.addNode=function(e,t,r,i,o){this.top.children.splice(this.index++,0,Lc.create(this.top,e,t,r,i,o)),this.changed=!0},fr.prototype.placeWidget=function(e,t,r){var i=this.index<this.top.children.length?this.top.children[this.index]:null;if(!i||!i.matchesWidget(e)||e!=i.widget&&i.widget.type.toDOM.parentNode){var o=new ax(this.top,e,t,r);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++},fr.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1],t=this.top;e instanceof Rf;)e=(t=e).children[t.children.length-1];(!e||!(e instanceof cx)||/\n$/.test(e.node.text))&&((x.safari||x.chrome)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))},fr.prototype.addHackNode=function(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{var r=document.createElement(e);"IMG"==e&&(r.className="ProseMirror-separator",r.alt=""),"BR"==e&&(r.className="ProseMirror-trailingBreak");var i=new ux(this.top,So,r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}};var vx=x.safari||x.chrome&&x.chrome_version<63;function yx(n,e){var t=n.docView.domFromPos(e,0),r=t.node,i=t.offset,o=i<r.childNodes.length?r.childNodes[i]:null,s=i?r.childNodes[i-1]:null;if(x.safari&&o&&"false"==o.contentEditable)return Oy(o);if(!(o&&"false"!=o.contentEditable||s&&"false"!=s.contentEditable)){if(o)return Oy(o);if(s)return Oy(s)}}function Oy(n){return n.contentEditable="true",x.safari&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function _x(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function bx(n,e){if(e instanceof ne){var t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(Cx(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else Cx(n)}function Cx(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=null)}function ky(n,e,t,r){return n.someProp("createSelectionBetween",function(i){return i(n,e,t)})||ye.between(e,t,r)}function Dx(n){return(!n.editable||n.root.activeElement==n.dom)&&Ex(n)}function Ex(n){var e=n.root.getSelection();if(!e.anchorNode)return!1;try{return n.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(t){return!1}}function Ny(n,e){var t=n.selection,r=t.$anchor,i=t.$head,o=e>0?r.max(i):r.min(i),s=o.parent.inlineContent?o.depth?n.doc.resolve(e>0?o.after():o.before()):null:o;return s&&ue.findFrom(s,e)}function ds(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function wx(n,e,t){var r=n.state.selection;if(!(r instanceof ye)){if(r instanceof ne&&r.node.isInline)return ds(n,new ye(e>0?r.$to:r.$from));var c=Ny(n.state,e);return!!c&&ds(n,c)}if(!r.empty||t.indexOf("s")>-1)return!1;if(n.endOfTextblock(e>0?"right":"left")){var i=Ny(n.state,e);return!!(i&&i instanceof ne)&&ds(n,i)}if(!(x.mac&&t.indexOf("m")>-1)){var a,o=r.$head,s=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!s||s.isText)return!1;var l=e<0?o.pos-s.nodeSize:o.pos;return!!(s.isAtom||(a=n.docView.descAt(l))&&!a.contentDOM)&&(ne.isSelectable(s)?ds(n,new ne(e<0?n.state.doc.resolve(o.pos-s.nodeSize):o)):!!x.webkit&&ds(n,new ye(n.state.doc.resolve(e<0?l:l+s.nodeSize))))}}function Pf(n){return 3==n.nodeType?n.nodeValue.length:n.childNodes.length}function jc(n){var e=n.pmViewDesc;return e&&0==e.size&&(n.nextSibling||"BR"!=n.nodeName)}function Ry(n){var e=n.root.getSelection(),t=e.focusNode,r=e.focusOffset;if(t){var i,o,s=!1;for(x.gecko&&1==t.nodeType&&r<Pf(t)&&jc(t.childNodes[r])&&(s=!0);;)if(r>0){if(1!=t.nodeType)break;var a=t.childNodes[r-1];if(jc(a))i=t,o=--r;else{if(3!=a.nodeType)break;r=(t=a).nodeValue.length}}else{if(Sx(t))break;for(var l=t.previousSibling;l&&jc(l);)i=t.parentNode,o=Yn(l),l=l.previousSibling;if(l)r=Pf(t=l);else{if((t=t.parentNode)==n.dom)break;r=0}}s?Fy(n,e,t,r):i&&Fy(n,e,i,o)}}function Py(n){var e=n.root.getSelection(),t=e.focusNode,r=e.focusOffset;if(t){for(var o,s,i=Pf(t);;)if(r<i){if(1!=t.nodeType)break;if(!jc(t.childNodes[r]))break;o=t,s=++r}else{if(Sx(t))break;for(var l=t.nextSibling;l&&jc(l);)o=l.parentNode,s=Yn(l)+1,l=l.nextSibling;if(l)r=0,i=Pf(t=l);else{if((t=t.parentNode)==n.dom)break;r=i=0}}o&&Fy(n,e,o,s)}}function Sx(n){var e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function Fy(n,e,t,r){if(Sy(e)){var i=document.createRange();i.setEnd(t,r),i.setStart(t,r),e.removeAllRanges(),e.addRange(i)}else e.extend&&e.extend(t,r);n.domObserver.setCurSelection();var o=n.state;setTimeout(function(){n.state==o&&Mo(n)},50)}function Mx(n,e,t){var r=n.state.selection;if(r instanceof ye&&!r.empty||t.indexOf("s")>-1||x.mac&&t.indexOf("m")>-1)return!1;var i=r.$from,o=r.$to;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){var s=Ny(n.state,e);if(s&&s instanceof ne)return ds(n,s)}if(!i.parent.inlineContent){var a=e<0?i:o,l=r instanceof Hi?ue.near(a,e):ue.findFrom(a,e);return!!l&&ds(n,l)}return!1}function Ix(n,e){if(!(n.state.selection instanceof ye))return!0;var t=n.state.selection,r=t.$head,o=t.empty;if(!r.sameParent(t.$anchor))return!0;if(!o)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;var s=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){var a=n.state.tr;return e<0?a.delete(r.pos-s.nodeSize,r.pos):a.delete(r.pos,r.pos+s.nodeSize),n.dispatch(a),!0}return!1}function Tx(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function yW(n){var e=n.pmViewDesc;if(e)return e.parseRule();if("BR"==n.nodeName&&n.parentNode){if(x.safari&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){var t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}if(n.parentNode.lastChild==n||x.safari&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if("IMG"==n.nodeName&&n.getAttribute("mark-placeholder"))return{ignore:!0}}function xx(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:ky(n,e.resolve(t.anchor),e.resolve(t.head))}function Ly(n,e,t){for(var r=n.depth,i=e?n.end():n.pos;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t)for(var o=n.node(r).maybeChild(n.indexAfter(r));o&&!o.isLeaf;)o=o.firstChild,i++;return i}function Ax(n,e){for(var t=[],r=e.content,i=e.openStart,o=e.openEnd;i>1&&o>1&&1==r.childCount&&1==r.firstChild.childCount;){i--,o--;var s=r.firstChild;t.push(s.type.name,s.attrs!=s.type.defaultAttrs?s.attrs:null),r=s.content}var a=n.someProp("clipboardSerializer")||Gt.fromSchema(n.state.schema),l=Bx(),c=l.createElement("div");c.appendChild(a.serializeFragment(r,{document:l}));for(var d,u=c.firstChild;u&&1==u.nodeType&&(d=Fx[u.nodeName.toLowerCase()]);){for(var f=d.length-1;f>=0;f--){for(var h=l.createElement(d[f]);c.firstChild;)h.appendChild(c.firstChild);c.appendChild(h),"tbody"!=d[f]&&(i++,o++)}u=c.firstChild}return u&&1==u.nodeType&&u.setAttribute("data-pm-slice",i+" "+o+" "+JSON.stringify(t)),{dom:c,text:n.someProp("clipboardTextSerializer",function(g){return g(e)})||e.content.textBetween(0,e.content.size,"\n\n")}}function Ox(n,e,t,r,i){var o,a,s=i.parent.type.spec.code;if(!t&&!e)return null;var l=e&&(r||s||!t);if(l){if(n.someProp("transformPastedText",function(C){e=C(e,s||r)}),s)return e?new F(M.from(n.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0):F.empty;var c=n.someProp("clipboardTextParser",function(C){return C(e,i,r)});if(c)a=c;else{var u=i.marks(),f=n.state.schema,h=Gt.fromSchema(f);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(function(C){var D=o.appendChild(document.createElement("p"));C&&D.appendChild(h.serializeNode(f.text(C,u)))})}}else n.someProp("transformPastedHTML",function(C){t=C(t)}),o=function SW(n){var e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));var i,t=Bx().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n);if((i=r&&Fx[r[1].toLowerCase()])&&(n=i.map(function(s){return"<"+s+">"}).join("")+n+i.map(function(s){return"</"+s+">"}).reverse().join("")),t.innerHTML=n,i)for(var o=0;o<i.length;o++)t=t.querySelector(i[o])||t;return t}(t),x.webkit&&function MW(n){for(var e=n.querySelectorAll(x.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),t=0;t<e.length;t++){var r=e[t];1==r.childNodes.length&&"\xa0"==r.textContent&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}(o);var p=o&&o.querySelector("[data-pm-slice]"),g=p&&/^(\d+) (\d+) (.*)/.exec(p.getAttribute("data-pm-slice"));if(!a){var m=n.someProp("clipboardParser")||n.someProp("domParser")||Lr.fromSchema(n.state.schema);a=m.parseSlice(o,{preserveWhitespace:!(!l&&!g),context:i,ruleFromNode:function(D){if("BR"==D.nodeName&&!D.nextSibling&&D.parentNode&&!EW.test(D.parentNode.nodeName))return{ignore:!0}}})}if(g)a=function IW(n,e){if(!n.size)return n;var r,t=n.content.firstChild.type.schema;try{r=JSON.parse(e)}catch(c){return n}for(var i=n.content,o=n.openStart,s=n.openEnd,a=r.length-2;a>=0;a-=2){var l=t.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=M.from(l.create(r[a+1],i)),o++,s++}return new F(i,o,s)}(Px(a,+g[1],+g[2]),g[3]);else if(a=F.maxOpen(function wW(n,e){if(n.childCount<2)return n;for(var t=function(o){var a=e.node(o).contentMatchAt(e.index(o)),l=void 0,c=[];if(n.forEach(function(u){if(c){var f,d=a.findWrapping(u.type);if(!d)return c=null;if(f=c.length&&l.length&&Nx(d,l,u,c[c.length-1],0))c[c.length-1]=f;else{c.length&&(c[c.length-1]=Rx(c[c.length-1],l.length));var h=kx(u,d);c.push(h),a=a.matchType(h.type,h.attrs),l=d}}}),c)return{v:M.from(c)}},r=e.depth;r>=0;r--){var i=t(r);if(i)return i.v}return n}(a.content,i),!0),a.openStart||a.openEnd){for(var y=0,v=0,b=a.content.firstChild;y<a.openStart&&!b.type.spec.isolating;y++,b=b.firstChild);for(var _=a.content.lastChild;v<a.openEnd&&!_.type.spec.isolating;v++,_=_.lastChild);a=Px(a,y,v)}return n.someProp("transformPasted",function(C){a=C(a)}),a}var EW=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function kx(n,e,t){void 0===t&&(t=0);for(var r=e.length-1;r>=t;r--)n=e[r].create(null,M.from(n));return n}function Nx(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){var o=Nx(n,e,t,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(M.from(kx(t,n,i+1))))}}function Rx(n,e){if(0==e)return n;var t=n.content.replaceChild(n.childCount-1,Rx(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(M.empty,!0);return n.copy(t.append(r))}function By(n,e,t,r,i,o){var s=e<0?n.firstChild:n.lastChild,a=s.content;return i<r-1&&(a=By(a,e,t,r,i+1,o)),i>=t&&(a=e<0?s.contentMatchAt(0).fillBefore(a,n.childCount>1||o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(M.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,s.copy(a))}function Px(n,e,t){return e<n.openStart&&(n=new F(By(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new F(By(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}var Fx={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Lx=null;function Bx(){return Lx||(Lx=document.implementation.createHTMLDocument("title"))}var TW={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},jy=x.ie&&x.ie_version<=11,Vy=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Vy.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},Vy.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var Qn=function(e,t){var r=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver(function(i){for(var o=0;o<i.length;o++)r.queue.push(i[o]);x.ie&&x.ie_version<=11&&i.some(function(s){return"childList"==s.type&&s.removedNodes.length||"characterData"==s.type&&s.oldValue.length>s.target.nodeValue.length})?r.flushSoon():r.flush()}),this.currentSelection=new Vy,jy&&(this.onCharData=function(i){r.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),r.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Qn.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(function(){e.flushingSoon=-1,e.flush()},20))},Qn.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},Qn.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,TW),jy&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},Qn.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var r=0;r<t.length;r++)this.queue.push(t[r]);window.setTimeout(function(){return e.flush()},20)}this.observer.disconnect()}jy&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},Qn.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},Qn.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},Qn.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return e.suppressingSelectionUpdates=!1},50)},Qn.prototype.onSelectionChange=function(){if(Dx(this.view)){if(this.suppressingSelectionUpdates)return Mo(this.view);if(x.ie&&x.ie_version<=11&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&Rc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}},Qn.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Qn.prototype.ignoreSelectionChange=function(e){if(0==e.rangeCount)return!0;var t=e.getRangeAt(0).commonAncestorContainer,r=this.view.docView.nearestDesc(t);return r&&r.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0},Qn.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&Dx(this.view)&&!this.ignoreSelectionChange(t),i=-1,o=-1,s=!1,a=[];if(this.view.editable)for(var l=0;l<e.length;l++){var c=this.registerMutation(e[l],a);c&&(i=i<0?c.from:Math.min(c.from,i),o=o<0?c.to:Math.max(c.to,o),c.typeOver&&(s=!0))}if(x.gecko&&a.length>1){var u=a.filter(function(h){return"BR"==h.nodeName});if(2==u.length){var d=u[0],f=u[1];d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}}(i>-1||r)&&(i>-1&&(this.view.docView.markDirty(i,o),function xW(n){jx||(jx=!0,"normal"==getComputedStyle(n.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}(this.view)),this.handleDOMChange(i,o,s,a),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||Mo(this.view),this.currentSelection.set(t))}},Qn.prototype.registerMutation=function(e,t){if(t.indexOf(e.target)>-1)return null;var r=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(r==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if("childList"==e.type){for(var i=0;i<e.addedNodes.length;i++)t.push(e.addedNodes[i]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};var o=e.previousSibling,s=e.nextSibling;if(x.ie&&x.ie_version<=11&&e.addedNodes.length)for(var a=0;a<e.addedNodes.length;a++){var l=e.addedNodes[a],c=l.previousSibling,u=l.nextSibling;(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(o=c),(!u||Array.prototype.indexOf.call(e.addedNodes,u)<0)&&(s=u)}var d=o&&o.parentNode==e.target?Yn(o)+1:0,f=r.localPosFromDOM(e.target,d,-1),h=s&&s.parentNode==e.target?Yn(s):e.target.childNodes.length;return{from:f,to:r.localPosFromDOM(e.target,h,1)}}return"attributes"==e.type?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var jx=!1,Rn={},Mn={};function fs(n,e){n.lastSelectionOrigin=e,n.lastSelectionTime=Date.now()}function Hy(n){n.someProp("handleDOMEvents",function(e){for(var t in e)n.eventHandlers[t]||n.dom.addEventListener(t,n.eventHandlers[t]=function(r){return Uy(n,r)})})}function Uy(n,e){return n.someProp("handleDOMEvents",function(t){var r=t[e.type];return!!r&&(r(n,e)||e.defaultPrevented)})}function Ff(n){return{left:n.clientX,top:n.clientY}}function zy(n,e,t,r,i){if(-1==r)return!1;for(var o=n.state.doc.resolve(r),s=function(c){if(n.someProp(e,function(u){return c>o.depth?u(n,t,o.nodeAfter,o.before(c),i,!0):u(n,t,o.node(c),o.before(c),i,!1)}))return{v:!0}},a=o.depth+1;a>0;a--){var l=s(a);if(l)return l.v}return!1}function ja(n,e,t){n.focused||n.focus();var r=n.state.tr.setSelection(e);"pointer"==t&&r.setMeta("pointer",!0),n.dispatch(r)}function BW(n,e,t,r){return zy(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",function(i){return i(n,e,r)})}function jW(n,e,t,r){return zy(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",function(i){return i(n,e,r)})||function VW(n,e,t){if(0!=t.button)return!1;var r=n.state.doc;if(-1==e)return!!r.inlineContent&&(ja(n,ye.create(r,0,r.content.size),"pointer"),!0);for(var i=r.resolve(e),o=i.depth+1;o>0;o--){var s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)ja(n,ye.create(r,a+1,a+1+s.content.size),"pointer");else{if(!ne.isSelectable(s))continue;ja(n,ne.create(r,a),"pointer")}return!0}}(n,t,r)}function Wy(n){return Bf(n)}Mn.keydown=function(n,e){if(n.shiftKey=16==e.keyCode||e.shiftKey,!Hx(n,e)&&(n.lastKeyCode=e.keyCode,n.lastKeyCodeTime=Date.now(),!x.android||!x.chrome||13!=e.keyCode))if(229!=e.keyCode&&n.domObserver.forceFlush(),!x.ios||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey)n.someProp("handleKeyDown",function(r){return r(n,e)})||function mW(n,e){var t=e.keyCode,r=function gW(n){var e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}(e);return 8==t||x.mac&&72==t&&"c"==r?Ix(n,-1)||Ry(n):46==t||x.mac&&68==t&&"c"==r?Ix(n,1)||Py(n):13==t||27==t||(37==t?wx(n,-1,r)||Ry(n):39==t?wx(n,1,r)||Py(n):38==t?Mx(n,-1,r)||Ry(n):40==t?function pW(n){if(x.safari&&!(n.state.selection.$head.parentOffset>0)){var e=n.root.getSelection(),t=e.focusNode;if(t&&1==t.nodeType&&0==e.focusOffset&&t.firstChild&&"false"==t.firstChild.contentEditable){var i=t.firstChild;Tx(n,i,!0),setTimeout(function(){return Tx(n,i,!1)},20)}}}(n)||Mx(n,1,r)||Py(n):r==(x.mac?"m":"c")&&(66==t||73==t||89==t||90==t))}(n,e)?e.preventDefault():fs(n,"key");else{var t=Date.now();n.lastIOSEnter=t,n.lastIOSEnterFallbackTimeout=setTimeout(function(){n.lastIOSEnter==t&&(n.someProp("handleKeyDown",function(r){return r(n,La(13,"Enter"))}),n.lastIOSEnter=0)},200)}},Mn.keyup=function(n,e){16==e.keyCode&&(n.shiftKey=!1)},Mn.keypress=function(n,e){if(!(Hx(n,e)||!e.charCode||e.ctrlKey&&!e.altKey||x.mac&&e.metaKey)){if(n.someProp("handleKeyPress",function(i){return i(n,e)}))return void e.preventDefault();var t=n.state.selection;if(!(t instanceof ye&&t.$from.sameParent(t.$to))){var r=String.fromCharCode(e.charCode);n.someProp("handleTextInput",function(i){return i(n,t.$from.pos,t.$to.pos,r)})||n.dispatch(n.state.tr.insertText(r).scrollIntoView()),e.preventDefault()}}};var Vx=x.mac?"metaKey":"ctrlKey";Rn.mousedown=function(n,e){n.shiftKey=e.shiftKey;var t=Wy(n),r=Date.now(),i="singleClick";r-n.lastClick.time<500&&function RW(n,e){var t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}(e,n.lastClick)&&!e[Vx]&&("singleClick"==n.lastClick.type?i="doubleClick":"doubleClick"==n.lastClick.type&&(i="tripleClick")),n.lastClick={time:r,x:e.clientX,y:e.clientY,type:i};var o=n.posAtCoords(Ff(e));!o||("singleClick"==i?(n.mouseDown&&n.mouseDown.done(),n.mouseDown=new Lf(n,o,e,t)):("doubleClick"==i?BW:jW)(n,o.pos,o.inside,e)?e.preventDefault():fs(n,"pointer"))};var Lf=function(e,t,r,i){var s,a,o=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=r,this.flushed=i,this.selectNode=r[Vx],this.allowDefault=r.shiftKey,this.delayedSelectionSync=!1,t.inside>-1)s=e.state.doc.nodeAt(t.inside),a=t.inside;else{var l=e.state.doc.resolve(t.pos);s=l.parent,a=l.depth?l.before():0}this.mightDrag=null;var c=i?null:r.target,u=c?e.docView.nearestDesc(c,!0):null;this.target=u?u.dom:null;var f=e.state.selection;(0==r.button&&s.type.spec.draggable&&!1!==s.type.spec.selectable||f instanceof ne&&f.from<=a&&f.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&x.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){o.view.mouseDown==o&&o.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),fs(e,"pointer")};function Hx(n,e){return!!n.composing||!!(x.safari&&Math.abs(e.timeStamp-n.compositionEndedAt)<500)&&(n.compositionEndedAt=-2e8,!0)}Lf.prototype.done=function(){var e=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(function(){return Mo(e.view)}),this.view.mouseDown=null},Lf.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Ff(e))),this.allowDefault||!t?fs(this.view,"pointer"):function LW(n,e,t,r,i){return zy(n,"handleClickOn",e,t,r)||n.someProp("handleClick",function(o){return o(n,e,r)})||(i?function FW(n,e){if(-1==e)return!1;var r,i,t=n.state.selection;t instanceof ne&&(r=t.node);for(var o=n.state.doc.resolve(e),s=o.depth+1;s>0;s--){var a=s>o.depth?o.nodeAfter:o.node(s);if(ne.isSelectable(a)){i=r&&t.$from.depth>0&&s>=t.$from.depth&&o.before(t.$from.depth+1)==t.$from.pos?o.before(t.$from.depth):o.before(s);break}}return null!=i&&(ja(n,ne.create(n.state.doc,i),"pointer"),!0)}(n,t):function PW(n,e){if(-1==e)return!1;var t=n.state.doc.resolve(e),r=t.nodeAfter;return!!(r&&r.isAtom&&ne.isSelectable(r))&&(ja(n,new ne(t),"pointer"),!0)}(n,t))}(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||x.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||x.chrome&&!(this.view.state.selection instanceof ye)&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(ja(this.view,ue.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):fs(this.view,"pointer")}},Lf.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),fs(this.view,"pointer"),0==e.buttons&&this.done()},Rn.touchdown=function(n){Wy(n),fs(n,"pointer")},Rn.contextmenu=function(n){return Wy(n)};var HW=x.android?5e3:-1;function Ux(n,e){clearTimeout(n.composingTimeout),e>-1&&(n.composingTimeout=setTimeout(function(){return Bf(n)},e))}function zx(n){for(n.composing&&(n.composing=!1,n.compositionEndedAt=function UW(){var n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}());n.compositionNodes.length>0;)n.compositionNodes.pop().markParentsDirty()}function Bf(n,e){if(!(x.android&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),zx(n),e||n.docView&&n.docView.dirty){var t=gx(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):n.updateState(n.state),!0}return!1}}Mn.compositionstart=Mn.compositionupdate=function(n){if(!n.composing){n.domObserver.flush();var e=n.state,t=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(function(a){return!1===a.type.spec.inclusive})))n.markCursor=n.state.storedMarks||t.marks(),Bf(n,!0),n.markCursor=null;else if(Bf(n),x.gecko&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length)for(var r=n.root.getSelection(),i=r.focusNode,o=r.focusOffset;i&&1==i.nodeType&&0!=o;){var s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(3==s.nodeType){r.collapse(s,s.nodeValue.length);break}i=s,o=-1}n.composing=!0}Ux(n,HW)},Mn.compositionend=function(n,e){n.composing&&(n.composing=!1,n.compositionEndedAt=e.timeStamp,Ux(n,20))};var Va=x.ie&&x.ie_version<15||x.ios&&x.webkit_version<604;function $y(n,e,t,r){var i=Ox(n,e,t,n.shiftKey,n.state.selection.$from);if(n.someProp("handlePaste",function(a){return a(n,r,i||F.empty)}))return!0;if(!i)return!1;var o=function WW(n){return 0==n.openStart&&0==n.openEnd&&1==n.content.childCount?n.content.firstChild:null}(i),s=o?n.state.tr.replaceSelectionWith(o,n.shiftKey):n.state.tr.replaceSelection(i);return n.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Rn.copy=Mn.cut=function(n,e){var t=n.state.selection,r="cut"==e.type;if(!t.empty){var i=Va?null:e.clipboardData,s=Ax(n,t.content()),a=s.dom,l=s.text;i?(e.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):function zW(n,e){if(n.dom.parentNode){var t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(function(){t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}}(n,a),r&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},Mn.paste=function(n,e){if(!n.composing||x.android){var t=Va?null:e.clipboardData;t&&$y(n,t.getData("text/plain"),t.getData("text/html"),e)?e.preventDefault():function $W(n,e){if(n.dom.parentNode){var t=n.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(function(){n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?$y(n,r.value,null,e):$y(n,r.textContent,r.innerHTML,e)},50)}}(n,e)}};var GW=function(e,t){this.slice=e,this.move=t},Wx=x.mac?"altKey":"ctrlKey";for(var $x in Rn.dragstart=function(n,e){var t=n.mouseDown;if(t&&t.done(),e.dataTransfer){var r=n.state.selection,i=r.empty?null:n.posAtCoords(Ff(e));if(!(i&&i.pos>=r.from&&i.pos<=(r instanceof ne?r.to-1:r.to)))if(t&&t.mightDrag)n.dispatch(n.state.tr.setSelection(ne.create(n.state.doc,t.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){var o=n.docView.nearestDesc(e.target,!0);o&&o.node.type.spec.draggable&&o!=n.docView&&n.dispatch(n.state.tr.setSelection(ne.create(n.state.doc,o.posBefore)))}var s=n.state.selection.content(),a=Ax(n,s),l=a.dom,c=a.text;e.dataTransfer.clearData(),e.dataTransfer.setData(Va?"Text":"text/html",l.innerHTML),e.dataTransfer.effectAllowed="copyMove",Va||e.dataTransfer.setData("text/plain",c),n.dragging=new GW(s,!e[Wx])}},Rn.dragend=function(n){var e=n.dragging;window.setTimeout(function(){n.dragging==e&&(n.dragging=null)},50)},Mn.dragover=Mn.dragenter=function(n,e){return e.preventDefault()},Mn.drop=function(n,e){var t=n.dragging;if(n.dragging=null,e.dataTransfer){var r=n.posAtCoords(Ff(e));if(r){var i=n.state.doc.resolve(r.pos);if(i){var o=t&&t.slice;o?n.someProp("transformPasted",function(p){o=p(o)}):o=Ox(n,e.dataTransfer.getData(Va?"Text":"text/plain"),Va?null:e.dataTransfer.getData("text/html"),!1,i);var s=t&&!e[Wx];if(n.someProp("handleDrop",function(p){return p(n,e,o||F.empty,s)}))return void e.preventDefault();if(o){e.preventDefault();var a=o?vT(n.state.doc,i.pos,o):i.pos;null==a&&(a=i.pos);var l=n.state.tr;s&&l.deleteSelection();var c=l.mapping.map(a),u=0==o.openStart&&0==o.openEnd&&1==o.content.childCount,d=l.doc;if(u?l.replaceRangeWith(c,c,o.content.firstChild):l.replaceRange(c,c,o),!l.doc.eq(d)){var f=l.doc.resolve(c);if(u&&ne.isSelectable(o.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(o.content.firstChild))l.setSelection(new ne(f));else{var h=l.mapping.map(a);l.mapping.maps[l.mapping.maps.length-1].forEach(function(p,g,m,y){return h=y}),l.setSelection(ky(n,f,l.doc.resolve(h)))}n.focus(),n.dispatch(l.setMeta("uiEvent","drop"))}}}}}},Rn.focus=function(n){n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(function(){n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.root.getSelection())&&Mo(n)},20))},Rn.blur=function(n,e){n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),e.relatedTarget&&n.dom.contains(e.relatedTarget)&&n.domObserver.currentSelection.set({}),n.focused=!1)},Rn.beforeinput=function(n,e){if(x.chrome&&x.android&&"deleteContentBackward"==e.inputType){n.domObserver.flushSoon();var t=n.domChangeCount;setTimeout(function(){if(n.domChangeCount==t&&(n.dom.blur(),n.focus(),!n.someProp("handleKeyDown",function(o){return o(n,La(8,"Backspace"))}))){var i=n.state.selection.$cursor;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())}},50)}},Mn)Rn[$x]=Mn[$x];function Vc(n,e){if(n==e)return!0;for(var t in n)if(n[t]!==e[t])return!1;for(var r in e)if(!(r in n))return!1;return!0}var Ha=function(e,t){this.spec=t||hs,this.side=this.spec.side||0,this.toDOM=e};Ha.prototype.map=function(e,t,r,i){var o=e.mapResult(t.from+i,this.side<0?-1:1),s=o.pos;return o.deleted?null:new Dt(s-r,s-r,this)},Ha.prototype.valid=function(){return!0},Ha.prototype.eq=function(e){return this==e||e instanceof Ha&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Vc(this.spec,e.spec))},Ha.prototype.destroy=function(e){this.spec.destroy&&this.spec.destroy(e)};var jr=function(e,t){this.spec=t||hs,this.attrs=e};jr.prototype.map=function(e,t,r,i){var o=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new Dt(o,s,this)},jr.prototype.valid=function(e,t){return t.from<t.to},jr.prototype.eq=function(e){return this==e||e instanceof jr&&Vc(this.attrs,e.attrs)&&Vc(this.spec,e.spec)},jr.is=function(e){return e.type instanceof jr};var Hc=function(e,t){this.spec=t||hs,this.attrs=e};Hc.prototype.map=function(e,t,r,i){var o=e.mapResult(t.from+i,1);if(o.deleted)return null;var s=e.mapResult(t.to+i,-1);return s.deleted||s.pos<=o.pos?null:new Dt(o.pos-r,s.pos-r,this)},Hc.prototype.valid=function(e,t){var s,r=e.content.findIndex(t.from),o=r.offset;return o==t.from&&!(s=e.child(r.index)).isText&&o+s.nodeSize==t.to},Hc.prototype.eq=function(e){return this==e||e instanceof Hc&&Vc(this.attrs,e.attrs)&&Vc(this.spec,e.spec)};var Dt=function(e,t,r){this.from=e,this.to=t,this.type=r},Gy={spec:{configurable:!0},inline:{configurable:!0}};Dt.prototype.copy=function(e,t){return new Dt(e,t,this.type)},Dt.prototype.eq=function(e,t){return void 0===t&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to},Dt.prototype.map=function(e,t,r){return this.type.map(e,this,t,r)},Dt.widget=function(e,t,r){return new Dt(e,e,new Ha(t,r))},Dt.inline=function(e,t,r,i){return new Dt(e,t,new jr(r,i))},Dt.node=function(e,t,r,i){return new Dt(e,t,new Hc(r,i))},Gy.spec.get=function(){return this.type.spec},Gy.inline.get=function(){return this.type instanceof jr},Object.defineProperties(Dt.prototype,Gy);var jf=[],hs={},Oe=function(e,t){this.local=e&&e.length?e:jf,this.children=t&&t.length?t:jf};Oe.create=function(e,t){return t.length?Vf(t,e,0,hs):Kt},Oe.prototype.find=function(e,t,r){var i=[];return this.findInner(null==e?0:e,null==t?1e9:t,i,0,r),i},Oe.prototype.findInner=function(e,t,r,i,o){for(var s=0;s<this.local.length;s++){var a=this.local[s];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(var l=0;l<this.children.length;l+=3)if(this.children[l]<t&&this.children[l+1]>e){var c=this.children[l]+1;this.children[l+2].findInner(e-c,t-c,r,i+c,o)}},Oe.prototype.map=function(e,t,r){return this==Kt||0==e.maps.length?this:this.mapInner(e,t,0,0,r||hs)},Oe.prototype.mapInner=function(e,t,r,i,o){for(var s,a=0;a<this.local.length;a++){var l=this.local[a].map(e,r,i);l&&l.type.valid(t,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?function qW(n,e,t,r,i,o,s){for(var a=n.slice(),l=function(ee,re,K,Re){for(var ie=0;ie<a.length;ie+=3){var Z=a[ie+1],qe=void 0;if(!(Z<0||ee>Z+o)){var Be=a[ie]+o;re>=Be?a[ie+1]=ee<=Be?-2:-1:K>=i&&(qe=Re-K-(re-ee))&&(a[ie]+=qe,a[ie+1]+=qe)}}},c=0;c<t.maps.length;c++)t.maps[c].forEach(l);for(var u=!1,d=0;d<a.length;d+=3)if(a[d+1]<0){if(-2==a[d+1]){u=!0,a[d+1]=-1;continue}var f=t.map(n[d]+o),h=f-i;if(h<0||h>=r.content.size){u=!0;continue}var g=t.map(n[d+1]+o,-1)-i,m=r.content.findIndex(h),v=m.offset,b=r.maybeChild(m.index);if(b&&v==h&&v+b.nodeSize==g){var _=a[d+2].mapInner(t,b,f+1,n[d]+o+1,s);_!=Kt?(a[d]=h,a[d+1]=g,a[d+2]=_):(a[d+1]=-2,u=!0)}else u=!0}if(u){var C=function KW(n,e,t,r,i,o,s){function a(c,u){for(var d=0;d<c.local.length;d++){var f=c.local[d].map(r,i,u);f?t.push(f):s.onRemove&&s.onRemove(c.local[d].spec)}for(var h=0;h<c.children.length;h+=3)a(c.children[h+2],c.children[h]+u+1)}for(var l=0;l<n.length;l+=3)-1==n[l+1]&&a(n[l+2],e[l]+o+1);return t}(a,n,e||[],t,i,o,s),D=Vf(C,r,0,s);e=D.local;for(var I=0;I<a.length;I+=3)a[I+1]<0&&(a.splice(I,3),I-=3);for(var A=0,B=0;A<D.children.length;A+=3){for(var z=D.children[A];B<a.length&&a[B]<z;)B+=3;a.splice(B,0,D.children[A],D.children[A+1],D.children[A+2])}}return new Oe(e&&e.sort(ps),a)}(this.children,s,e,t,r,i,o):s?new Oe(s.sort(ps)):Kt},Oe.prototype.add=function(e,t){return t.length?this==Kt?Oe.create(e,t):this.addInner(e,t,0):this},Oe.prototype.addInner=function(e,t,r){var o,i=this,s=0;e.forEach(function(c,u){var f,d=u+r;if(f=qx(t,c,d)){for(o||(o=i.children.slice());s<o.length&&o[s]<u;)s+=3;o[s]==u?o[s+2]=o[s+2].addInner(c,f,d+1):o.splice(s,0,u,u+c.nodeSize,Vf(f,c,d+1,hs)),s+=3}});for(var a=Gx(s?Kx(t):t,-r),l=0;l<a.length;l++)a[l].type.valid(e,a[l])||a.splice(l--,1);return new Oe(a.length?this.local.concat(a).sort(ps):this.local,o||this.children)},Oe.prototype.remove=function(e){return 0==e.length||this==Kt?this:this.removeInner(e,0)},Oe.prototype.removeInner=function(e,t){for(var r=this.children,i=this.local,o=0;o<r.length;o+=3){for(var s=void 0,a=r[o]+t,l=r[o+1]+t,c=0,u=void 0;c<e.length;c++)(u=e[c])&&u.from>a&&u.to<l&&(e[c]=null,(s||(s=[])).push(u));if(s){r==this.children&&(r=this.children.slice());var d=r[o+2].removeInner(s,a+1);d!=Kt?r[o+2]=d:(r.splice(o,3),o-=3)}}if(i.length)for(var f=0,h=void 0;f<e.length;f++)if(h=e[f])for(var p=0;p<i.length;p++)i[p].eq(h,t)&&(i==this.local&&(i=this.local.slice()),i.splice(p--,1));return r==this.children&&i==this.local?this:i.length||r.length?new Oe(i,r):Kt},Oe.prototype.forChild=function(e,t){if(this==Kt)return this;if(t.isLeaf)return Oe.empty;for(var r,i,o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(r=this.children[o+2]);break}for(var s=e+1,a=s+t.content.size,l=0;l<this.local.length;l++){var c=this.local[l];if(c.from<a&&c.to>s&&c.type instanceof jr){var u=Math.max(s,c.from)-s,d=Math.min(a,c.to)-s;u<d&&(i||(i=[])).push(c.copy(u,d))}}if(i){var f=new Oe(i.sort(ps));return r?new hr([f,r]):f}return r||Kt},Oe.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof Oe)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(var r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0},Oe.prototype.locals=function(e){return qy(this.localsInner(e))},Oe.prototype.localsInner=function(e){if(this==Kt)return jf;if(e.inlineContent||!this.local.some(jr.is))return this.local;for(var t=[],r=0;r<this.local.length;r++)this.local[r].type instanceof jr||t.push(this.local[r]);return t};var Kt=new Oe;Oe.empty=Kt,Oe.removeOverlap=qy;var hr=function(e){this.members=e};function Gx(n,e){if(!e||!n.length)return n;for(var t=[],r=0;r<n.length;r++){var i=n[r];t.push(new Dt(i.from+e,i.to+e,i.type))}return t}function qx(n,e,t){if(e.isLeaf)return null;for(var r=t+e.nodeSize,i=null,o=0,s=void 0;o<n.length;o++)(s=n[o])&&s.from>t&&s.to<r&&((i||(i=[])).push(s),n[o]=null);return i}function Kx(n){for(var e=[],t=0;t<n.length;t++)null!=n[t]&&e.push(n[t]);return e}function Vf(n,e,t,r){var i=[],o=!1;e.forEach(function(l,c){var u=qx(n,l,c+t);if(u){o=!0;var d=Vf(u,l,t+c+1,r);d!=Kt&&i.push(c,c+l.nodeSize,d)}});for(var s=Gx(o?Kx(n):n,-t).sort(ps),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new Oe(s,i):Kt}function ps(n,e){return n.from-e.from||n.to-e.to}function qy(n){for(var e=n,t=0;t<e.length-1;t++){var r=e[t];if(r.from!=r.to)for(var i=t+1;i<e.length;i++){var o=e[i];if(o.from!=r.from){o.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,o.from),Zx(e,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(e==n&&(e=n.slice()),e[i]=o.copy(o.from,r.to),Zx(e,i+1,o.copy(r.to,o.to)))}}return e}function Zx(n,e,t){for(;e<n.length&&ps(t,n[e])>0;)e++;n.splice(e,0,t)}function Ky(n){var e=[];return n.someProp("decorations",function(t){var r=t(n.state);r&&r!=Kt&&e.push(r)}),n.cursorWrapper&&e.push(Oe.create(n.state.doc,[n.cursorWrapper.deco])),hr.from(e)}hr.prototype.map=function(e,t){var r=this.members.map(function(i){return i.map(e,t,hs)});return hr.from(r)},hr.prototype.forChild=function(e,t){if(t.isLeaf)return Oe.empty;for(var r=[],i=0;i<this.members.length;i++){var o=this.members[i].forChild(e,t);o!=Kt&&(o instanceof hr?r=r.concat(o.members):r.push(o))}return hr.from(r)},hr.prototype.eq=function(e){if(!(e instanceof hr)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},hr.prototype.locals=function(e){for(var t,r=!0,i=0;i<this.members.length;i++){var o=this.members[i].localsInner(e);if(o.length)if(t){r&&(t=t.slice(),r=!1);for(var s=0;s<o.length;s++)t.push(o[s])}else t=o}return t?qy(r?t:t.sort(ps)):jf},hr.from=function(e){switch(e.length){case 0:return Kt;case 1:return e[0];default:return new hr(e)}};var It=function(e,t){this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(eA),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Jx(this),this.markCursor=null,this.cursorWrapper=null,Qx(this),this.nodeViews=Xx(this),this.docView=lx(this.state.doc,Yx(this),Ky(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function AW(n){n.shiftKey=!1,n.mouseDown=null,n.lastKeyCode=null,n.lastKeyCodeTime=0,n.lastClick={time:0,x:0,y:0,type:""},n.lastSelectionOrigin=null,n.lastSelectionTime=0,n.lastIOSEnter=0,n.lastIOSEnterFallbackTimeout=null,n.lastAndroidDelete=0,n.composing=!1,n.composingTimeout=null,n.compositionNodes=[],n.compositionEndedAt=-2e8,n.domObserver=new Qn(n,function(r,i,o,s){return function _W(n,e,t,r,i){if(e<0){var o=n.lastSelectionTime>Date.now()-50?n.lastSelectionOrigin:null,s=gx(n,o);if(s&&!n.state.selection.eq(s)){var a=n.state.tr.setSelection(s);"pointer"==o?a.setMeta("pointer",!0):"key"==o&&a.scrollIntoView(),n.dispatch(a)}}else{var l=n.state.doc.resolve(e),c=l.sharedDepth(t);e=l.before(c+1),t=n.state.doc.resolve(t).after(c+1);var u=n.state.selection,d=function vW(n,e,t){var r=n.docView.parseRange(e,t),i=r.node,o=r.fromOffset,s=r.toOffset,a=r.from,l=r.to,c=n.root.getSelection(),u=null,d=c.anchorNode;if(d&&n.dom.contains(1==d.nodeType?d:d.parentNode)&&(u=[{node:d,offset:c.anchorOffset}],Sy(c)||u.push({node:c.focusNode,offset:c.focusOffset})),x.chrome&&8===n.lastKeyCode)for(var f=s;f>o;f--){var h=i.childNodes[f-1],p=h.pmViewDesc;if("BR"==h.nodeName&&!p){s=f;break}if(!p||p.size)break}var g=n.state.doc,m=n.someProp("domParser")||Lr.fromSchema(n.state.schema),y=g.resolve(a),v=null,b=m.parse(i,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:o,to:s,preserveWhitespace:"pre"!=y.parent.type.whitespace||"full",editableContent:!0,findPositions:u,ruleFromNode:yW,context:y});if(u&&null!=u[0].pos){var _=u[0].pos,C=u[1]&&u[1].pos;null==C&&(C=_),v={anchor:_+a,head:C+a}}return{doc:b,sel:v,from:a,to:l}}(n,e,t);if(x.chrome&&n.cursorWrapper&&d.sel&&d.sel.anchor==n.cursorWrapper.deco.from){var f=n.cursorWrapper.deco.type.toDOM.nextSibling,h=f&&f.nodeValue?f.nodeValue.length:1;d.sel={anchor:d.sel.anchor+h,head:d.sel.anchor+h}}var m,y,p=n.state.doc,g=p.slice(d.from,d.to);8===n.lastKeyCode&&Date.now()-100<n.lastKeyCodeTime?(m=n.state.selection.to,y="end"):(m=n.state.selection.from,y="start"),n.lastKeyCode=null;var v=function DW(n,e,t,r,i){var o=n.findDiffStart(e,t);if(null==o)return null;var s=n.findDiffEnd(e,t+n.size,t+e.size),a=s.a,l=s.b;return"end"==i&&(r-=a+Math.max(0,o-Math.min(a,l))-o),a<o&&n.size<e.size?(l=(o-=r<=o&&r>=a?o-r:0)+(l-a),a=o):l<o&&(a=(o-=r<=o&&r>=l?o-r:0)+(a-l),l=o),{start:o,endA:a,endB:l}}(g.content,d.doc.content,d.from,m,y);if((x.ios&&n.lastIOSEnter>Date.now()-225||x.android)&&i.some(function(Z){return"DIV"==Z.nodeName||"P"==Z.nodeName})&&(!v||v.endA>=v.endB)&&n.someProp("handleKeyDown",function(Z){return Z(n,La(13,"Enter"))}))n.lastIOSEnter=0;else{if(!v){if(!(r&&u instanceof ye&&!u.empty&&u.$head.sameParent(u.$anchor))||n.composing||d.sel&&d.sel.anchor!=d.sel.head){if(d.sel){var b=xx(n,n.state.doc,d.sel);b&&!b.eq(n.state.selection)&&n.dispatch(n.state.tr.setSelection(b))}return}v={start:u.from,endA:u.to,endB:u.to}}n.domChangeCount++,n.state.selection.from<n.state.selection.to&&v.start==v.endB&&n.state.selection instanceof ye&&(v.start>n.state.selection.from&&v.start<=n.state.selection.from+2&&n.state.selection.from>=d.from?v.start=n.state.selection.from:v.endA<n.state.selection.to&&v.endA>=n.state.selection.to-2&&n.state.selection.to<=d.to&&(v.endB+=n.state.selection.to-v.endA,v.endA=n.state.selection.to)),x.ie&&x.ie_version<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>d.from&&" \xa0"==d.doc.textBetween(v.start-d.from-1,v.start-d.from+1)&&(v.start--,v.endA--,v.endB--);var I,_=d.doc.resolveNoCache(v.start-d.from),C=d.doc.resolveNoCache(v.endB-d.from),D=_.sameParent(C)&&_.parent.inlineContent;if((x.ios&&n.lastIOSEnter>Date.now()-225&&(!D||i.some(function(Z){return"DIV"==Z.nodeName||"P"==Z.nodeName}))||!D&&_.pos<d.doc.content.size&&(I=ue.findFrom(d.doc.resolve(_.pos+1),1,!0))&&I.head==C.pos)&&n.someProp("handleKeyDown",function(Z){return Z(n,La(13,"Enter"))}))n.lastIOSEnter=0;else if(n.state.selection.anchor>v.start&&function CW(n,e,t,r,i){if(!r.parent.isTextblock||t-e<=i.pos-r.pos||Ly(r,!0,!1)<i.pos)return!1;var o=n.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;var s=n.resolve(Ly(o,!0,!0));return!(!s.parent.isTextblock||s.pos>t||Ly(s,!0,!1)<t)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}(p,v.start,v.endA,_,C)&&n.someProp("handleKeyDown",function(Z){return Z(n,La(8,"Backspace"))}))x.android&&x.chrome&&n.domObserver.suppressSelectionUpdates();else{x.chrome&&x.android&&v.toB==v.from&&(n.lastAndroidDelete=Date.now()),x.android&&!D&&_.start()!=C.start()&&0==C.parentOffset&&_.depth==C.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==v.endA&&(v.endB-=2,C=d.doc.resolveNoCache(v.endB-d.from),setTimeout(function(){n.someProp("handleKeyDown",function(Z){return Z(n,La(13,"Enter"))})},20));var z,ee,re,K,A=v.start,B=v.endA;if(D)if(_.pos==C.pos)x.ie&&x.ie_version<=11&&0==_.parentOffset&&(n.domObserver.suppressSelectionUpdates(),setTimeout(function(){return Mo(n)},20)),z=n.state.tr.delete(A,B),ee=p.resolve(v.start).marksAcross(p.resolve(v.endA));else if(v.endA==v.endB&&(K=p.resolve(v.start))&&(re=function bW(n,e){for(var s,a,l,t=n.firstChild.marks,r=e.firstChild.marks,i=t,o=r,c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(var u=0;u<t.length;u++)o=t[u].removeFromSet(o);if(1==i.length&&0==o.length)a=i[0],s="add",l=function(h){return h.mark(a.addToSet(h.marks))};else{if(0!=i.length||1!=o.length)return null;a=o[0],s="remove",l=function(h){return h.mark(a.removeFromSet(h.marks))}}for(var d=[],f=0;f<e.childCount;f++)d.push(l(e.child(f)));if(M.from(d).eq(n))return{mark:a,type:s}}(_.parent.content.cut(_.parentOffset,C.parentOffset),K.parent.content.cut(K.parentOffset,v.endA-K.start()))))z=n.state.tr,"add"==re.type?z.addMark(A,B,re.mark):z.removeMark(A,B,re.mark);else if(_.parent.child(_.index()).isText&&_.index()==C.index()-(C.textOffset?0:1)){var Re=_.parent.textBetween(_.parentOffset,C.parentOffset);if(n.someProp("handleTextInput",function(Z){return Z(n,A,B,Re)}))return;z=n.state.tr.insertText(Re,A,B)}if(z||(z=n.state.tr.replace(A,B,d.doc.slice(v.start-d.from,v.endB-d.from))),d.sel){var ie=xx(n,z.doc,d.sel);ie&&!(x.chrome&&x.android&&n.composing&&ie.empty&&(v.start!=v.endB||n.lastAndroidDelete<Date.now()-100)&&(ie.head==A||ie.head==z.mapping.map(B)-1)||x.ie&&ie.empty&&ie.head==A)&&z.setSelection(ie)}ee&&z.ensureMarks(ee),n.dispatch(z.scrollIntoView())}}}}(n,r,i,o,s)}),n.domObserver.start(),n.domChangeCount=0,n.eventHandlers=Object.create(null);var e=function(r){var i=Rn[r];n.dom.addEventListener(r,n.eventHandlers[r]=function(o){(function kW(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var t=e.target;t!=n.dom;t=t.parentNode)if(!t||11==t.nodeType||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0})(n,o)&&!Uy(n,o)&&(n.editable||!(o.type in Mn))&&i(n,o)})};for(var t in Rn)e(t);x.safari&&n.dom.addEventListener("input",function(){return null}),Hy(n)}(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews()},Hf={props:{configurable:!0},root:{configurable:!0},isDestroyed:{configurable:!0}};function Yx(n){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),e.translate="no",n.someProp("attributes",function(t){if("function"==typeof t&&(t=t(n.state)),t)for(var r in t)"class"==r&&(e.class+=" "+t[r]),"style"==r?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&"contenteditable"!=r&&"nodeName"!=r&&(e[r]=String(t[r]))}),[Dt.node(0,n.state.doc.content.size,e)]}function Qx(n){if(n.markCursor){var e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Dt.widget(n.state.selection.head,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function Jx(n){return!n.someProp("editable",function(e){return!1===e(n.state)})}function Xx(n){var e={};return n.someProp("nodeViews",function(t){for(var r in t)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=t[r])}),e}function eA(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}Hf.props.get=function(){if(this._props.state!=this.state){var n=this._props;for(var e in this._props={},n)this._props[e]=n[e];this._props.state=this.state}return this._props},It.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Hy(this),this._props=e,e.plugins&&(e.plugins.forEach(eA),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)},It.prototype.setProps=function(e){var t={};for(var r in this._props)t[r]=this._props[r];for(var i in t.state=this.state,e)t[i]=e[i];this.update(t)},It.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},It.prototype.updateStateInner=function(e,t){var r=this,i=this.state,o=!1,s=!1;if(e.storedMarks&&this.composing&&(zx(this),s=!0),this.state=e,t){var a=Xx(this);(function YW(n,e){var t=0,r=0;for(var i in n){if(n[i]!=e[i])return!0;t++}for(var o in e)r++;return t!=r})(a,this.nodeViews)&&(this.nodeViews=a,o=!0),Hy(this)}this.editable=Jx(this),Qx(this);var l=Ky(this),c=Yx(this),u=t?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=o||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(i.selection))&&(s=!0);var f="preserve"==u&&s&&null==this.dom.style.overflowAnchor&&function z8(n){for(var r,i,e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),o=(e.left+e.right)/2,s=t+1;s<Math.min(innerHeight,e.bottom);s+=5){var a=n.root.elementFromPoint(o,s);if(a!=n.dom&&n.dom.contains(a)){var l=a.getBoundingClientRect();if(l.top>=t-20){r=a,i=l.top;break}}}return{refDOM:r,refTop:i,stack:QT(n.dom)}}(this);if(s){this.domObserver.stop();var h=d&&(x.ie||x.chrome)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&function ZW(n,e){var t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}(i.selection,e.selection);if(d){var p=x.chrome?this.trackWrites=this.root.getSelection().focusNode:null;(o||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=lx(e.doc,c,l,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&function hW(n){var e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.root.getSelection();return Rc(e.node,e.offset,t.anchorNode,t.anchorOffset)}(this))?Mo(this,h):(bx(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(i),"reset"==u)this.dom.scrollTop=0;else if("to selection"==u){var g=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",function(m){return m(r)})||function YT(n,e,t){for(var r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument,s=t||n.dom;s;s=wy(s))if(1==s.nodeType){var a=s==o.body||1!=s.nodeType,l=a?H8(o):U8(s),c=0,u=0;if(e.top<l.top+Eo(r,"top")?u=-(l.top-e.top+Eo(i,"top")):e.bottom>l.bottom-Eo(r,"bottom")&&(u=e.bottom-l.bottom+Eo(i,"bottom")),e.left<l.left+Eo(r,"left")?c=-(l.left-e.left+Eo(i,"left")):e.right>l.right-Eo(r,"right")&&(c=e.right-l.right+Eo(i,"right")),c||u)if(a)o.defaultView.scrollBy(c,u);else{var d=s.scrollLeft,f=s.scrollTop;u&&(s.scrollTop+=u),c&&(s.scrollLeft+=c);var h=s.scrollLeft-d,p=s.scrollTop-f;e={left:e.left-h,top:e.top-p,right:e.right-h,bottom:e.bottom-p}}if(a)break}}(this,e.selection instanceof ne?this.docView.domAfterPos(e.selection.from).getBoundingClientRect():this.coordsAtPos(e.selection.head,1),g)}else f&&function W8(n){var e=n.refDOM,t=n.refTop,r=n.stack,i=e?e.getBoundingClientRect().top:0;JT(r,0==i?0:i-t)}(f)},It.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()},It.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(var s=0;s<this.pluginViews.length;s++){var a=this.pluginViews[s];a.update&&a.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var t=0;t<this.directPlugins.length;t++){var r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(var i=0;i<this.state.plugins.length;i++){var o=this.state.plugins[i];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}},It.prototype.someProp=function(e,t){var i,r=this._props&&this._props[e];if(null!=r&&(i=t?t(r):r))return i;for(var o=0;o<this.directPlugins.length;o++){var s=this.directPlugins[o].props[e];if(null!=s&&(i=t?t(s):s))return i}var a=this.state.plugins;if(a)for(var l=0;l<a.length;l++){var c=a[l].props[e];if(null!=c&&(i=t?t(c):c))return i}},It.prototype.hasFocus=function(){return this.root.activeElement==this.dom},It.prototype.focus=function(){this.domObserver.stop(),this.editable&&function $8(n){if(n.setActive)return n.setActive();if(Ba)return n.focus(Ba);var e=QT(n);n.focus(null==Ba?{get preventScroll(){return Ba={preventScroll:!0},!0}}:void 0),Ba||(Ba=!1,JT(e,0))}(this.dom),Mo(this),this.domObserver.start()},Hf.root.get=function(){var n=this._root;if(null==n)for(var e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection()}),this._root=e;return n||document},It.prototype.posAtCoords=function(e){return Y8(this,e)},It.prototype.coordsAtPos=function(e,t){return void 0===t&&(t=1),tx(this,e,t)},It.prototype.domAtPos=function(e,t){return void 0===t&&(t=0),this.docView.domFromPos(e,t)},It.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},It.prototype.posAtDOM=function(e,t,r){void 0===r&&(r=-1);var i=this.docView.posFromDOM(e,t,r);if(null==i)throw new RangeError("DOM position not inside the editor");return i},It.prototype.endOfTextblock=function(e,t){return function tW(n,e,t){return rx==e&&ix==t?ox:(rx=e,ix=t,ox="up"==t||"down"==t?function J8(n,e,t){var r=e.selection,i="up"==t?r.$from:r.$to;return nx(n,e,function(){for(var s=n.docView.domFromPos(i.pos,"up"==t?-1:1).node;;){var a=n.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.dom;break}s=a.dom.parentNode}for(var l=tx(n,i.pos,1),c=s.firstChild;c;c=c.nextSibling){var u=void 0;if(1==c.nodeType)u=c.getClientRects();else{if(3!=c.nodeType)continue;u=Ui(c,0,c.nodeValue.length).getClientRects()}for(var d=0;d<u.length;d++){var f=u[d];if(f.bottom>f.top+1&&("up"==t?l.top-f.top>2*(f.bottom-l.top):f.bottom-l.bottom>2*(l.bottom-f.top)))return!1}}return!0})}(n,e,t):function eW(n,e,t){var i=e.selection.$head;if(!i.parent.isTextblock)return!1;var o=i.parentOffset,s=!o,a=o==i.parent.content.size,l=n.root.getSelection();return X8.test(i.parent.textContent)&&l.modify?nx(n,e,function(){var c=l.getRangeAt(0),u=l.focusNode,d=l.focusOffset,f=l.caretBidiLevel;l.modify("move",t,"character");var p=!(i.depth?n.docView.domAfterPos(i.before()):n.dom).contains(1==l.focusNode.nodeType?l.focusNode:l.focusNode.parentNode)||u==l.focusNode&&d==l.focusOffset;return l.removeAllRanges(),l.addRange(c),null!=f&&(l.caretBidiLevel=f),p}):"left"==t||"backward"==t?s:a}(n,e,t))}(this,t||this.state,e)},It.prototype.destroy=function(){!this.docView||(function OW(n){for(var e in n.domObserver.stop(),n.eventHandlers)n.dom.removeEventListener(e,n.eventHandlers[e]);clearTimeout(n.composingTimeout),clearTimeout(n.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ky(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Hf.isDestroyed.get=function(){return null==this.docView},It.prototype.dispatchEvent=function(e){return function NW(n,e){!Uy(n,e)&&Rn[e.type]&&(n.editable||!(e.type in Mn))&&Rn[e.type](n,e)}(this,e)},It.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(It.prototype,Hf);for(var Io={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Uf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},tA="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),QW="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),JW="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),nA="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),XW="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),e$=tA&&(nA||+tA[1]<57)||JW&&nA,Zt=0;Zt<10;Zt++)Io[48+Zt]=Io[96+Zt]=String(Zt);for(Zt=1;Zt<=24;Zt++)Io[Zt+111]="F"+Zt;for(Zt=65;Zt<=90;Zt++)Io[Zt]=String.fromCharCode(Zt+32),Uf[Zt]=String.fromCharCode(Zt);for(var Zy in Io)Uf.hasOwnProperty(Zy)||(Uf[Zy]=Io[Zy]);var n$="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function r$(n){var e=n.split(/-(?!$)/),t=e[e.length-1];"Space"==t&&(t=" ");for(var r,i,o,s,a=0;a<e.length-1;a++){var l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);n$?s=!0:i=!0}}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),s&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function Yy(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),!1!==t&&e.shiftKey&&(n="Shift-"+n),n}function rA(n){var e=function i$(n){var e=Object.create(null);for(var t in n)e[r$(t)]=n[t];return e}(n);return function(t,r){var s,i=function t$(n){var t=!(e$&&(n.ctrlKey||n.altKey||n.metaKey)||(QW||XW)&&n.shiftKey&&n.key&&1==n.key.length)&&n.key||(n.shiftKey?Uf:Io)[n.keyCode]||n.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(r),o=1==i.length&&" "!=i,a=e[Yy(i,r,!o)];if(a&&a(t.state,t.dispatch,t))return!0;if(o&&(r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=Io[r.keyCode])&&s!=i){var l=e[Yy(s,r,!0)];if(l&&l(t.state,t.dispatch,t))return!0}else if(o&&r.shiftKey){var c=e[Yy(i,r,!0)];if(c&&c(t.state,t.dispatch,t))return!0}return!1}}function Qy(n){return"Object"===function s$(n){return Object.prototype.toString.call(n).slice(8,-1)}(n)&&n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function zf(n,e){const t=S({},n);return Qy(n)&&Qy(e)&&Object.keys(e).forEach(r=>{Qy(e[r])?r in n?t[r]=zf(n[r],e[r]):Object.assign(t,{[r]:e[r]}):Object.assign(t,{[r]:e[r]})}),t}function iA(n){return"function"==typeof n}function pe(n,e,...t){return iA(n)?e?n.bind(e)(...t):n(...t):n}function j(n,e,t){return void 0===n.config[e]&&n.parent?j(n.parent,e,t):"function"==typeof n.config[e]?n.config[e].bind(pn(S({},t),{parent:n.parent?j(n.parent,e,t):null})):n.config[e]}class Tt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=S(S({},this.config),e),this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=pe(j(this,"addOptions",{name:this.name}))),this.storage=pe(j(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Tt(e)}configure(e={}){const t=this.extend();return t.options=zf(this.options,e),t.storage=pe(j(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new Tt(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=pe(j(t,"addOptions",{name:t.name})),t.storage=pe(j(t,"addStorage",{name:t.name,options:t.options})),t}}function oA(n,e,t){const{from:r,to:i}=e,{blockSeparator:o="\n\n",textSerializers:s={}}=t||{};let a="",l=!0;return n.nodesBetween(r,i,(c,u,d,f)=>{var h;const p=null==s?void 0:s[c.type.name];p?(c.isBlock&&!l&&(a+=o,l=!0),a+=p({node:c,pos:u,parent:d,index:f,range:e})):c.isText?(a+=null===(h=null==c?void 0:c.text)||void 0===h?void 0:h.slice(Math.max(r,u)-u,i-u),l=!1):c.isBlock&&!l&&(a+=o,l=!0)}),a}function Jy(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const a$=Tt.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new rt({key:new Ct("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:o}=i;return oA(r,{from:Math.min(...o.map(u=>u.$from.pos)),to:Math.max(...o.map(u=>u.$to.pos))},{textSerializers:Jy(t)})}}})]}});var l$=Object.freeze({__proto__:null,blur:()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),null===(t=null==window?void 0:window.getSelection())||void 0===t||t.removeAllRanges())}),!0)}),c$=Object.freeze({__proto__:null,clearContent:(n=!1)=>({commands:e})=>e.setContent("",n)}),u$=Object.freeze({__proto__:null,clearNodes:()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:o,$to:s})=>{n.doc.nodesBetween(o.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+a.nodeSize)),h=d.blockRange(f);if(!h)return;const p=Ra(h);if(a.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(h.start,g)}(p||0===p)&&e.lift(h,p)})}),!0}}),d$=Object.freeze({__proto__:null,command:n=>e=>n(e)}),f$=Object.freeze({__proto__:null,createParagraphNear:()=>({state:n,dispatch:e})=>LT(n,e)});function Ht(n,e){if("string"==typeof n){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}var h$=Object.freeze({__proto__:null,deleteNode:n=>({tr:e,state:t,dispatch:r})=>{const i=Ht(n,t.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const l=o.before(s),c=o.after(s);e.delete(l,c).scrollIntoView()}return!0}return!1}}),p$=Object.freeze({__proto__:null,deleteRange:n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0}}),g$=Object.freeze({__proto__:null,deleteSelection:()=>({state:n,dispatch:e})=>gy(n,e)}),m$=Object.freeze({__proto__:null,enter:()=>({commands:n})=>n.keyboardShortcut("Enter")}),v$=Object.freeze({__proto__:null,exitCode:()=>({state:n,dispatch:e})=>FT(n,e)});function To(n,e){if("string"==typeof n){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}function Xy(n){return"[object RegExp]"===Object.prototype.toString.call(n)}function Wf(n,e,t={strict:!0}){const r=Object.keys(e);return!r.length||r.every(i=>t.strict?e[i]===n[i]:Xy(e[i])?e[i].test(n[i]):e[i]===n[i])}function e_(n,e,t={}){return n.find(r=>r.type===e&&Wf(r.attrs,t))}function y$(n,e,t={}){return!!e_(n,e,t)}function t_(n,e,t={}){if(!n||!e)return;let r=n.parent.childAfter(n.parentOffset);if(n.parentOffset===r.offset&&0!==r.offset&&(r=n.parent.childBefore(n.parentOffset)),!r.node)return;const i=e_(r.node.marks,e,t);if(!i)return;let o=r.index,s=n.start()+r.offset,a=o+1,l=s+r.node.nodeSize;for(e_(r.node.marks,e,t);o>0&&i.isInSet(n.parent.child(o-1).marks);)o-=1,s-=n.parent.child(o).nodeSize;for(;a<n.parent.childCount&&y$(n.parent.child(a).marks,e,t);)l+=n.parent.child(a).nodeSize,a+=1;return{from:s,to:l}}var _$=Object.freeze({__proto__:null,extendMarkRange:(n,e={})=>({tr:t,state:r,dispatch:i})=>{const o=To(n,r.schema),{doc:s,selection:a}=t,{$from:l,from:c,to:u}=a;if(i){const d=t_(l,o,e);if(d&&d.from<=c&&d.to>=u){const f=ye.create(s,d.from,d.to);t.setSelection(f)}}return!0}}),b$=Object.freeze({__proto__:null,first:n=>e=>{const t="function"==typeof n?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1}});function sA(n){return n&&"object"==typeof n&&!Array.isArray(n)&&!function C$(n){var e;return"class"===(null===(e=n.constructor)||void 0===e?void 0:e.toString().substring(0,5))}(n)}function n_(n){return sA(n)&&n instanceof ye}function $f(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function Wi(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function aA(n,e=null){if(!e)return null;const t=ue.atStart(n),r=ue.atEnd(n);if("start"===e||!0===e)return t;if("end"===e)return r;const i=t.from,o=r.to;return"all"===e?ye.create(n,Wi(0,i,o),Wi(n.content.size,i,o)):ye.create(n,Wi(e,i,o),Wi(e,i,o))}var D$=Object.freeze({__proto__:null,focus:(n=null,e)=>({editor:t,view:r,tr:i,dispatch:o})=>{e=S({scrollIntoView:!0},e);const s=()=>{$f()&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),(null==e?void 0:e.scrollIntoView)&&t.commands.scrollIntoView())})};if(r.hasFocus()&&null===n||!1===n)return!0;if(o&&null===n&&!n_(t.state.selection))return s(),!0;const a=aA(t.state.doc,n)||t.state.selection,l=t.state.selection.eq(a);return o&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0}}),E$=Object.freeze({__proto__:null,forEach:(n,e)=>t=>n.every((r,i)=>e(r,pn(S({},t),{index:i})))}),w$=Object.freeze({__proto__:null,insertContent:(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e)});function r_(n){const e=`<body>${n}</body>`;return(new window.DOMParser).parseFromString(e,"text/html").body}function Gf(n,e,t){if(t=S({slice:!0,parseOptions:{}},t),"object"==typeof n&&null!==n)try{return Array.isArray(n)?M.fromArray(n.map(r=>e.nodeFromJSON(r))):e.nodeFromJSON(n)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",r),Gf("",e,t)}if("string"==typeof n){const r=Lr.fromSchema(e);return t.slice?r.parseSlice(r_(n),t.parseOptions).content:r.parse(r_(n),t.parseOptions)}return Gf("",e,t)}var I$=Object.freeze({__proto__:null,insertContentAt:(n,e,t)=>({tr:r,dispatch:i,editor:o})=>{if(i){t=S({parseOptions:{},updateSelection:!0},t);const s=Gf(e,o.schema,{parseOptions:S({preserveWhitespace:"full"},t.parseOptions)});if("<>"===s.toString())return!0;let{from:a,to:l}="number"==typeof n?{from:n,to:n}:n,c=!0,u=!0;if(((n=>n.toString().startsWith("<"))(s)?s:[s]).forEach(f=>{f.check(),c=!!c&&f.isText&&0===f.marks.length,u=!!u&&f.isBlock}),a===l&&u){const{parent:f}=r.doc.resolve(a);f.isTextblock&&!f.type.spec.code&&!f.childCount&&(a-=1,l+=1)}c?r.insertText(e,a,l):r.replaceWith(a,l,s),t.updateSelection&&function S$(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof ji||i instanceof Nn))return;let s=0;n.mapping.maps[r].forEach((a,l,c,u)=>{0===s&&(s=u)}),n.setSelection(ue.near(n.doc.resolve(s),t))}(r,r.steps.length-1,-1)}return!0}}),T$=Object.freeze({__proto__:null,joinBackward:()=>({state:n,dispatch:e})=>xT(n,e)}),x$=Object.freeze({__proto__:null,joinForward:()=>({state:n,dispatch:e})=>kT(n,e)});function lA(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}var O$=Object.freeze({__proto__:null,keyboardShortcut:n=>({editor:e,view:t,tr:r,dispatch:i})=>{const o=function A$(n){const e=n.split(/-(?!$)/);let r,i,o,s,t=e[e.length-1];"Space"===t&&(t=" ");for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else{if(!/^mod$/i.test(l))throw new Error(`Unrecognized modifier name: ${l}`);$f()||lA()?s=!0:i=!0}}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),s&&(t=`Meta-${t}`),o&&(t=`Shift-${t}`),t}(n).split(/-(?!$)/),s=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:"Space"===s?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{t.someProp("handleKeyDown",c=>c(t,a))});return null==l||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0}});function Uc(n,e,t={}){const{from:r,to:i,empty:o}=n.selection,s=e?Ht(e,n.schema):null,a=[];n.doc.nodesBetween(r,i,(d,f)=>{if(d.isText)return;const h=Math.max(r,f),p=Math.min(i,f+d.nodeSize);a.push({node:d,from:h,to:p})});const l=i-r,c=a.filter(d=>!s||s.name===d.node.type.name).filter(d=>Wf(d.node.attrs,t,{strict:!1}));return o?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}var k$=Object.freeze({__proto__:null,lift:(n,e={})=>({state:t,dispatch:r})=>!!Uc(t,Ht(n,t.schema),e)&&function y8(n,e){var t=n.selection,o=t.$from.blockRange(t.$to),s=o&&Ra(o);return null!=s&&(e&&e(n.tr.lift(o,s).scrollIntoView()),!0)}(t,r)}),N$=Object.freeze({__proto__:null,liftEmptyBlock:()=>({state:n,dispatch:e})=>BT(n,e)}),R$=Object.freeze({__proto__:null,liftListItem:n=>({state:e,dispatch:t})=>function R8(n){return function(e,t){var r=e.selection,i=r.$from,s=i.blockRange(r.$to,function(a){return a.childCount&&a.firstChild.type==n});return!!s&&(!t||(i.node(s.depth-1).type==n?function P8(n,e,t,r){var i=n.tr,o=r.end,s=r.$to.end(r.depth);return o<s&&(i.step(new Nn(o-1,s,o,s,new F(M.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new Sc(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth)),e(i.lift(r,Ra(r)).scrollIntoView()),!0}(e,t,n,s):function F8(n,e,t){for(var r=n.tr,i=t.parent,o=t.end,s=t.endIndex-1,a=t.startIndex;s>a;s--)o-=i.child(s).nodeSize,r.delete(o-1,o+1);var l=r.doc.resolve(t.start),c=l.nodeAfter;if(r.mapping.map(t.end)!=t.start+l.nodeAfter.nodeSize)return!1;var u=0==t.startIndex,d=t.endIndex==i.childCount,f=l.node(-1),h=l.index(-1);if(!f.canReplace(h+(u?0:1),h+1,c.content.append(d?M.empty:M.from(i))))return!1;var p=l.pos,g=p+c.nodeSize;return r.step(new Nn(p-(u?1:0),g+(d?1:0),p+1,g-1,new F((u?M.empty:M.from(i.copy(M.empty))).append(d?M.empty:M.from(i.copy(M.empty))),u?0:1,d?0:1),u?0:1)),e(r.scrollIntoView()),!0}(e,t,s)))}}(Ht(n,e.schema))(e,t)}),P$=Object.freeze({__proto__:null,newlineInCode:()=>({state:n,dispatch:e})=>PT(n,e)});function qf(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function cA(n,e){const t="string"==typeof e?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}var F$=Object.freeze({__proto__:null,resetAttributes:(n,e)=>({tr:t,state:r,dispatch:i})=>{let o=null,s=null;const a=qf("string"==typeof n?n:n.name,r.schema);return!!a&&("node"===a&&(o=Ht(n,r.schema)),"mark"===a&&(s=To(n,r.schema)),i&&t.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{o&&o===c.type&&t.setNodeMarkup(u,void 0,cA(c.attrs,e)),s&&c.marks.length&&c.marks.forEach(d=>{s===d.type&&t.addMark(u,u+c.nodeSize,s.create(cA(d.attrs,e)))})})}),!0)}}),L$=Object.freeze({__proto__:null,scrollIntoView:()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0)}),B$=Object.freeze({__proto__:null,selectAll:()=>({tr:n,commands:e})=>e.setTextSelection({from:0,to:n.doc.content.size})}),j$=Object.freeze({__proto__:null,selectNodeBackward:()=>({state:n,dispatch:e})=>AT(n,e)}),V$=Object.freeze({__proto__:null,selectNodeForward:()=>({state:n,dispatch:e})=>NT(n,e)}),H$=Object.freeze({__proto__:null,selectParentNode:()=>({state:n,dispatch:e})=>function _8(n,e){var o,t=n.selection,r=t.$from,s=r.sharedDepth(t.to);return 0!=s&&(o=r.before(s),e&&e(n.tr.setSelection(ne.create(n.doc,o))),!0)}(n,e)}),U$=Object.freeze({__proto__:null,selectTextblockEnd:()=>({state:n,dispatch:e})=>zT(n,e)}),z$=Object.freeze({__proto__:null,selectTextblockStart:()=>({state:n,dispatch:e})=>UT(n,e)});function uA(n,e,t={}){return Gf(n,e,{slice:!1,parseOptions:t})}var W$=Object.freeze({__proto__:null,setContent:(n,e=!1,t={})=>({tr:r,editor:i,dispatch:o})=>{const{doc:s}=r,a=uA(n,i.schema,t),l=ye.create(s,0,s.content.size);return o&&r.setSelection(l).replaceSelectionWith(a,!1).setMeta("preventUpdate",!e),!0}});function dA(n,e){const t=To(e,n.schema),{from:r,to:i,empty:o}=n.selection,s=[];o?(n.storedMarks&&s.push(...n.storedMarks),s.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===t.name);return a?S({},a.attrs):{}}var $$=Object.freeze({__proto__:null,setMark:(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:o}=t,{empty:s,ranges:a}=o,l=To(n,r.schema);if(i)if(s){const c=dA(r,l);t.addStoredMark(l.create(S(S({},c),e)))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,h)=>{const p=Math.max(h,u),g=Math.min(h+f.nodeSize,d);f.marks.find(y=>y.type===l)?f.marks.forEach(y=>{l===y.type&&t.addMark(p,g,l.create(S(S({},y.attrs),e)))}):t.addMark(p,g,l.create(e))})});return!0}}),G$=Object.freeze({__proto__:null,setMeta:(n,e)=>({tr:t})=>(t.setMeta(n,e),!0)}),q$=Object.freeze({__proto__:null,setNode:(n,e={})=>({state:t,dispatch:r,chain:i})=>{const o=Ht(n,t.schema);return o.isTextblock?i().command(({commands:s})=>!!WT(o,e)(t)||s.clearNodes()).command(({state:s})=>WT(o,e)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)}}),K$=Object.freeze({__proto__:null,setNodeSelection:n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=ue.atStart(r).from,o=ue.atEnd(r).to,s=Wi(n,i,o),a=ne.create(r,s);e.setSelection(a)}return!0}}),Z$=Object.freeze({__proto__:null,setTextSelection:n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:o}="number"==typeof n?{from:n,to:n}:n,s=ye.atStart(r).from,a=ye.atEnd(r).to,l=Wi(i,s,a),c=Wi(o,s,a),u=ye.create(r,l,c);e.setSelection(u)}return!0}}),Y$=Object.freeze({__proto__:null,sinkListItem:n=>({state:e,dispatch:t})=>function L8(n){return function(e,t){var r=e.selection,s=r.$from.blockRange(r.$to,function(g){return g.childCount&&g.firstChild.type==n});if(!s)return!1;var a=s.startIndex;if(0==a)return!1;var l=s.parent,c=l.child(a-1);if(c.type!=n)return!1;if(t){var u=c.lastChild&&c.lastChild.type==l.type,d=M.from(u?n.create():null),f=new F(M.from(n.create(null,M.from(l.type.create(null,d)))),u?3:1,0),h=s.start,p=s.end;t(e.tr.step(new Nn(h-(u?3:1),p,h,p,f,1,!0)).scrollIntoView())}return!0}}(Ht(n,e.schema))(e,t)});function Kf(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(o=>o.type===e&&o.name===r);return!!i&&i.attribute.keepOnSplit}))}function fA(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>null==e?void 0:e.includes(i.type.name));n.tr.ensureMarks(r)}}var J$=Object.freeze({__proto__:null,splitBlock:({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:a,$to:l}=o,u=Kf(i.extensionManager.attributes,a.node().type.name,a.node().attrs);if(o instanceof ne&&o.node.isBlock)return!(!a.parentOffset||!Vi(s,a.pos)||(r&&(n&&fA(t,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),0));if(!a.parent.isBlock)return!1;if(r){const d=l.parentOffset===l.parent.content.size;o instanceof ye&&e.deleteSelection();const f=0===a.depth?void 0:function Q$(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}(a.node(-1).contentMatchAt(a.indexAfter(-1)));let h=d&&f?[{type:f,attrs:u}]:void 0,p=Vi(e.doc,e.mapping.map(a.pos),1,h);if(!h&&!p&&Vi(e.doc,e.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(p=!0,h=f?[{type:f,attrs:u}]:void 0),p&&(e.split(e.mapping.map(a.pos),1,h),f&&!d&&!a.parentOffset&&a.parent.type!==f)){const g=e.mapping.map(a.before()),m=e.doc.resolve(g);a.node(-1).canReplaceWith(m.index(),m.index()+1,f)&&e.setNodeMarkup(e.mapping.map(a.before()),f)}n&&fA(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return!0}}),X$=Object.freeze({__proto__:null,splitListItem:n=>({tr:e,state:t,dispatch:r,editor:i})=>{var o;const s=Ht(n,t.schema),{$from:a,$to:l}=t.selection,c=t.selection.node;if(c&&c.isBlock||a.depth<2||!a.sameParent(l))return!1;const u=a.node(-1);if(u.type!==s)return!1;const d=i.extensionManager.attributes;if(0===a.parent.content.size&&a.node(-1).childCount===a.indexAfter(-1)){if(2===a.depth||a.node(-3).type!==s||a.index(-2)!==a.node(-2).childCount-1)return!1;if(r){let m=M.empty;const y=a.index(-1)?1:a.index(-2)?2:3;for(let I=a.depth-y;I>=a.depth-3;I-=1)m=M.from(a.node(I).copy(m));const v=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,b=Kf(d,a.node().type.name,a.node().attrs),_=(null===(o=s.contentMatch.defaultType)||void 0===o?void 0:o.createAndFill(b))||void 0;m=m.append(M.from(s.createAndFill(null,_)||void 0));const C=a.before(a.depth-(y-1));e.replace(C,a.after(-v),new F(m,4-y,0));let D=-1;e.doc.nodesBetween(C,e.doc.content.size,(I,A)=>{if(D>-1)return!1;I.isTextblock&&0===I.content.size&&(D=A+1)}),D>-1&&e.setSelection(ye.near(e.doc.resolve(D))),e.scrollIntoView()}return!0}const f=l.pos===a.end()?u.contentMatchAt(0).defaultType:null,h=Kf(d,u.type.name,u.attrs),p=Kf(d,a.node().type.name,a.node().attrs);e.delete(a.pos,l.pos);const g=f?[{type:s,attrs:h},{type:f,attrs:p}]:[{type:s,attrs:h}];return!!Vi(e.doc,a.pos,2)&&(r&&e.split(a.pos,2,g).scrollIntoView(),!0)}});function i_(n){return e=>function e5(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}(e.$from,n)}function Zf(n){return{baseExtensions:n.filter(i=>"extension"===i.type),nodeExtensions:n.filter(i=>"node"===i.type),markExtensions:n.filter(i=>"mark"===i.type)}}function hA(n,e){const{nodeExtensions:t}=Zf(e),r=t.find(s=>s.name===n);if(!r)return!1;const o=pe(j(r,"group",{name:r.name,options:r.options,storage:r.storage}));return"string"==typeof o&&o.split(" ").includes("list")}const pA=(n,e)=>{const t=i_(s=>s.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(void 0===r)return!0;const i=n.doc.nodeAt(r);return t.node.type===(null==i?void 0:i.type)&&Ic(n.doc,t.pos)&&n.join(t.pos),!0},gA=(n,e)=>{const t=i_(s=>s.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(void 0===r)return!0;const i=n.doc.nodeAt(r);return t.node.type===(null==i?void 0:i.type)&&Ic(n.doc,r)&&n.join(r),!0};var t5=Object.freeze({__proto__:null,toggleList:(n,e)=>({editor:t,tr:r,state:i,dispatch:o,chain:s,commands:a,can:l})=>{const{extensions:c}=t.extensionManager,u=Ht(n,i.schema),d=Ht(e,i.schema),{selection:f}=i,{$from:h,$to:p}=f,g=h.blockRange(p);if(!g)return!1;const m=i_(y=>hA(y.type.name,c))(f);if(g.depth>=1&&m&&g.depth-m.depth<=1){if(m.node.type===u)return a.liftListItem(d);if(hA(m.node.type.name,c)&&u.validContent(m.node.content)&&o)return s().command(()=>(r.setNodeMarkup(m.pos,u),!0)).command(()=>pA(r,u)).command(()=>gA(r,u)).run()}return s().command(()=>!!l().wrapInList(u)||a.clearNodes()).wrapInList(u).command(()=>pA(r,u)).command(()=>gA(r,u)).run()}});function o_(n,e,t={}){const{empty:r,ranges:i}=n.selection,o=e?To(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(d=>!o||o.name===d.type.name).find(d=>Wf(d.attrs,t,{strict:!1}));let s=0;const a=[];if(i.forEach(({$from:d,$to:f})=>{const h=d.pos,p=f.pos;n.doc.nodesBetween(h,p,(g,m)=>{if(!g.isText&&!g.marks.length)return;const y=Math.max(h,m),v=Math.min(p,m+g.nodeSize);s+=v-y,a.push(...g.marks.map(_=>({mark:_,from:y,to:v})))})}),0===s)return!1;const l=a.filter(d=>!o||o.name===d.mark.type.name).filter(d=>Wf(d.mark.attrs,t,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=a.filter(d=>!o||d.mark.type!==o&&d.mark.type.excludes(o)).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=s}var n5=Object.freeze({__proto__:null,toggleMark:(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=t,s=To(n,r.schema);return o_(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)}}),r5=Object.freeze({__proto__:null,toggleNode:(n,e,t={})=>({state:r,commands:i})=>{const o=Ht(n,r.schema),s=Ht(e,r.schema);return Uc(r,o,t)?i.setNode(s):i.setNode(o,t)}}),o5=Object.freeze({__proto__:null,toggleWrap:(n,e={})=>({state:t,commands:r})=>{const i=Ht(n,t.schema);return Uc(t,i,e)?r.lift(i):r.wrapIn(i,e)}}),s5=Object.freeze({__proto__:null,undoInputRule:()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let o;if(i.spec.isInputRules&&(o=i.getState(n))){if(e){const s=n.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(o.text){const l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,n.schema.text(o.text,l))}else s.delete(o.from,o.to)}return!0}}return!1}}),a5=Object.freeze({__proto__:null,unsetAllMarks:()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(o=>{n.removeMark(o.$from.pos,o.$to.pos)}),!0}}),l5=Object.freeze({__proto__:null,unsetMark:(n,e={})=>({tr:t,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=t,l=To(n,r.schema),{$from:c,empty:u,ranges:d}=a;if(!i)return!0;if(u&&s){let{from:f,to:h}=a;const p=null===(o=c.marks().find(m=>m.type===l))||void 0===o?void 0:o.attrs,g=t_(c,l,p);g&&(f=g.from,h=g.to),t.removeMark(f,h,l)}else d.forEach(f=>{t.removeMark(f.$from.pos,f.$to.pos,l)});return t.removeStoredMark(l),!0}}),c5=Object.freeze({__proto__:null,updateAttributes:(n,e={})=>({tr:t,state:r,dispatch:i})=>{let o=null,s=null;const a=qf("string"==typeof n?n:n.name,r.schema);return!!a&&("node"===a&&(o=Ht(n,r.schema)),"mark"===a&&(s=To(n,r.schema)),i&&t.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;r.doc.nodesBetween(c,u,(d,f)=>{o&&o===d.type&&t.setNodeMarkup(f,void 0,S(S({},d.attrs),e)),s&&d.marks.length&&d.marks.forEach(h=>{if(s===h.type){const p=Math.max(f,c),g=Math.min(f+d.nodeSize,u);t.addMark(p,g,s.create(S(S({},h.attrs),e)))}})})}),!0)}}),u5=Object.freeze({__proto__:null,wrapIn:(n,e={})=>({state:t,dispatch:r})=>function D8(n,e){return function(t,r){var i=t.selection,a=i.$from.blockRange(i.$to),l=a&&sy(a,n,e);return!!l&&(r&&r(t.tr.wrap(a,l).scrollIntoView()),!0)}}(Ht(n,t.schema),e)(t,r)}),d5=Object.freeze({__proto__:null,wrapInList:(n,e={})=>({state:t,dispatch:r})=>function k8(n,e){return function(t,r){var i=t.selection,o=i.$from,s=i.$to,a=o.blockRange(s),l=!1,c=a;if(!a)return!1;if(a.depth>=2&&o.node(a.depth-1).type.compatibleContent(n)&&0==a.startIndex){if(0==o.index(a.depth-1))return!1;var u=t.doc.resolve(a.start-2);c=new Sc(u,u,a.depth),a.endIndex<a.parent.childCount&&(a=new Sc(o,t.doc.resolve(s.end(a.depth)),a.depth)),l=!0}var d=sy(c,n,e,a);return!!d&&(r&&r(function N8(n,e,t,r,i){for(var o=M.empty,s=t.length-1;s>=0;s--)o=M.from(t[s].type.create(t[s].attrs,o));n.step(new Nn(e.start-(r?2:0),e.end,e.start,e.end,new F(o,0,0),t.length,!0));for(var a=0,l=0;l<t.length;l++)t[l].type==i&&(a=l+1);for(var c=t.length-a,u=e.start+t.length-(r?2:0),d=e.parent,f=e.startIndex,h=e.endIndex,p=!0;f<h;f++,p=!1)!p&&Vi(n.doc,u,c)&&(n.split(u,c),u+=2*c),u+=d.child(f).nodeSize;return n}(t.tr,a,d,l,n).scrollIntoView()),!0)}}(Ht(n,t.schema),e)(t,r)});const f5=Tt.create({name:"commands",addCommands:()=>S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S({},l$),c$),u$),d$),f$),h$),p$),g$),m$),v$),_$),b$),D$),E$),w$),I$),T$),x$),O$),k$),N$),R$),P$),F$),L$),B$),j$),V$),H$),U$),z$),W$),$$),G$),q$),K$),Z$),Y$),J$),X$),t5),n5),r5),o5),s5),a5),l5),c5),u5),d5)}),h5=Tt.create({name:"editable",addProseMirrorPlugins(){return[new rt({key:new Ct("editable"),props:{editable:()=>this.editor.options.editable}})]}}),p5=Tt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new rt({key:new Ct("focusEvents"),props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}});function Yf(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:o}=t;return pn(S({},e),{schema:e.schema,plugins:e.plugins,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,o=t.storedMarks,t}})}class Qf{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:i}=t,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const d=l(...u)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a=[],l=!!e,c=e||o.tr,d=pn(S({},Object.fromEntries(Object.entries(r).map(([f,h])=>[f,(...g)=>{const m=this.buildProps(c,t),y=h(...g)(m);return a.push(y),d}]))),{run:()=>(!l&&t&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),a.every(f=>!0===f))});return d}createCan(e){const{rawCommands:t,state:r}=this,i=void 0,o=e||r.tr,s=this.buildProps(o,i),a=Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...u)=>c(...u)(pn(S({},s),{dispatch:i}))]));return pn(S({},a),{chain:()=>this.createChain(o,i)})}buildProps(e,t=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i;o.storedMarks&&e.setStoredMarks(o.storedMarks);const a={tr:e,editor:i,view:s,state:Yf({state:o,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}const g5=Tt.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:f,parent:h}=d,p=ue.atStart(c).from===f;return!(!(u&&p&&h.type.isTextblock)||h.textContent.length)&&s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i=S({},r),o=pn(S({},r),{"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return $f()||lA()?o:i},addProseMirrorPlugins(){return[new rt({key:new Ct("clearDocument"),appendTransaction:(n,e,t)=>{if(!n.some(p=>p.docChanged)||e.doc.eq(t.doc))return;const{empty:i,from:o,to:s}=e.selection,a=ue.atStart(e.doc).from,l=ue.atEnd(e.doc).to,c=o===a&&s===l,u=0===t.doc.textBetween(0,t.doc.content.size," "," ").length;if(i||!c||!u)return;const d=t.tr,f=Yf({state:t,transaction:d}),{commands:h}=new Qf({editor:this.editor,state:f});return h.clearNodes(),d.steps.length?d:void 0}})]}}),m5=Tt.create({name:"tabindex",addProseMirrorPlugins(){return[new rt({key:new Ct("tabindex"),props:{attributes:()=>{if(this.editor.isEditable)return{tabindex:"0"}}}})]}});var v5=Object.freeze({__proto__:null,ClipboardTextSerializer:a$,Commands:f5,Editable:h5,FocusEvents:p5,Keymap:g5,Tabindex:m5});function mA(n,e){const t=qf("string"==typeof e?e:e.name,n.schema);return"node"===t?function y5(n,e){const t=Ht(e,n.schema),{from:r,to:i}=n.selection,o=[];n.doc.nodesBetween(r,i,a=>{o.push(a)});const s=o.reverse().find(a=>a.type.name===t.name);return s?S({},s.attrs):{}}(n,e):"mark"===t?dA(n,e):{}}class zc{constructor(e){this.find=e.find,this.handler=e.handler}}function s_(n){var e;const{editor:t,from:r,to:i,text:o,rules:s,plugin:a}=n,{view:l}=t;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(null===(e=c.nodeBefore||c.nodeAfter)||void 0===e?void 0:e.marks.find(h=>h.type.spec.code)))return!1;let u=!1;const f=c.parent.textBetween(Math.max(0,c.parentOffset-500),c.parentOffset,void 0," ")+o;return s.forEach(h=>{if(u)return;const p=((n,e)=>{if(Xy(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[];return r.push(t.text),r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r})(f,h.find);if(!p)return;const g=l.state.tr,m=Yf({state:l.state,transaction:g}),y={from:r-(p[0].length-o.length),to:i},{commands:v,chain:b,can:_}=new Qf({editor:t,state:m});null===h.handler({state:m,range:y,match:p,commands:v,chain:b,can:_})||!g.steps.length||(g.setMeta(a,{transform:g,from:r,to:i,text:o}),l.dispatch(g),u=!0)}),u}function E5(n){const{editor:e,rules:t}=n,r=new rt({state:{init:()=>null,apply(i,o){return i.getMeta(this)||(i.selectionSet||i.docChanged?null:o)}},props:{handleTextInput:(i,o,s,a)=>s_({editor:e,from:o,to:s,text:a,rules:t,plugin:r}),handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&s_({editor:e,from:o.pos,to:o.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,o){if("Enter"!==o.key)return!1;const{$cursor:s}=i.state.selection;return!!s&&s_({editor:e,from:s.pos,to:s.pos,text:"\n",rules:t,plugin:r})}},isInputRules:!0});return r}class _A{constructor(e){this.find=e.find,this.handler=e.handler}}function I5(n){const{editor:e,rules:t}=n;let r=null,i=!1,o=!1;return t.map(a=>new rt({view(l){const c=u=>{var d;r=(null===(d=l.dom.parentElement)||void 0===d?void 0:d.contains(u.target))?l.dom.parentElement:null};return window.addEventListener("dragstart",c),{destroy(){window.removeEventListener("dragstart",c)}}},props:{handleDOMEvents:{drop:l=>(o=r===l.dom.parentElement,!1),paste:(l,c)=>{var u;const d=null===(u=c.clipboardData)||void 0===u?void 0:u.getData("text/html");return i=!!(null==d?void 0:d.includes("data-pm-slice")),!1}}},appendTransaction:(l,c,u)=>{const d=l[0],f="paste"===d.getMeta("uiEvent")&&!i,h="drop"===d.getMeta("uiEvent")&&!o;if(!f&&!h)return;const p=c.doc.content.findDiffStart(u.doc.content),g=c.doc.content.findDiffEnd(u.doc.content);if(!function w5(n){return"number"==typeof n}(p)||!g||p===g.b)return;const m=u.tr,y=Yf({state:u,transaction:m});return function M5(n){const{editor:e,state:t,from:r,to:i,rule:o}=n,{commands:s,chain:a,can:l}=new Qf({editor:e,state:t}),c=[];return t.doc.nodesBetween(r,i,(d,f)=>{if(!d.isTextblock||d.type.spec.code)return;const h=Math.max(r,f),p=Math.min(i,f+d.content.size);((n,e)=>{if(Xy(e))return[...n.matchAll(e)];const t=e(n);return t?t.map(r=>{const i=[];return i.push(r.text),i.index=r.index,i.input=n,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]})(d.textBetween(h-f,p-f,void 0,"\ufffc"),o.find).forEach(y=>{if(void 0===y.index)return;const v=h+y.index+1,b=v+y[0].length,_={from:t.tr.mapping.map(v),to:t.tr.mapping.map(b)},C=o.handler({state:t,range:_,match:y,commands:s,chain:a,can:l});c.push(C)})}),c.every(d=>null!==d)}({editor:e,state:y,from:Math.max(p-1,0),to:g.b,rule:a})&&m.steps.length?m:void 0}}))}function bA(n){const e=[],{nodeExtensions:t,markExtensions:r}=Zf(n),i=[...t,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0};return n.forEach(s=>{const l=j(s,"addGlobalAttributes",{name:s.name,options:s.options,storage:s.storage});l&&l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([f,h])=>{e.push({type:d,name:f,attribute:S(S({},o),h)})})})})}),i.forEach(s=>{const l=j(s,"addAttributes",{name:s.name,options:s.options,storage:s.storage});if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{e.push({type:s.name,name:u,attribute:S(S({},o),d)})})}),e}function xt(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r=S({},e);return Object.entries(t).forEach(([i,o])=>{r[i]=r[i]?"class"===i?[r[i],o].join(" "):"style"===i?[r[i],o].join("; "):o:o}),r},{})}function a_(n,e){return e.filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>xt(t,r),{})}function CA(n,e){return n.style?n:pn(S({},n),{getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(!1===r)return!1;const i=e.reduce((o,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(t):function x5(n){return"string"!=typeof n?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):"true"===n||"false"!==n&&n}(t.getAttribute(s.name));return null==a?o:pn(S({},o),{[s.name]:a})},{});return S(S({},r),i)}})}function DA(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>("attrs"!==e||!function T5(n={}){return 0===Object.keys(n).length&&n.constructor===Object}(t))&&null!=t))}function l_(n,e){return e.nodes[n]||e.marks[n]||null}function wA(n,e){return Array.isArray(e)?e.some(t=>("string"==typeof t?t:t.name)===n.name):e}class gs{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=gs.resolve(e),this.schema=function EA(n){var e;const t=bA(n),{nodeExtensions:r,markExtensions:i}=Zf(n),o=null===(e=r.find(l=>j(l,"topNode")))||void 0===e?void 0:e.name,s=Object.fromEntries(r.map(l=>{const c=t.filter(m=>m.type===l.name),u={name:l.name,options:l.options,storage:l.storage},d=n.reduce((m,y)=>{const v=j(y,"extendNodeSchema",u);return S(S({},m),v?v(l):{})},{}),f=DA(pn(S({},d),{content:pe(j(l,"content",u)),marks:pe(j(l,"marks",u)),group:pe(j(l,"group",u)),inline:pe(j(l,"inline",u)),atom:pe(j(l,"atom",u)),selectable:pe(j(l,"selectable",u)),draggable:pe(j(l,"draggable",u)),code:pe(j(l,"code",u)),defining:pe(j(l,"defining",u)),isolating:pe(j(l,"isolating",u)),attrs:Object.fromEntries(c.map(m=>{var y;return[m.name,{default:null===(y=null==m?void 0:m.attribute)||void 0===y?void 0:y.default}]}))})),h=pe(j(l,"parseHTML",u));h&&(f.parseDOM=h.map(m=>CA(m,c)));const p=j(l,"renderHTML",u);p&&(f.toDOM=m=>p({node:m,HTMLAttributes:a_(m,c)}));const g=j(l,"renderText",u);return g&&(f.toText=g),[l.name,f]})),a=Object.fromEntries(i.map(l=>{const c=t.filter(g=>g.type===l.name),u={name:l.name,options:l.options,storage:l.storage},d=n.reduce((g,m)=>{const y=j(m,"extendMarkSchema",u);return S(S({},g),y?y(l):{})},{}),f=DA(pn(S({},d),{inclusive:pe(j(l,"inclusive",u)),excludes:pe(j(l,"excludes",u)),group:pe(j(l,"group",u)),spanning:pe(j(l,"spanning",u)),code:pe(j(l,"code",u)),attrs:Object.fromEntries(c.map(g=>{var m;return[g.name,{default:null===(m=null==g?void 0:g.attribute)||void 0===m?void 0:m.default}]}))})),h=pe(j(l,"parseHTML",u));h&&(f.parseDOM=h.map(g=>CA(g,c)));const p=j(l,"renderHTML",u);return p&&(f.toDOM=g=>p({mark:g,HTMLAttributes:a_(g,c)})),[l.name,f]}));return new cs({topNode:o,nodes:s,marks:a})}(this.extensions),this.extensions.forEach(r=>{var i;this.editor.extensionStorage[r.name]=r.storage;const o={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:l_(r.name,this.schema)};"mark"===r.type&&(null===(i=pe(j(r,"keepOnSplit",o)))||void 0===i||i)&&this.splittableMarks.push(r.name);const s=j(r,"onBeforeCreate",o);s&&this.editor.on("beforeCreate",s);const a=j(r,"onCreate",o);a&&this.editor.on("create",a);const l=j(r,"onUpdate",o);l&&this.editor.on("update",l);const c=j(r,"onSelectionUpdate",o);c&&this.editor.on("selectionUpdate",c);const u=j(r,"onTransaction",o);u&&this.editor.on("transaction",u);const d=j(r,"onFocus",o);d&&this.editor.on("focus",d);const f=j(r,"onBlur",o);f&&this.editor.on("blur",f);const h=j(r,"onDestroy",o);h&&this.editor.on("destroy",h)})}static resolve(e){const t=gs.sort(gs.flatten(e)),r=function A5(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return[...new Set(e)]}(t.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const i=j(t,"addExtensions",{name:t.name,options:t.options,storage:t.storage});return i?[t,...this.flatten(i())]:t}).flat(10)}static sort(e){return e.sort((r,i)=>{const o=j(r,"priority")||100,s=j(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const i=j(t,"addCommands",{name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:l_(t.name,this.schema)});return i?S(S({},e),i()):e},{})}get plugins(){const{editor:e}=this,t=gs.sort([...this.extensions].reverse()),r=[],i=[],o=t.map(s=>{const a={name:s.name,options:s.options,storage:s.storage,editor:e,type:l_(s.name,this.schema)},l=[],c=j(s,"addKeyboardShortcuts",a);if(c){const p=function o$(n){return new rt({props:{handleKeyDown:rA(n)}})}(Object.fromEntries(Object.entries(c()).map(([g,m])=>[g,()=>m({editor:e})])));l.push(p)}const u=j(s,"addInputRules",a);wA(s,e.options.enableInputRules)&&u&&r.push(...u());const d=j(s,"addPasteRules",a);wA(s,e.options.enablePasteRules)&&d&&i.push(...d());const f=j(s,"addProseMirrorPlugins",a);if(f){const h=f();l.push(...h)}return l}).flat();return[E5({editor:e,rules:r}),...I5({editor:e,rules:i}),...o]}get attributes(){return bA(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Zf(this.extensions);return Object.fromEntries(t.filter(r=>!!j(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:Ht(r.name,this.schema)},s=j(r,"addNodeView",o);return s?[r.name,(l,c,u,d)=>{const f=a_(l,i);return s()({editor:e,node:l,getPos:u,decorations:d,HTMLAttributes:f,extension:r})}]:[]}))}}class N5 extends class O5{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(i=>i!==t):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=function C5(n,e){const t=document.querySelector("style[data-tiptap-style]");if(null!==t)return t;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(r),r}('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 1px !important;\n  height: 1px !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}',this.options.injectNonce))}setOptions(e={}){this.options=S(S({},this.options),e),this.view&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e){this.setOptions({editable:e})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=iA(t)?t(e,this.state.plugins):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(e){if(this.isDestroyed)return;const t="string"==typeof e?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(t))});this.view.updateState(r)}createExtensionManager(){const t=[...this.options.enableCoreExtensions?Object.values(v5):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(null==r?void 0:r.type));this.extensionManager=new gs(t,this)}createCommandManager(){this.commandManager=new Qf({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=uA(this.options.content,this.schema,this.options.parseOptions),t=aA(e,this.options.autofocus);this.view=new It(this.options.element,pn(S({},this.options.editorProps),{dispatchTransaction:this.dispatchTransaction.bind(this),state:dn.create({doc:e,selection:t})}));const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.view.dom.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.isCapturingTransaction)return this.capturedTransaction?void e.steps.forEach(s=>{var a;return null===(a=this.capturedTransaction)||void 0===a?void 0:a.step(s)}):void(this.capturedTransaction=e);const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),e.docChanged&&!e.getMeta("preventUpdate")&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return mA(this.state,e)}isActive(e,t){return function _5(n,e,t={}){if(!e)return Uc(n,null,t)||o_(n,null,t);const r=qf(e,n.schema);return"node"===r?Uc(n,e,t):"mark"===r&&o_(n,e,t)}(this.state,"string"==typeof e?e:null,"string"==typeof e?t:e)}getJSON(){return this.state.doc.toJSON()}getHTML(){return function vA(n,e){const t=Gt.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t="\n\n",textSerializers:r={}}=e||{};return function yA(n,e){return oA(n,{from:0,to:n.content.size},e)}(this.state.doc,{blockSeparator:t,textSerializers:S(S({},r),Jy(this.schema))})}get isEmpty(){return function b5(n){var e;const t=null===(e=n.type.createAndFill())||void 0===e?void 0:e.toJSON(),r=n.toJSON();return JSON.stringify(t)===JSON.stringify(r)}(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(null===(e=this.view)||void 0===e?void 0:e.docView)}}class fn{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=S(S({},this.config),e),this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=pe(j(this,"addOptions",{name:this.name}))),this.storage=pe(j(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new fn(e)}configure(e={}){const t=this.extend();return t.options=zf(this.options,e),t.storage=pe(j(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new fn(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=pe(j(t,"addOptions",{name:t.name})),t.storage=pe(j(t,"addStorage",{name:t.name,options:t.options})),t}}class fi{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=S(S({},this.config),e),this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=pe(j(this,"addOptions",{name:this.name}))),this.storage=pe(j(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new fi(e)}configure(e={}){const t=this.extend();return t.options=zf(this.options,e),t.storage=pe(j(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new fi(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=pe(j(t,"addOptions",{name:t.name})),t.storage=pe(j(t,"addStorage",{name:t.name,options:t.options})),t}}function P5(n){return new zc({find:n.find,handler:({state:e,range:t,match:r})=>{const i=pe(n.getAttributes,void 0,r)||{},{tr:o}=e,s=t.from;let a=t.to;if(r[1]){let c=s+r[0].lastIndexOf(r[1]);c>a?c=a:a=c+r[1].length,o.insertText(r[0][r[0].length-1],s+r[0].length-1),o.replaceWith(c,a,n.type.create(i))}else r[0]&&o.replaceWith(s,a,n.type.create(i))}})}function Jf(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const s=t_(t.resolve(n-1),i.type);!s||r.push(S({mark:i},s))}):t.nodesBetween(n,e,(i,o)=>{r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}function ms(n){return new zc({find:n.find,handler:({state:e,range:t,match:r})=>{const i=pe(n.getAttributes,void 0,r);if(!1===i||null===i)return null;const{tr:o}=e,s=r[r.length-1],a=r[0];let l=t.to;if(s){const c=a.search(/\S/),u=t.from+a.indexOf(s),d=u+s.length;if(Jf(t.from,t.to,e.doc).filter(h=>h.mark.type.excluded.find(g=>g===n.type&&g!==h.mark.type)).filter(h=>h.to>u).length)return null;d<t.to&&o.delete(d,t.to),u>t.from&&o.delete(t.from+c,u),l=t.from+c+s.length,o.addMark(t.from+c,l,n.type.create(i||{})),o.removeStoredMark(n.type)}}})}function c_(n){return new zc({find:n.find,handler:({state:e,range:t,match:r})=>{const i=e.doc.resolve(t.from),o=pe(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,o)}})}function u_(n){return new zc({find:n.find,handler:({state:e,range:t,match:r})=>{const i=pe(n.getAttributes,void 0,r)||{},o=e.tr.delete(t.from,t.to),a=o.doc.resolve(t.from).blockRange(),l=a&&sy(a,n.type,i);if(!l)return null;o.wrap(a,l);const c=o.doc.resolve(t.from-1).nodeBefore;c&&c.type===n.type&&Ic(o.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,c))&&o.join(t.from-1)}})}function xo(n){return new _A({find:n.find,handler:({state:e,range:t,match:r})=>{const i=pe(n.getAttributes,void 0,r);if(!1===i||null===i)return null;const{tr:o}=e,s=r[r.length-1],a=r[0];let l=t.to;if(s){const c=a.search(/\S/),u=t.from+a.indexOf(s),d=u+s.length;if(Jf(t.from,t.to,e.doc).filter(h=>h.mark.type.excluded.find(g=>g===n.type&&g!==h.mark.type)).filter(h=>h.to>u).length)return null;d<t.to&&o.delete(d,t.to),u>t.from&&o.delete(t.from+c,u),l=t.from+c+s.length,o.addMark(t.from+c,l,n.type.create(i||{})),o.removeStoredMark(n.type)}}})}function SA(n){return sA(n)&&n instanceof ne}function Wc(n,e,t){const i=n.state.doc.content.size,o=Wi(e,0,i),s=Wi(t,0,i),a=n.coordsAtPos(o),l=n.coordsAtPos(s,-1),c=Math.min(a.top,l.top),u=Math.max(a.bottom,l.bottom),d=Math.min(a.left,l.left),f=Math.max(a.right,l.right),y={top:c,bottom:u,left:d,right:f,width:f-d,height:u-c,x:d,y:c};return pn(S({},y),{toJSON:()=>y})}const z5=/^\s*>\s$/,W5=fn.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:n}){return["blockquote",xt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[u_({find:z5,type:this.type})]}}),$5=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,G5=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,q5=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,K5=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,Z5=fi.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"strong"},{tag:"b",getAttrs:n=>"normal"!==n.style.fontWeight&&null},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}],renderHTML({HTMLAttributes:n}){return["strong",xt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ms({find:$5,type:this.type}),ms({find:q5,type:this.type})]},addPasteRules(){return[xo({find:G5,type:this.type}),xo({find:K5,type:this.type})]}}),Y5=/^\s*([-+*])\s$/,Q5=fn.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:n}){return["ul",xt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n})=>n.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[u_({find:Y5,type:this.type})]}}),J5=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,X5=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,eG=fi.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:n}){return["code",xt(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ms({find:J5,type:this.type})]},addPasteRules(){return[xo({find:X5,type:this.type})]}}),tG=/^```([a-z]+)?[\s\n]$/,nG=/^~~~([a-z]+)?[\s\n]$/,rG=fn.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options;return[...(null===(e=n.firstElementChild)||void 0===e?void 0:e.classList)||[]].filter(s=>s.startsWith(t)).map(s=>s.replace(t,""))[0]||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:n,HTMLAttributes:e}){return["pre",xt(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection;return!(!n||e.parent.type.name!==this.name)&&!(1!==e.pos&&e.parent.textContent.length)&&this.editor.commands.clearNodes()},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:i}=t;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith("\n\n");return!(!o||!s)&&n.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:i,empty:o}=t;if(!o||i.parent.type!==this.type||i.parentOffset!==i.parent.nodeSize-2)return!1;const a=i.after();return void 0!==a&&!r.nodeAt(a)&&n.commands.exitCode()}}},addInputRules(){return[c_({find:tG,type:this.type,getAttributes:n=>({language:n[1]})}),c_({find:nG,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new rt({key:new Ct("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=null==i?void 0:i.mode;if(!t||!o)return!1;const{tr:s}=n.state;return s.replaceSelectionWith(this.type.create({language:o})),s.setSelection(ye.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(t.replace(/\r\n?/g,"\n")),s.setMeta("paste",!0),n.dispatch(s),!0}}})]}}),iG=fn.create({name:"doc",topNode:!0,content:"block+"});function oG(n){return void 0===n&&(n={}),new rt({view:function(t){return new hi(t,n)}})}var hi=function(e,t){var r=this;this.editorView=e,this.width=t.width||1,this.color=t.color||"black",this.class=t.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map(function(i){var o=function(s){return r[i](s)};return e.dom.addEventListener(i,o),{name:i,handler:o}})};hi.prototype.destroy=function(){var e=this;this.handlers.forEach(function(t){return e.editorView.dom.removeEventListener(t.name,t.handler)})},hi.prototype.update=function(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())},hi.prototype.setCursor=function(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},hi.prototype.updateOverlay=function(){var t,e=this.editorView.state.doc.resolve(this.cursorPos);if(!e.parent.inlineContent){var r=e.nodeBefore,i=e.nodeAfter;if(r||i){var o=this.editorView.nodeDOM(this.cursorPos-(r?r.nodeSize:0)).getBoundingClientRect(),s=r?o.bottom:o.top;r&&i&&(s=(s+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),t={left:o.left,right:o.right,top:s-this.width/2,bottom:s+this.width/2}}}if(!t){var a=this.editorView.coordsAtPos(this.cursorPos);t={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}var c,u,l=this.editorView.dom.offsetParent;if(this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!l||l==document.body&&"static"==getComputedStyle(l).position)c=-pageXOffset,u=-pageYOffset;else{var d=l.getBoundingClientRect();c=d.left-l.scrollLeft,u=d.top-l.scrollTop}this.element.style.left=t.left-c+"px",this.element.style.top=t.top-u+"px",this.element.style.width=t.right-t.left+"px",this.element.style.height=t.bottom-t.top+"px"},hi.prototype.scheduleRemoval=function(e){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){return t.setCursor(null)},e)},hi.prototype.dragover=function(e){if(this.editorView.editable){var t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=r&&r.type.spec.disableDropCursor,o="function"==typeof i?i(this.editorView,t):i;if(t&&!o){var s=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&null==(s=vT(this.editorView.state.doc,s,this.editorView.dragging.slice)))return this.setCursor(null);this.setCursor(s),this.scheduleRemoval(5e3)}}},hi.prototype.dragend=function(){this.scheduleRemoval(20)},hi.prototype.drop=function(){this.scheduleRemoval(20)},hi.prototype.dragleave=function(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)};const sG=Tt.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:null}),addProseMirrorPlugins(){return[oG(this.options)]}});var pr=function(n){function e(t){n.call(this,t,t)}return n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e,e.prototype.map=function(r,i){var o=r.resolve(i.map(this.head));return e.valid(o)?new e(o):n.near(o)},e.prototype.content=function(){return F.empty},e.prototype.eq=function(r){return r instanceof e&&r.head==this.head},e.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},e.fromJSON=function(r,i){if("number"!=typeof i.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new e(r.resolve(i.pos))},e.prototype.getBookmark=function(){return new Xf(this.anchor)},e.valid=function(r){var i=r.parent;if(i.isTextblock||!function aG(n){for(var e=n.depth;e>=0;e--){var t=n.index(e),r=n.node(e);if(0!=t)for(var i=r.child(t-1);;i=i.lastChild){if(0==i.childCount&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(r)||!function lG(n){for(var e=n.depth;e>=0;e--){var t=n.indexAfter(e),r=n.node(e);if(t!=r.childCount)for(var i=r.child(t);;i=i.firstChild){if(0==i.childCount&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(r))return!1;var o=i.type.spec.allowGapCursor;if(null!=o)return o;var s=i.contentMatchAt(r.index()).defaultType;return s&&s.isTextblock},e.findFrom=function(r,i,o){e:for(;;){if(!o&&e.valid(r))return r;for(var s=r.pos,a=null,l=r.depth;;l--){var c=r.node(l);if(i>0?r.indexAfter(l)<c.childCount:r.index(l)>0){a=c.child(i>0?r.indexAfter(l):r.index(l)-1);break}if(0==l)return null;var u=r.doc.resolve(s+=i);if(e.valid(u))return u}for(;;){var d=i>0?a.firstChild:a.lastChild;if(!d){if(a.isAtom&&!a.isText&&!ne.isSelectable(a)){r=r.doc.resolve(s+a.nodeSize*i),o=!1;continue e}break}a=d;var f=r.doc.resolve(s+=i);if(e.valid(f))return f}return null}},e}(ue);pr.prototype.visible=!1,ue.jsonID("gapcursor",pr);var Xf=function(e){this.pos=e};Xf.prototype.map=function(e){return new Xf(e.map(this.pos))},Xf.prototype.resolve=function(e){var t=e.resolve(this.pos);return pr.valid(t)?new pr(t):ue.near(t)};var uG=rA({ArrowLeft:eh("horiz",-1),ArrowRight:eh("horiz",1),ArrowUp:eh("vert",-1),ArrowDown:eh("vert",1)});function eh(n,e){var t="vert"==n?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){var s=r.selection,a=e>0?s.$to:s.$from,l=s.empty;if(s instanceof ye){if(!o.endOfTextblock(t)||0==a.depth)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}var c=pr.findFrom(a,e,l);return!!c&&(i&&i(r.tr.setSelection(new pr(c))),!0)}}function dG(n,e,t){if(!n.editable)return!1;var r=n.state.doc.resolve(e);if(!pr.valid(r))return!1;var o=n.posAtCoords({left:t.clientX,top:t.clientY}).inside;return!(o>-1&&ne.isSelectable(n.state.doc.nodeAt(o))||(n.dispatch(n.state.tr.setSelection(new pr(r))),0))}function fG(n,e){if("insertCompositionText"!=e.inputType||!(n.state.selection instanceof pr))return!1;var r=n.state.selection.$from,i=r.parent.contentMatchAt(r.index()).findWrapping(n.state.schema.nodes.text);if(!i)return!1;for(var o=M.empty,s=i.length-1;s>=0;s--)o=M.from(i[s].createAndFill(null,o));var a=n.state.tr.replace(r.pos,r.pos,new F(o,0,0));return a.setSelection(ye.near(a.doc.resolve(r.pos+1))),n.dispatch(a),!1}function hG(n){if(!(n.selection instanceof pr))return null;var e=document.createElement("div");return e.className="ProseMirror-gapcursor",Oe.create(n.doc,[Dt.widget(n.selection.head,e,{key:"gapcursor"})])}const pG=Tt.create({name:"gapCursor",addProseMirrorPlugins:()=>[new rt({props:{decorations:hG,createSelectionBetween:function(e,t,r){if(t.pos==r.pos&&pr.valid(r))return new pr(r)},handleClick:dG,handleKeyDown:uG,handleDOMEvents:{beforeinput:fG}}})],extendNodeSchema(n){var e;return{allowGapCursor:null!==(e=pe(j(n,"allowGapCursor",{name:n.name,options:n.options,storage:n.storage})))&&void 0!==e?e:null}}}),gG=fn.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:n}){return["br",xt(this.options.HTMLAttributes,n)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:o}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=r.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&s){const d=l.filter(f=>a.includes(f.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),mG=fn.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,xt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>!!this.options.levels.includes(n.level)&&e.setNode(this.name,n),toggleHeading:n=>({commands:e})=>!!this.options.levels.includes(n.level)&&e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>pn(S({},n),{[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>c_({find:new RegExp(`^(#{1,${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var Yt=function(){};Yt.prototype.append=function(e){return e.length?(e=Yt.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},Yt.prototype.prepend=function(e){return e.length?Yt.from(e).append(this):this},Yt.prototype.appendInner=function(e){return new vG(this,e)},Yt.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?Yt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},Yt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},Yt.prototype.forEach=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)},Yt.prototype.map=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},t,r),i},Yt.from=function(e){return e instanceof Yt?e:e&&e.length?new MA(e):Yt.empty};var MA=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return 0==i&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(!1===i(this.values[l],a+l))return!1},e.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(!1===i(this.values[l],a+l))return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=200)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=200)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Yt);Yt.empty=new MA([]);var vG=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&!1===this.left.forEachInner(r,i,Math.min(o,a),s)||o>a&&!1===this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a))return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&!1===this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)||o<a&&!1===this.left.forEachInvertedInner(r,Math.min(i,a),o,s))return!1},e.prototype.sliceInner=function(r,i){if(0==r&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Yt);const IA=Yt;var Qt=function(e,t){this.items=e,this.eventCount=t};Qt.prototype.popEvent=function(e,t){var s,a,r=this;if(0==this.eventCount)return null;for(var i=this.items.length;;i--)if(this.items.get(i-1).selection){--i;break}t&&(s=this.remapping(i,this.items.length),a=s.maps.length);var c,u,l=e.tr,d=[],f=[];return this.items.forEach(function(h,p){if(!h.step)return s||(s=r.remapping(i,p+1),a=s.maps.length),a--,void f.push(h);if(s){f.push(new pi(h.map));var m,g=h.step.map(s.slice(a));g&&l.maybeStep(g).doc&&d.push(new pi(m=l.mapping.maps[l.mapping.maps.length-1],null,null,d.length+f.length)),a--,m&&s.appendMap(m,a)}else l.maybeStep(h.step);return h.selection?(c=s?h.selection.map(s.slice(a)):h.selection,u=new Qt(r.items.slice(0,i).append(f.reverse().concat(d)),r.eventCount-1),!1):void 0},this.items.length,0),{remaining:u,transform:l,selection:c}},Qt.prototype.addTransform=function(e,t,r,i){for(var o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null,c=0;c<e.steps.length;c++){var f,u=e.steps[c].invert(e.docs[c]),d=new pi(e.mapping.maps[c],u,t);(f=l&&l.merge(d))&&(d=f,c?o.pop():a=a.slice(0,a.length-1)),o.push(d),t&&(s++,t=null),i||(l=d)}var h=s-r.depth;return h>CG&&(a=function bG(n,e){var t;return n.forEach(function(r,i){if(r.selection&&0==e--)return t=i,!1}),n.slice(t)}(a,h),s-=h),new Qt(a.append(o),s)},Qt.prototype.remapping=function(e,t){var r=new cn;return this.items.forEach(function(i,o){r.appendMap(i.map,null!=i.mirrorOffset&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:null)},e,t),r},Qt.prototype.addMaps=function(e){return 0==this.eventCount?this:new Qt(this.items.append(e.map(function(t){return new pi(t)})),this.eventCount)},Qt.prototype.rebased=function(e,t){if(!this.eventCount)return this;var r=[],i=Math.max(0,this.items.length-t),o=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(function(h){h.selection&&a--},i);var l=t;this.items.forEach(function(h){var p=o.getMirror(--l);if(null!=p){s=Math.min(s,p);var g=o.maps[p];if(h.step){var m=e.steps[p].invert(e.docs[p]),y=h.selection&&h.selection.map(o.slice(l+1,p));y&&a++,r.push(new pi(g,m,y))}else r.push(new pi(g))}},i);for(var c=[],u=t;u<s;u++)c.push(new pi(o.maps[u]));var d=this.items.slice(0,i).append(c).append(r),f=new Qt(d,a);return f.emptyItemCount()>500&&(f=f.compress(this.items.length-r.length)),f},Qt.prototype.emptyItemCount=function(){var e=0;return this.items.forEach(function(t){t.step||e++}),e},Qt.prototype.compress=function(e){void 0===e&&(e=this.items.length);var t=this.remapping(0,e),r=t.maps.length,i=[],o=0;return this.items.forEach(function(s,a){if(a>=e)i.push(s),s.selection&&o++;else if(s.step){var l=s.step.map(t.slice(r)),c=l&&l.getMap();if(r--,c&&t.appendMap(c,r),l){var u=s.selection&&s.selection.map(t.slice(r));u&&o++;var f,d=new pi(c.invert(),l,u),h=i.length-1;(f=i.length&&i[h].merge(d))?i[h]=f:i.push(d)}}else s.map&&r--},this.items.length,0),new Qt(IA.from(i.reverse()),o)},Qt.empty=new Qt(IA.empty,0);var pi=function(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i};pi.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var t=e.step.merge(this.step);if(t)return new pi(t.getMap().invert(),t,this.selection)}};var Ao=function(e,t,r,i){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i},CG=20;function TA(n){var e=[];return n.forEach(function(t,r,i,o){return e.push(i,o)}),e}function f_(n,e){if(!n)return null;for(var t=[],r=0;r<n.length;r+=2){var i=e.map(n[r],1),o=e.map(n[r+1],-1);i<=o&&t.push(i,o)}return t}function xA(n,e,t,r){var i=nh(e),o=gi.get(e).spec.config,s=(r?n.undone:n.done).popEvent(e,i);if(s){var a=s.selection.resolve(s.transform.doc),l=(r?n.done:n.undone).addTransform(s.transform,e.selection.getBookmark(),o,i),c=new Ao(r?l:s.remaining,r?s.remaining:l,null,0);t(s.transform.setSelection(a).setMeta(gi,{redo:r,historyState:c}).scrollIntoView())}}var h_=!1,AA=null;function nh(n){var e=n.plugins;if(AA!=e){h_=!1,AA=e;for(var t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){h_=!0;break}}return h_}var gi=new Ct("history"),OA=new Ct("closeHistory");function wG(n){return new rt({key:gi,state:{init:function(){return new Ao(Qt.empty,Qt.empty,null,0)},apply:function(t,r,i){return function DG(n,e,t,r){var o,i=t.getMeta(gi);if(i)return i.historyState;t.getMeta(OA)&&(n=new Ao(n.done,n.undone,null,0));var s=t.getMeta("appendedTransaction");if(0==t.steps.length)return n;if(s&&s.getMeta(gi))return s.getMeta(gi).redo?new Ao(n.done.addTransform(t,null,r,nh(e)),n.undone,TA(t.mapping.maps[t.steps.length-1]),n.prevTime):new Ao(n.done,n.undone.addTransform(t,null,r,nh(e)),null,n.prevTime);if(!1===t.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(o=t.getMeta("rebased"))?new Ao(n.done.rebased(t,o),n.undone.rebased(t,o),f_(n.prevRanges,t.mapping),n.prevTime):new Ao(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),f_(n.prevRanges,t.mapping),n.prevTime);var a=0==n.prevTime||!s&&(n.prevTime<(t.time||0)-r.newGroupDelay||!function EG(n,e){if(!e)return!1;if(!n.docChanged)return!0;var t=!1;return n.mapping.maps[0].forEach(function(r,i){for(var o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(t=!0)}),t}(t,n.prevRanges)),l=s?f_(n.prevRanges,t.mapping):TA(t.mapping.maps[t.steps.length-1]);return new Ao(n.done.addTransform(t,a?e.selection.getBookmark():null,r,nh(e)),Qt.empty,l,t.time)}(r,i,t,n)}},config:n={depth:n&&n.depth||100,newGroupDelay:n&&n.newGroupDelay||500},props:{handleDOMEvents:{beforeinput:function(t,r){var i="historyUndo"==r.inputType?kA(t.state,t.dispatch):"historyRedo"==r.inputType&&NA(t.state,t.dispatch);return i&&r.preventDefault(),i}}}})}function kA(n,e){var t=gi.getState(n);return!(!t||0==t.done.eventCount||(e&&xA(t,n,e,!1),0))}function NA(n,e){var t=gi.getState(n);return!(!t||0==t.undone.eventCount||(e&&xA(t,n,e,!0),0))}const SG=Tt.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:n,dispatch:e})=>kA(n,e),redo:()=>({state:n,dispatch:e})=>NA(n,e)}),addProseMirrorPlugins(){return[wG(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-\u044f":()=>this.editor.commands.undo(),"Shift-Mod-\u044f":()=>this.editor.commands.redo()}}}),MG=fn.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:n}){return["hr",xt(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n})=>n().insertContent({type:this.name}).command(({tr:e,dispatch:t})=>{var r;if(t){const{$to:i}=e.selection,o=i.end();if(i.nodeAfter)e.setSelection(ye.create(e.doc,i.pos));else{const s=null===(r=i.parent.type.contentMatch.defaultType)||void 0===r?void 0:r.create();s&&(e.insert(o,s),e.setSelection(ye.create(e.doc,o)))}e.scrollIntoView()}return!0}).run()}},addInputRules(){return[P5({find:/^(?:---|\u2014-|___\s|\*\*\*\s)$/,type:this.type})]}}),IG=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,TG=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,xG=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,AG=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,OG=fi.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"em"},{tag:"i",getAttrs:n=>"normal"!==n.style.fontStyle&&null},{style:"font-style=italic"}],renderHTML({HTMLAttributes:n}){return["em",xt(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ms({find:IG,type:this.type}),ms({find:xG,type:this.type})]},addPasteRules(){return[xo({find:TG,type:this.type}),xo({find:AG,type:this.type})]}}),kG=fn.create({name:"listItem",addOptions:()=>({HTMLAttributes:{}}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:n}){return["li",xt(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),NG=/^(\d+)\.\s$/,RG=fn.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:n}){const r=n,{start:e}=r,t=M1(r,["start"]);return 1===e?["ol",xt(this.options.HTMLAttributes,t),0]:["ol",xt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n})=>n.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[u_({find:NG,type:this.type,getAttributes:n=>({start:+n[1]}),joinPredicate:(n,e)=>e.childCount+e.attrs.start===+n[1]})]}}),PG=fn.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:n}){return["p",xt(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),FG=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,LG=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,BG=fi.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>!!n.includes("line-through")&&{}}],renderHTML({HTMLAttributes:n}){return["s",xt(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ms({find:FG,type:this.type})]},addPasteRules(){return[xo({find:LG,type:this.type})]}}),jG=fn.create({name:"text",group:"inline"}),VG=Tt.create({name:"starterKit",addExtensions(){var n,e,t,r,i,o,s,a,l,c,u,d,f,h,p,g,m,y;const v=[];return!1!==this.options.blockquote&&v.push(W5.configure(null===(n=this.options)||void 0===n?void 0:n.blockquote)),!1!==this.options.bold&&v.push(Z5.configure(null===(e=this.options)||void 0===e?void 0:e.bold)),!1!==this.options.bulletList&&v.push(Q5.configure(null===(t=this.options)||void 0===t?void 0:t.bulletList)),!1!==this.options.code&&v.push(eG.configure(null===(r=this.options)||void 0===r?void 0:r.code)),!1!==this.options.codeBlock&&v.push(rG.configure(null===(i=this.options)||void 0===i?void 0:i.codeBlock)),!1!==this.options.document&&v.push(iG.configure(null===(o=this.options)||void 0===o?void 0:o.document)),!1!==this.options.dropcursor&&v.push(sG.configure(null===(s=this.options)||void 0===s?void 0:s.dropcursor)),!1!==this.options.gapcursor&&v.push(pG.configure(null===(a=this.options)||void 0===a?void 0:a.gapcursor)),!1!==this.options.hardBreak&&v.push(gG.configure(null===(l=this.options)||void 0===l?void 0:l.hardBreak)),!1!==this.options.heading&&v.push(mG.configure(null===(c=this.options)||void 0===c?void 0:c.heading)),!1!==this.options.history&&v.push(SG.configure(null===(u=this.options)||void 0===u?void 0:u.history)),!1!==this.options.horizontalRule&&v.push(MG.configure(null===(d=this.options)||void 0===d?void 0:d.horizontalRule)),!1!==this.options.italic&&v.push(OG.configure(null===(f=this.options)||void 0===f?void 0:f.italic)),!1!==this.options.listItem&&v.push(kG.configure(null===(h=this.options)||void 0===h?void 0:h.listItem)),!1!==this.options.orderedList&&v.push(RG.configure(null===(p=this.options)||void 0===p?void 0:p.orderedList)),!1!==this.options.paragraph&&v.push(PG.configure(null===(g=this.options)||void 0===g?void 0:g.paragraph)),!1!==this.options.strike&&v.push(BG.configure(null===(m=this.options)||void 0===m?void 0:m.strike)),!1!==this.options.text&&v.push(jG.configure(null===(y=this.options)||void 0===y?void 0:y.text)),v}}),HG=Tt.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something \u2026",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new rt({props:{decorations:({doc:n,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(t)return n.descendants((o,s)=>{const a=r>=s&&r<=s+o.nodeSize;if((a||!this.options.showOnlyCurrent)&&!o.isLeaf&&!o.childCount){const c=[this.options.emptyNodeClass];this.editor.isEmpty&&c.push(this.options.emptyEditorClass);const u=Dt.node(s,s+o.nodeSize,{class:c.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:o,pos:s,hasAnchor:a}):this.options.placeholder});i.push(u)}return this.options.includeChildren}),Oe.create(n,i)}}})]}});function se(...n){let e=n[n.length-1];return Os(e)?(n.pop(),gp(n,e)):mp(n)}class Vr extends Me{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Uo;return this._value}next(e){super.next(this._value=e)}}class UG extends tt{notifyNext(e,t,r,i,o){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class zG extends tt{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function WG(n,e,t,r,i=new zG(n,t,r)){if(!i.closed)return e instanceof Ne?e.subscribe(i):pp(e)(i)}const RA={};class GG{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new qG(e,this.resultSelector))}}class qG extends UG{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(RA),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(WG(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const i=this.values,s=this.toRespond?i[r]===RA?--this.toRespond:this.toRespond:0;i[r]=t,0===s&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const rh=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function p_(...n){return function KG(){return yl(1)}()(se(...n))}const Ua=new Ne(n=>n.complete());function ih(n){return n?function ZG(n){return new Ne(e=>n.schedule(()=>e.complete()))}(n):Ua}function PA(n){return new Ne(e=>{let t;try{t=n()}catch(i){return void e.error(i)}return(t?zt(t):ih()).subscribe(e)})}function mi(n,e){return"function"==typeof e?t=>t.pipe(mi((r,i)=>zt(n(r,i)).pipe(be((o,s)=>e(r,o,i,s))))):t=>t.lift(new YG(n))}class YG{constructor(e){this.project=e}call(e,t){return t.subscribe(new QG(e,this.project))}}class QG extends ml{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new gl(this),i=this.destination;i.add(r),this.innerSubscription=vl(e,r),this.innerSubscription!==r&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const FA=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function vs(n){return e=>0===n?ih():e.lift(new JG(n))}class JG{constructor(e){if(this.total=e,this.total<0)throw new FA}call(e,t){return t.subscribe(new XG(e,this.total))}}class XG extends tt{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function LA(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(i){return i.lift(new t6(n,e,t))}}class t6{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new n6(e,this.accumulator,this.seed,this.hasSeed))}}class n6 extends tt{constructor(e,t,r,i){super(e),this.accumulator=t,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}}function Oo(n){return function(t){const r=new r6(n),i=t.lift(r);return r.caught=i}}class r6{constructor(e){this.selector=e}call(e,t){return t.subscribe(new i6(e,this.selector,this.caught))}}class i6 extends ml{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(o){return void super.error(o)}this._unsubscribeAndRecycle();const r=new gl(this);this.add(r);const i=vl(t,r);i!==r&&this.add(i)}}}function za(n,e){return Wt(n,e,1)}function g_(n){return function(t){return 0===n?ih():t.lift(new o6(n))}}class o6{constructor(e){if(this.total=e,this.total<0)throw new FA}call(e,t){return t.subscribe(new s6(e,this.total))}}class s6 extends tt{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,i=this.count++;t.length<r?t.push(e):t[i%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,i=this.ring;for(let o=0;o<r;o++){const s=t++%r;e.next(i[s])}}e.complete()}}function BA(n=c6){return e=>e.lift(new a6(n))}class a6{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new l6(e,this.errorFactory))}}class l6 extends tt{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function c6(){return new rh}function jA(n=null){return e=>e.lift(new u6(n))}class u6{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new d6(e,this.defaultValue))}}class d6 extends tt{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Wa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?_o((i,o)=>n(i,o,r)):Au,vs(1),t?jA(e):BA(()=>new rh))}class p6{constructor(e){this.callback=e}call(e,t){return t.subscribe(new g6(e,this.callback))}}class g6 extends tt{constructor(e,t){super(e),this.add(new ke(t))}}class $i{constructor(e,t){this.id=e,this.url=t}}class m_ extends $i{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $c extends $i{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class VA extends $i{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class m6 extends $i{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class v6 extends $i{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y6 extends $i{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _6 extends $i{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class b6 extends $i{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class C6 extends $i{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HA{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class UA{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class D6{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class E6{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class w6{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class S6{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zA{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const me="primary";class M6{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function $a(n){return new M6(n)}const WA="ngNavigationCancelingError";function v_(n){const e=Error("NavigationCancelingError: "+n);return e[WA]=!0,e}function T6(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function vi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!$A(n[i],e[i]))return!1;return!0}function $A(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function GA(n){return Array.prototype.concat.apply([],n)}function qA(n){return n.length>0?n[n.length-1]:null}function Jt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function yi(n){return lm(n)?n:ql(n)?zt(Promise.resolve(n)):se(n)}const O6={exact:function YA(n,e,t){if(!_s(n.segments,e.segments)||!oh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!YA(n.children[r],e.children[r],t))return!1;return!0},subset:QA},KA={exact:function k6(n,e){return vi(n,e)},subset:function N6(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>$A(n[t],e[t]))},ignored:()=>!0};function ZA(n,e,t){return O6[t.paths](n.root,e.root,t.matrixParams)&&KA[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function QA(n,e,t){return JA(n,e,e.segments,t)}function JA(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!_s(i,t)||e.hasChildren()||!oh(i,t,r))}if(n.segments.length===t.length){if(!_s(n.segments,t)||!oh(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!QA(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(_s(n.segments,i)&&oh(n.segments,i,r)&&n.children[me])&&JA(n.children[me],e,o,r)}}function oh(n,e,t){return e.every((r,i)=>KA[t](n[i].parameters,r.parameters))}class ys{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$a(this.queryParams)),this._queryParamMap}toString(){return F6.serialize(this)}}class De{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Jt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sh(this)}}class Gc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=$a(this.parameters)),this._parameterMap}toString(){return rO(this)}}function _s(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class XA{}class eO{parse(e){const t=new $6(e);return new ys(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${qc(e.root,!0)}`,r=function j6(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ah(t)}=${ah(i)}`).join("&"):`${ah(t)}=${ah(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function L6(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const F6=new eO;function sh(n){return n.segments.map(e=>rO(e)).join("/")}function qc(n,e){if(!n.hasChildren())return sh(n);if(e){const t=n.children[me]?qc(n.children[me],!1):"",r=[];return Jt(n.children,(i,o)=>{o!==me&&r.push(`${o}:${qc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function P6(n,e){let t=[];return Jt(n.children,(r,i)=>{i===me&&(t=t.concat(e(r,i)))}),Jt(n.children,(r,i)=>{i!==me&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===me?[qc(n.children[me],!1)]:[`${i}:${qc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[me]?`${sh(n)}/${t[0]}`:`${sh(n)}/(${t.join("//")})`}}function tO(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ah(n){return tO(n).replace(/%3B/gi,";")}function y_(n){return tO(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lh(n){return decodeURIComponent(n)}function nO(n){return lh(n.replace(/\+/g,"%20"))}function rO(n){return`${y_(n.path)}${function B6(n){return Object.keys(n).map(e=>`;${y_(e)}=${y_(n[e])}`).join("")}(n.parameters)}`}const V6=/^[^\/()?;=#]+/;function ch(n){const e=n.match(V6);return e?e[0]:""}const H6=/^[^=?&#]+/,z6=/^[^&#]+/;class $6{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[me]=new De(e,t)),r}parseSegment(){const e=ch(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Gc(lh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ch(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=ch(this.remaining);i&&(r=i,this.capture(r))}e[lh(t)]=lh(r)}parseQueryParam(e){const t=function U6(n){const e=n.match(H6);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function W6(n){const e=n.match(z6);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=nO(t),o=nO(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ch(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let o;r.indexOf(":")>-1?(o=r.substr(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=me);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[me]:new De([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class iO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=__(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=__(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=b_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return b_(e,this._root).map(t=>t.value)}}function __(n,e){if(n===e.value)return e;for(const t of e.children){const r=__(n,t);if(r)return r}return null}function b_(n,e){if(n===e.value)return[e];for(const t of e.children){const r=b_(n,t);if(r.length)return r.unshift(e),r}return[]}class Gi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ga(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class oO extends iO{constructor(e,t){super(e),this.snapshot=t,C_(this,e)}toString(){return this.snapshot.toString()}}function sO(n,e){const t=function G6(n,e){const s=new uh([],{},{},"",{},me,e,null,n.root,-1,{});return new lO("",new Gi(s,[]))}(n,e),r=new Vr([new Gc("",{})]),i=new Vr({}),o=new Vr({}),s=new Vr({}),a=new Vr(""),l=new qa(r,i,s,a,o,me,e,t.root);return l.snapshot=t.root,new oO(new Gi(l,[]),t)}class qa{constructor(e,t,r,i,o,s,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(be(e=>$a(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(be(e=>$a(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function aO(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function q6(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class uh{constructor(e,t,r,i,o,s,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$a(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$a(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class lO extends iO{constructor(e,t){super(t),this.url=e,C_(this,t)}toString(){return cO(this._root)}}function C_(n,e){e.value._routerState=n,e.children.forEach(t=>C_(n,t))}function cO(n){const e=n.children.length>0?` { ${n.children.map(cO).join(", ")} } `:"";return`${n.value}${e}`}function D_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,vi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),vi(e.params,t.params)||n.params.next(t.params),function x6(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!vi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),vi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function E_(n,e){const t=vi(n.params,e.params)&&function R6(n,e){return _s(n,e)&&n.every((t,r)=>vi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||E_(n.parent,e.parent))}function Kc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Z6(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Kc(n,r,i);return Kc(n,r)})}(n,e,t);return new Gi(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Kc(n,a)),s}}const r=function Y6(n){return new qa(new Vr(n.url),new Vr(n.params),new Vr(n.queryParams),new Vr(n.fragment),new Vr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Kc(n,o));return new Gi(r,i)}}function dh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Zc(n){return"object"==typeof n&&null!=n&&n.outlets}function w_(n,e,t,r,i){let o={};return r&&Jt(r,(s,a)=>{o[a]=Array.isArray(s)?s.map(l=>`${l}`):`${s}`}),new ys(t.root===n?e:uO(t.root,n,e),o,i)}function uO(n,e,t){const r={};return Jt(n.children,(i,o)=>{r[o]=i===e?t:uO(i,e,t)}),new De(n.segments,r)}class dO{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&dh(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Zc);if(i&&i!==qA(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class S_{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function fO(n,e,t){if(n||(n=new De([],{})),0===n.segments.length&&n.hasChildren())return fh(n,e,t);const r=function nq(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(Zc(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!pO(l,c,s))return o;r+=2}else{if(!pO(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new De(n.segments.slice(0,r.pathIndex),{});return o.children[me]=new De(n.segments.slice(r.pathIndex),n.children),fh(o,0,i)}return r.match&&0===i.length?new De(n.segments,{}):r.match&&!n.hasChildren()?M_(n,e,t):r.match?fh(n,0,i):M_(n,e,t)}function fh(n,e,t){if(0===t.length)return new De(n.segments,{});{const r=function tq(n){return Zc(n[0])?n[0].outlets:{[me]:n}}(t),i={};return Jt(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=fO(n.children[s],e,o))}),Jt(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new De(n.segments,i)}}function M_(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(Zc(o)){const l=rq(o.outlets);return new De(r,l)}if(0===i&&dh(t[0])){r.push(new Gc(n.segments[e].path,hO(t[0]))),i++;continue}const s=Zc(o)?o.outlets[me]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&dh(a)?(r.push(new Gc(s,hO(a))),i+=2):(r.push(new Gc(s,{})),i++)}return new De(r,{})}function rq(n){const e={};return Jt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=M_(new De([],{}),0,t))}),e}function hO(n){const e={};return Jt(n,(t,r)=>e[r]=`${t}`),e}function pO(n,e,t){return n==t.path&&vi(e,t.parameters)}class oq{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),D_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ga(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Jt(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ga(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ga(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ga(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new S6(o.value.snapshot))}),e.children.length&&this.forwardEvent(new E6(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(D_(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),D_(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=function sq(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=i,s.resolver=l,s.outlet&&s.outlet.activateWith(i,l),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class I_{constructor(e,t){this.routes=e,this.module=t}}function ko(n){return"function"==typeof n}function bs(n){return n instanceof ys}const Yc=Symbol("INITIAL_VALUE");function Qc(){return mi(n=>function $G(...n){let e,t;return Os(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&hl(n[0])&&(n=n[0]),mp(n,t).lift(new GG(e))}(n.map(e=>e.pipe(vs(1),function e6(...n){const e=n[n.length-1];return Os(e)?(n.pop(),t=>p_(n,t,e)):t=>p_(n,t)}(Yc)))).pipe(LA((e,t)=>{let r=!1;return t.reduce((i,o,s)=>i!==Yc?i:(o===Yc&&(r=!0),r||!1!==o&&s!==t.length-1&&!bs(o)?i:o),e)},Yc),_o(e=>e!==Yc),be(e=>bs(e)?e:!0===e),vs(1)))}class fq{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Jc,this.attachRef=null}}class Jc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new fq,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let gO=(()=>{class n{constructor(t,r,i,o,s){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ae,this.deactivateEvents=new Ae,this.attachEvents=new Ae,this.detachEvents=new Ae,this.name=o||me,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const s=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new hq(t,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(w(Jc),w(sr),w(Ri),function Tl(n){return function rR(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(cC(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(Ot(),n)}("name"),w(es))},n.\u0275dir=Y({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class hq{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===qa?this.route:e===Jc?this.childContexts:this.parent.get(e,t)}}let mO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Et({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&$t(0,"router-outlet")},directives:[gO],encapsulation:2}),n})();function vO(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];pq(r,gq(e,r))}}function pq(n,e){n.children&&vO(n.children,e)}function gq(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function T_(n){const e=n.children&&n.children.map(T_),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==me&&(t.component=mO),t}function gr(n){return n.outlet||me}function yO(n,e){const t=n.filter(r=>gr(r)===e);return t.push(...n.filter(r=>gr(r)!==e)),t}const _O={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function hh(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},_O):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const o=(e.matcher||T6)(t,n,e);if(!o)return Object.assign({},_O);const s={};Jt(o.posParams,(l,c)=>{s[c]=l.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:a,positionalParamSegments:null!==(r=o.posParams)&&void 0!==r?r:{}}}function ph(n,e,t,r,i="corrected"){if(t.length>0&&function yq(n,e,t){return t.some(r=>gh(n,e,r)&&gr(r)!==me)}(n,t,r)){const s=new De(e,function vq(n,e,t,r){const i={};i[me]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&gr(o)!==me){const s=new De([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,i[gr(o)]=s}return i}(n,e,r,new De(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function _q(n,e,t){return t.some(r=>gh(n,e,r))}(n,t,r)){const s=new De(n.segments,function mq(n,e,t,r,i,o){const s={};for(const a of r)if(gh(n,t,a)&&!i[gr(a)]){const l=new De([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:e.length,s[gr(a)]=l}return Object.assign(Object.assign({},i),s)}(n,e,t,r,n.children,i));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const o=new De(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function gh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function bO(n,e,t,r){return!!(gr(n)===r||r!==me&&gh(e,t,n))&&("**"===n.path||hh(e,n,t).matched)}function CO(n,e,t){return 0===e.length&&!n.children[t]}class Xc{constructor(e){this.segmentGroup=e||null}}class DO{constructor(e){this.urlTree=e}}function mh(n){return new Ne(e=>e.error(new Xc(n)))}function EO(n){return new Ne(e=>e.error(new DO(n)))}function bq(n){return new Ne(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Eq{constructor(e,t,r,i,o){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(Pi)}apply(){const e=ph(this.urlTree.root,[],[],this.config).segmentGroup,t=new De(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,me).pipe(be(o=>this.createUrlTree(x_(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Oo(o=>{if(o instanceof DO)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Xc?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,me).pipe(be(i=>this.createUrlTree(x_(i),e.queryParams,e.fragment))).pipe(Oo(i=>{throw i instanceof Xc?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new De([],{[me]:e}):e;return new ys(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(be(o=>new De([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return zt(i).pipe(za(o=>{const s=r.children[o],a=yO(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(be(l=>({segment:l,outlet:o})))}),LA((o,s)=>(o[s.outlet]=s.segment,o),{}),function f6(n,e){const t=arguments.length>=2;return r=>r.pipe(n?_o((i,o)=>n(i,o,r)):Au,g_(1),t?jA(e):BA(()=>new rh))}())}expandSegment(e,t,r,i,o,s){return zt(r).pipe(za(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,o,s).pipe(Oo(c=>{if(c instanceof Xc)return se(null);throw c}))),Wa(a=>!!a),Oo((a,l)=>{if(a instanceof rh||"EmptyError"===a.name){if(CO(t,i,o))return se(new De([],{}));throw new Xc(t)}throw a}))}expandSegmentAgainstRoute(e,t,r,i,o,s,a){return bO(i,t,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s):mh(t):mh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?EO(o):this.lineralizeSegments(r,o).pipe(Wt(s=>{const a=new De(s,{});return this.expandSegment(e,a,t,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:l,lastChild:c,positionalParamSegments:u}=hh(t,i,o);if(!a)return mh(t);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?EO(d):this.lineralizeSegments(i,d).pipe(Wt(f=>this.expandSegment(e,t,r,f.concat(o.slice(c)),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){if("**"===r.path)return r.loadChildren?(r._loadedConfig?se(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(be(f=>(r._loadedConfig=f,new De(i,{})))):se(new De(i,{}));const{matched:s,consumedSegments:a,lastChild:l}=hh(t,r,i);if(!s)return mh(t);const c=i.slice(l);return this.getChildConfig(e,r,i).pipe(Wt(d=>{const f=d.module,h=d.routes,{segmentGroup:p,slicedSegments:g}=ph(t,a,c,h),m=new De(p.segments,p.children);if(0===g.length&&m.hasChildren())return this.expandChildren(f,h,m).pipe(be(_=>new De(a,_)));if(0===h.length&&0===g.length)return se(new De(a,{}));const y=gr(r)===o;return this.expandSegment(f,m,h,g,y?me:o,!0).pipe(be(b=>new De(a.concat(b.segments),b.children)))}))}getChildConfig(e,t,r){return t.children?se(new I_(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?se(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(Wt(i=>i?this.configLoader.load(e.injector,t).pipe(be(o=>(t._loadedConfig=o,o))):function Cq(n){return new Ne(e=>e.error(v_(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):se(new I_([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;if(!i||0===i.length)return se(!0);const o=i.map(s=>{const a=e.get(s);let l;if(function lq(n){return n&&ko(n.canLoad)}(a))l=a.canLoad(t,r);else{if(!ko(a))throw new Error("Invalid CanLoad guard");l=a(t,r)}return yi(l)});return se(o).pipe(Qc(),kn(s=>{if(!bs(s))return;const a=v_(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),be(s=>!0===s))}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return se(r);if(i.numberOfChildren>1||!i.children[me])return bq(e.redirectTo);i=i.children[me]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new ys(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Jt(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Jt(t.children,(a,l)=>{s[l]=this.createSegmentGroup(e,a,r,i)}),new De(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function x_(n){const e={};for(const r of Object.keys(n.children)){const o=x_(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function wq(n){if(1===n.numberOfChildren&&n.children[me]){const e=n.children[me];return new De(n.segments.concat(e.segments),e.children)}return n}(new De(n.segments,e))}class wO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class vh{constructor(e,t){this.component=e,this.route=t}}function Mq(n,e,t){const r=n._root;return eu(r,e?e._root:null,t,[r.value])}function yh(n,e,t){const r=function Tq(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function eu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ga(e);return n.children.forEach(s=>{(function xq(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Aq(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!_s(n.url,e.url);case"pathParamsOrQueryParamsChange":return!_s(n.url,e.url)||!vi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!E_(n,e)||!vi(n.queryParams,e.queryParams);default:return!E_(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new wO(r)):(o.data=s.data,o._resolvedData=s._resolvedData),eu(n,e,o.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new vh(a.outlet.component,s))}else s&&tu(e,a,i),i.canActivateChecks.push(new wO(r)),eu(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Jt(o,(s,a)=>tu(s,t.getContext(a),i)),i}function tu(n,e,t){const r=Ga(n),i=n.value;Jt(r,(o,s)=>{tu(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new vh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class jq{}function SO(n){return new Ne(e=>e.error(n))}class Hq{constructor(e,t,r,i,o,s){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const e=ph(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,me);if(null===t)return null;const r=new uh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},me,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Gi(r,t),o=new lO(this.url,i);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(e){const t=e.value,r=aO(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const o of Object.keys(t.children)){const s=t.children[o],a=yO(e,o),l=this.processSegmentGroup(a,s,o);if(null===l)return null;r.push(...l)}const i=MO(r);return function Uq(n){n.sort((e,t)=>e.value.outlet===me?-1:t.value.outlet===me?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const o of e){const s=this.processSegmentAgainstRoute(o,t,r,i);if(null!==s)return s}return CO(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!bO(e,t,r,i))return null;let o,s=[],a=[];if("**"===e.path){const h=r.length>0?qA(r).parameters:{};o=new uh(r,h,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xO(e),gr(e),e.component,e,IO(t),TO(t)+r.length,AO(e))}else{const h=hh(t,e,r);if(!h.matched)return null;s=h.consumedSegments,a=r.slice(h.lastChild),o=new uh(s,h.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xO(e),gr(e),e.component,e,IO(t),TO(t)+s.length,AO(e))}const l=function zq(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:u}=ph(t,s,a,l.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const h=this.processChildren(l,c);return null===h?null:[new Gi(o,h)]}if(0===l.length&&0===u.length)return[new Gi(o,[])];const d=gr(e)===i,f=this.processSegment(l,c,u,d?me:i);return null===f?null:[new Gi(o,f)]}}function Wq(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function MO(n){const e=[],t=new Set;for(const r of n){if(!Wq(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=MO(r.children);e.push(new Gi(r.value,i))}return e.filter(r=>!t.has(r))}function IO(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function TO(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function xO(n){return n.data||{}}function AO(n){return n.resolve||{}}function OO(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function A_(n){return mi(e=>{const t=n(e);return t?zt(t).pipe(be(()=>e)):se(e)})}class Jq extends class Qq{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const O_=new G("ROUTES");class kO{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(be(o=>{this.onLoadEndListener&&this.onLoadEndListener(t);const s=o.create(e);return new I_(GA(s.injector.get(O_,void 0,ce.Self|ce.Optional)).map(T_),s)}),Oo(o=>{throw t._loader$=void 0,o}));return t._loader$=new Nb(i,()=>new Me).pipe(yp()),t._loader$}loadModuleFactory(e){return yi(e()).pipe(Wt(t=>t instanceof uw?se(t):zt(this.compiler.compileModuleAsync(t))))}}class e9{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function t9(n){throw n}function n9(n,e,t){return e.parse("/")}function NO(n,e){return se(null)}const r9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},i9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Jn=(()=>{class n{constructor(t,r,i,o,s,a,l){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Me,this.errorHandler=t9,this.malformedUriErrorHandler=n9,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:NO,afterPreactivation:NO},this.urlHandlingStrategy=new e9,this.routeReuseStrategy=new Jq,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(Pi),this.console=s.get(qw);const d=s.get(ot);this.isNgZoneEnabled=d instanceof ot&&ot.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function A6(){return new ys(new De([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new kO(s,a,f=>this.triggerEvent(new HA(f)),f=>this.triggerEvent(new UA(f))),this.routerState=sO(this.currentUrlTree,this.rootComponentType),this.transitions=new Vr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(_o(i=>0!==i.id),be(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),mi(i=>{let o=!1,s=!1;return se(i).pipe(kn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),mi(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return _h(a.source)&&(this.browserUrlTree=a.extractedUrl),se(a).pipe(mi(d=>{const f=this.transitions.getValue();return r.next(new m_(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions.getValue()?Ua:Promise.resolve(d)}),function Sq(n,e,t,r){return mi(i=>function Dq(n,e,t,r,i){return new Eq(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(be(o=>Object.assign(Object.assign({},i),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),kn(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function $q(n,e,t,r,i){return Wt(o=>function Vq(n,e,t,r,i="emptyOnly",o="legacy"){try{const s=new Hq(n,e,t,r,i,o).recognize();return null===s?SO(new jq):se(s)}catch(s){return SO(s)}}(n,e,o.urlAfterRedirects,t(o.urlAfterRedirects),r,i).pipe(be(s=>Object.assign(Object.assign({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),kn(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const h=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(h,d)}this.browserUrlTree=d.urlAfterRedirects}const f=new v6(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(f)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:f,extractedUrl:h,source:p,restoredState:g,extras:m}=a,y=new m_(f,this.serializeUrl(h),p,g);r.next(y);const v=sO(h,this.rootComponentType).snapshot;return se(Object.assign(Object.assign({},a),{targetSnapshot:v,urlAfterRedirects:h,extras:Object.assign(Object.assign({},m),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Ua}),A_(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:f,replaceUrl:h}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!f,replaceUrl:!!h})}),kn(a=>{const l=new y6(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),be(a=>Object.assign(Object.assign({},a),{guards:Mq(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function Oq(n,e){return Wt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?se(Object.assign(Object.assign({},t),{guardsResult:!0})):function kq(n,e,t,r){return zt(n).pipe(Wt(i=>function Bq(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?se(o.map(a=>{const l=yh(a,e,i);let c;if(function dq(n){return n&&ko(n.canDeactivate)}(l))c=yi(l.canDeactivate(n,e,t,r));else{if(!ko(l))throw new Error("Invalid CanDeactivate guard");c=yi(l(n,e,t,r))}return c.pipe(Wa())})).pipe(Qc()):se(!0)}(i.component,i.route,t,e,r)),Wa(i=>!0!==i,!0))}(s,r,i,n).pipe(Wt(a=>a&&function aq(n){return"boolean"==typeof n}(a)?function Nq(n,e,t,r){return zt(e).pipe(za(i=>p_(function Pq(n,e){return null!==n&&e&&e(new D6(n)),se(!0)}(i.route.parent,r),function Rq(n,e){return null!==n&&e&&e(new w6(n)),se(!0)}(i.route,r),function Lq(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Iq(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>PA(()=>se(s.guards.map(l=>{const c=yh(l,s.node,t);let u;if(function uq(n){return n&&ko(n.canActivateChild)}(c))u=yi(c.canActivateChild(r,n));else{if(!ko(c))throw new Error("Invalid CanActivateChild guard");u=yi(c(r,n))}return u.pipe(Wa())})).pipe(Qc())));return se(o).pipe(Qc())}(n,i.path,t),function Fq(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return se(!0);const i=r.map(o=>PA(()=>{const s=yh(o,e,t);let a;if(function cq(n){return n&&ko(n.canActivate)}(s))a=yi(s.canActivate(e,n));else{if(!ko(s))throw new Error("Invalid CanActivate guard");a=yi(s(e,n))}return a.pipe(Wa())}));return se(i).pipe(Qc())}(n,i.route,t))),Wa(i=>!0!==i,!0))}(r,o,n,e):se(a)),be(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),kn(a=>{if(bs(a.guardsResult)){const c=v_(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new _6(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),_o(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),A_(a=>{if(a.guards.canActivateChecks.length)return se(a).pipe(kn(l=>{const c=new b6(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),mi(l=>{let c=!1;return se(l).pipe(function Gq(n,e){return Wt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return se(t);let o=0;return zt(i).pipe(za(s=>function qq(n,e,t,r){return function Kq(n,e,t,r){const i=OO(n);if(0===i.length)return se({});const o={};return zt(i).pipe(Wt(s=>function Zq(n,e,t,r){const i=yh(n,e,r);return yi(i.resolve?i.resolve(e,t):i(e,t))}(n[s],e,t,r).pipe(kn(a=>{o[s]=a}))),g_(1),Wt(()=>OO(o).length===i.length?se(o):Ua))}(n._resolve,n,e,r).pipe(be(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),aO(n,t).resolve),null)))}(s.route,r,n,e)),kn(()=>o++),g_(1),Wt(s=>o===i.length?se(t):Ua))})}(this.paramsInheritanceStrategy,this.ngModule.injector),kn({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),kn(l=>{const c=new C6(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),A_(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:f,replaceUrl:h}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!f,replaceUrl:!!h})}),be(a=>{const l=function K6(n,e,t){const r=Kc(n,e._root,t?t._root:void 0);return new oO(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),kn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>be(r=>(new oq(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),kn({next(){o=!0},complete(){o=!0}}),function h6(n){return e=>e.lift(new p6(n))}(()=>{var a;o||s||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Oo(a=>{if(s=!0,function I6(n){return n&&n[WA]}(a)){const l=bs(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const c=new VA(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_h(i.source)};this.scheduleNavigation(u,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new m6(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Ua}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const o={replaceUrl:!0},s=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(s){const l=Object.assign({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){vO(t),this.config=t.map(T_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,u=l?this.currentUrlTree.fragment:s;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}return null!==d&&(d=this.removeEmptyProps(d)),function Q6(n,e,t,r,i){if(0===t.length)return w_(e.root,e.root,e,r,i);const o=function J6(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new dO(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Jt(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new dO(t,e,r)}(t);if(o.toRoot())return w_(e.root,new De([],{}),e,r,i);const s=function X6(n,e,t){if(n.isAbsolute)return new S_(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const o=t.snapshot._urlSegment;return new S_(o,o===e.root,0)}const r=dh(n.commands[0])?0:1;return function eq(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new S_(r,!1,i-o)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(o,e,n),a=s.processChildren?fh(s.segmentGroup,s.index,o.commands):fO(s.segmentGroup,s.index,o.commands);return w_(s.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,d,null!=u?u:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=bs(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function o9(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},r9):!1===r?Object.assign({},i9):r,bs(t))return ZA(this.currentUrlTree,t,i);const o=this.parseUrl(t);return ZA(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new $c(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,o,s){var a,l,c;if(this.disposed)return Promise.resolve(!1);const u=this.transitions.value,d=_h(r)&&u&&!_h(u.source),f=u.rawUrl.toString()===t.toString(),h=u.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(d&&f&&h)return Promise.resolve(!0);let g,m,y;s?(g=s.resolve,m=s.reject,y=s.promise):y=new Promise((_,C)=>{g=_,m=C});const v=++this.navigationId;let b;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),b=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):b=0,this.setTransition({id:v,targetPageId:b,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:g,reject:m,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(_=>Promise.reject(_))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){var i,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new VA(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){sm()},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();function _h(n){return"imperative"!==n}class RO{}class PO{preload(e,t){return se(null)}}let FO=(()=>{class n{constructor(t,r,i,o){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new kO(i,r,l=>t.triggerEvent(new HA(l)),l=>t.triggerEvent(new UA(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(_o(t=>t instanceof $c),za(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Pi);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const s=o._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(t,o)):o.children&&i.push(this.processRoutes(t,o.children));return zt(i).pipe(yl(),be(o=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?se(r._loadedConfig):this.loader.load(t.injector,r)).pipe(Wt(o=>(r._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(R(Jn),R(Rd),R(yt),R(RO))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),R_=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof m_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof $c&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof zA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new zA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){sm()},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const Cs=new G("ROUTER_CONFIGURATION"),LO=new G("ROUTER_FORROOT_GUARD"),c9=[Km,{provide:XA,useClass:eO},{provide:Jn,useFactory:function p9(n,e,t,r,i,o,s={},a,l){const c=new Jn(null,n,e,t,r,i,GA(o));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function g9(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(s,c),s.enableTracing&&c.events.subscribe(u=>{var d,f;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null===(f=console.groupEnd)||void 0===f||f.call(console)}),c},deps:[XA,Jc,Km,yt,Rd,O_,Cs,[class Xq{},new Yr],[class Yq{},new Yr]]},Jc,{provide:qa,useFactory:function m9(n){return n.routerState.root},deps:[Jn]},FO,PO,class l9{preload(e,t){return t().pipe(Oo(()=>se(null)))}},{provide:Cs,useValue:{enableTracing:!1}}];function u9(){return new Xw("Router",Jn)}let BO=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[c9,jO(t),{provide:LO,useFactory:h9,deps:[[Jn,new Yr,new Ks]]},{provide:Cs,useValue:r||{}},{provide:Ma,useFactory:f9,deps:[ns,[new qs(qm),new Yr],Cs]},{provide:R_,useFactory:d9,deps:[Jn,VH,Cs]},{provide:RO,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:PO},{provide:Xw,multi:!0,useFactory:u9},[P_,{provide:Nd,multi:!0,useFactory:v9,deps:[P_]},{provide:VO,useFactory:y9,deps:[P_]},{provide:Gw,multi:!0,useExisting:VO}]]}}static forChild(t){return{ngModule:n,providers:[jO(t)]}}}return n.\u0275fac=function(t){return new(t||n)(R(LO,8),R(Jn,8))},n.\u0275mod=ut({type:n}),n.\u0275inj=at({}),n})();function d9(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new R_(n,e,t)}function f9(n,e,t={}){return t.useHash?new M2(n,e):new _S(n,e)}function h9(n){return"guarded"}function jO(n){return[{provide:lR,multi:!0,useValue:n},{provide:O_,multi:!0,useValue:n}]}let P_=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Me}appInitializer(){return this.injector.get(E2,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),o=this.injector.get(Jn),s=this.injector.get(Cs);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),r(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?se(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),o.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Cs),i=this.injector.get(FO),o=this.injector.get(R_),s=this.injector.get(Jn),a=this.injector.get(Xo);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&s.initialNavigation(),i.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(R(yt))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();function v9(n){return n.appInitializer.bind(n)}function y9(n){return n.bootstrapListener.bind(n)}const VO=new G("Router Initializer");let HO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[[Pr]]}),n})(),z9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[[Pr,BO,pf,HO],BO,HO]}),n})();function W9(n,e){1&n&&bn(0)}function $9(n,e){if(1&n&&(H(0,"div",8),Ni(1,1),q(2,W9,1,0,"ng-container",6),W()),2&n){const t=U();N(2),k("ngTemplateOutlet",t.headerTemplate)}}function G9(n,e){1&n&&bn(0)}function q9(n,e){if(1&n&&(H(0,"div",9),Ye(1),q(2,G9,1,0,"ng-container",6),W()),2&n){const t=U();N(1),uo(" ",t.header," "),N(1),k("ngTemplateOutlet",t.titleTemplate)}}function K9(n,e){1&n&&bn(0)}function Z9(n,e){if(1&n&&(H(0,"div",10),Ye(1),q(2,K9,1,0,"ng-container",6),W()),2&n){const t=U();N(1),uo(" ",t.subheader," "),N(1),k("ngTemplateOutlet",t.subtitleTemplate)}}function Y9(n,e){1&n&&bn(0)}function Q9(n,e){1&n&&bn(0)}function J9(n,e){if(1&n&&(H(0,"div",11),Ni(1,2),q(2,Q9,1,0,"ng-container",6),W()),2&n){const t=U();N(2),k("ngTemplateOutlet",t.footerTemplate)}}const X9=["*",[["p-header"]],[["p-footer"]]],e7=["*","p-header","p-footer"];let t7=(()=>{class n{constructor(t){this.el=t}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"title":this.titleTemplate=t.template;break;case"subtitle":this.subtitleTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template}})}getBlockableElement(){return this.el.nativeElement.children[0]}}return n.\u0275fac=function(t){return new(t||n)(w(_t))},n.\u0275cmp=Et({type:n,selectors:[["p-card"]],contentQueries:function(t,r,i){if(1&t&&(ai(i,lI,5),ai(i,cI,5),ai(i,jv,4)),2&t){let o;qn(o=Kn())&&(r.headerFacet=o.first),qn(o=Kn())&&(r.footerFacet=o.first),qn(o=Kn())&&(r.templates=o)}},hostAttrs:[1,"p-element"],inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:e7,decls:9,vars:9,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(t,r){1&t&&(ma(X9),H(0,"div",0),q(1,$9,3,1,"div",1),H(2,"div",2),q(3,q9,3,2,"div",3),q(4,Z9,3,2,"div",4),H(5,"div",5),Ni(6),q(7,Y9,1,0,"ng-container",6),W(),q(8,J9,3,1,"div",7),W()()),2&t&&(_d(r.styleClass),k("ngClass","p-card p-component")("ngStyle",r.style),N(1),k("ngIf",r.headerFacet||r.headerTemplate),N(2),k("ngIf",r.header||r.titleTemplate),N(1),k("ngIf",r.subheader||r.subtitleTemplate),N(3),k("ngTemplateOutlet",r.contentTemplate),N(1),k("ngIf",r.footerFacet||r.footerTemplate))},directives:[uc,ov,ho,sv],styles:[".p-card-header img{width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),n7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({imports:[[Pr],vc]}),n})();function bh(...n){const e=n.length;if(0===e)throw new Error("list of properties cannot be empty.");return t=>be(function r7(n,e){return r=>{let i=r;for(let o=0;o<e;o++){const s=null!=i?i[n[o]]:void 0;if(void 0===s)return;i=s}return i}}(n,e))(t)}class zO{}class WO{}class Hr{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Hr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Hr;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Hr?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class i7{encodeKey(e){return $O(e)}encodeValue(e){return $O(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const s7=/%(\d[a-f0-9])/gi,a7={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function $O(n){return encodeURIComponent(n).replace(s7,(e,t)=>{var r;return null!==(r=a7[t])&&void 0!==r?r:e})}function GO(n){return`${n}`}class No{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new i7,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function o7(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new No({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(GO(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(GO(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class l7{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function qO(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function KO(n){return"undefined"!=typeof Blob&&n instanceof Blob}function ZO(n){return"undefined"!=typeof FormData&&n instanceof FormData}class nu{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function c7(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Hr),this.context||(this.context=new l7),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new No,this.urlWithParams=t}serializeBody(){return null===this.body?null:qO(this.body)||KO(this.body)||ZO(this.body)||function u7(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof No?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ZO(this.body)?null:KO(this.body)?this.body.type||null:qO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof No?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,o=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const d=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((f,h)=>f.set(h,e.setHeaders[h]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,h)=>f.set(h,e.setParams[h]),u)),new nu(r,i,s,{params:u,headers:c,context:d,reportProgress:l,responseType:o,withCredentials:a})}}var At=(()=>((At=At||{})[At.Sent=0]="Sent",At[At.UploadProgress=1]="UploadProgress",At[At.ResponseHeader=2]="ResponseHeader",At[At.DownloadProgress=3]="DownloadProgress",At[At.Response=4]="Response",At[At.User=5]="User",At))();class F_{constructor(e,t=200,r="OK"){this.headers=e.headers||new Hr,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class L_ extends F_{constructor(e={}){super(e),this.type=At.ResponseHeader}clone(e={}){return new L_({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ch extends F_{constructor(e={}){super(e),this.type=At.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Ch({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class YO extends F_{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function B_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Dh=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof nu)o=t;else{let l,c;l=i.headers instanceof Hr?i.headers:new Hr(i.headers),i.params&&(c=i.params instanceof No?i.params:new No({fromObject:i.params})),o=new nu(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=se(o).pipe(za(l=>this.handler.handle(l)));if(t instanceof nu||"events"===i.observe)return s;const a=s.pipe(_o(l=>l instanceof Ch));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(be(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(be(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(be(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(be(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new No).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,B_(i,r))}post(t,r,i={}){return this.request("POST",t,B_(i,r))}put(t,r,i={}){return this.request("PUT",t,B_(i,r))}}return n.\u0275fac=function(t){return new(t||n)(R(zO))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();class QO{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const JO=new G("HTTP_INTERCEPTORS");let d7=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const f7=/^\)\]\}',?\n/;let XO=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ne(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((h,p)=>i.setRequestHeader(h,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const h=t.detectContentTypeHeader();null!==h&&i.setRequestHeader("Content-Type",h)}if(t.responseType){const h=t.responseType.toLowerCase();i.responseType="json"!==h?h:"text"}const o=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const h=i.statusText||"OK",p=new Hr(i.getAllResponseHeaders()),g=function h7(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new L_({headers:p,status:i.status,statusText:h,url:g}),s},l=()=>{let{headers:h,status:p,statusText:g,url:m}=a(),y=null;204!==p&&(y=void 0===i.response?i.responseText:i.response),0===p&&(p=y?200:0);let v=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof y){const b=y;y=y.replace(f7,"");try{y=""!==y?JSON.parse(y):null}catch(_){y=b,v&&(v=!1,y={error:_,text:y})}}v?(r.next(new Ch({body:y,headers:h,status:p,statusText:g,url:m||void 0})),r.complete()):r.error(new YO({error:y,headers:h,status:p,statusText:g,url:m||void 0}))},c=h=>{const{url:p}=a(),g=new YO({error:h,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(g)};let u=!1;const d=h=>{u||(r.next(a()),u=!0);let p={type:At.DownloadProgress,loaded:h.loaded};h.lengthComputable&&(p.total=h.total),"text"===t.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},f=h=>{let p={type:At.UploadProgress,loaded:h.loaded};h.lengthComputable&&(p.total=h.total),r.next(p)};return i.addEventListener("load",l),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",d),null!==o&&i.upload&&i.upload.addEventListener("progress",f)),i.send(o),r.next({type:At.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",l),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",d),null!==o&&i.upload&&i.upload.removeEventListener("progress",f)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(R(BS))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const j_=new G("XSRF_COOKIE_NAME"),V_=new G("XSRF_HEADER_NAME");class ek{}let p7=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=xS(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(R(Vt),R(sc),R(j_))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),H_=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const o=this.tokenService.getToken();return null!==o&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,o)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(R(ek),R(V_))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),g7=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(JO,[]);this.chain=r.reduceRight((i,o)=>new QO(i,o),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(R(WO),R(yt))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),m7=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:H_,useClass:d7}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:j_,useValue:t.cookieName}:[],t.headerName?{provide:V_,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({providers:[H_,{provide:JO,useExisting:H_,multi:!0},{provide:ek,useClass:p7},{provide:j_,useValue:"XSRF-TOKEN"},{provide:V_,useValue:"X-XSRF-TOKEN"}]}),n})(),v7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({providers:[Dh,{provide:zO,useClass:g7},XO,{provide:WO,useExisting:XO}],imports:[[m7.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),tk=(()=>{class n{constructor(t){this.http=t}get defaultHeaders(){const t=new Hr;return t.set("Accept","*/*").set("Content-Type","application/json"),t}getContentTypes(t="",r=""){return this.http.post("/api/v1/contenttype/_filter",{filter:{types:r,query:t},orderBy:"name",direction:"ASC",perPage:40}).pipe(bh("entity"))}getContentlets({contentType:t,filter:r,currentLanguage:i}){return this.http.post("/api/content/_search",{query:`+contentType:${t} +languageId:${i} +deleted:false +working:true +catchall:${r}* title:'${r}'^15`,sort:"modDate desc",offset:0,limit:40}).pipe(bh("entity","jsonObjectView","contentlets"))}}return n.\u0275fac=function(t){return new(t||n)(R(Dh))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();class _7{getQueryParams(){const e=window.location.search.substring(1).split("&"),t=new Map;return e.forEach(r=>{const i=r.split("=");t.set(i[0],i[1])}),t}getQueryStringParam(e){let t=null;const i=new RegExp("[?&]"+e.replace(/[\[\]]/g,"\\$&")+"(=([^&#]*)|&|#|$)").exec(window.location.href);return i&&i[2]&&(t=decodeURIComponent(i[2].replace(/\+/g," "))),t}}let nk=(()=>{class n{getLine(t,r){let i=null;if(t){const o=t.split("\n");i=o&&o.length>r?o[r]:null}return i}camelize(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,(r,i)=>0===i?r.toLowerCase():r.toUpperCase()).replace(/\s+/g,"")}titleCase(t){return`${t.charAt(0).toLocaleUpperCase()}${t.slice(1)}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),C7=(()=>{class n{constructor(t){this.stringUtils=t,this.showLogs=!0,this.httpRequestUtils=new _7,this.showLogs=this.shouldShowLogs(),this.showLogs&&console.info("Setting the logger --\x3e Developer mode logger on")}info(t,...r){r&&r.length>0?console.info(this.wrapMessage(t),r):console.info(this.wrapMessage(t))}error(t,...r){r&&r.length>0?console.error(this.wrapMessage(t),r):console.error(this.wrapMessage(t))}warn(t,...r){r&&r.length>0?console.warn(this.wrapMessage(t),r):console.warn(this.wrapMessage(t))}debug(t,...r){r&&r.length>0?console.debug(this.wrapMessage(t),r):console.debug(this.wrapMessage(t))}shouldShowLogs(){this.httpRequestUtils.getQueryStringParam("devMode");return!0}wrapMessage(t){return this.showLogs?t:this.getCaller()+">> "+t}getCaller(){let t="unknown";try{throw new Error}catch(r){t=this.cleanCaller(this.stringUtils.getLine(r.stack,4))}return t}cleanCaller(t){return t?t.trim().substr(3):"unknown"}}return n.\u0275fac=function(t){return new(t||n)(R(nk))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();let T7=(()=>{class n{constructor(){this.iconPath="./src/assets/images/icons",this.dotCMSURLKey="siteURLJWT"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),ru=class{constructor(e){this.iconPath=e.iconPath}displayErrorMessage(e){this.displayMessage("Error",e,"error")}displaySuccessMessage(e){this.displayMessage("Success",e,"success")}displayInfoMessage(e){this.displayMessage("Info",e,"info")}displayMessage(e,t,r){let i;return i=new Notification(r,{body:t,icon:this.iconPath+"/"+r+".png"}),i}};ru.\u0275prov=$({token:ru,factory:ru.\u0275fac}),ru=function E7(n,e,t,r){var s,i=arguments.length,o=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o}([qs("config"),function w7(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)}("design:paramtypes",[T7])],ru);const sk={500:"500 Internal Server Error",400:"400 Bad Request",401:"401 Unauthorized Error"},ak="/api/v1/temp";function x7({file:n,progressCallBack:e,maxSize:t}){return"string"==typeof n?function A7(n){return fetch(`${ak}/byUrl`,{method:"POST",headers:{"Content-Type":"application/json",Origin:window.location.hostname},body:JSON.stringify({remoteUrl:n})}).then(t=>function S7(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){if(200===t.status)return(yield t.json()).tempFiles[0];throw lk(yield t.json(),t.status)}))}(n):function O7({file:n,progressCallBack:e,maxSize:t}){let r=ak;r+=t?`?maxFileLength=${t}`:"";const i=new FormData;return(Array.isArray(n)?n:[n]).forEach(s=>i.append("files",s)),function k7(n,e,t){return new Promise((r,i)=>{const o=new XMLHttpRequest;o.open(e.method||"get",n);for(const s in e.headers||{})o.setRequestHeader(s,e.headers[s]);o.onload=()=>r(o),o.onerror=i,o.upload&&t&&(o.upload.onprogress=s=>{t(s.loaded/s.total*100)}),o.send(e.body)})}(r,{method:"POST",headers:{},body:i},e).then(s=>{if(200===s.status){const a=JSON.parse(s.response).tempFiles;return a.length>1?a:a[0]}throw s}).catch(s=>{throw lk(JSON.parse(s.response),s.status)})}({file:n,progressCallBack:e,maxSize:t})}function lk(n,e){let t="";try{t=n.message||sk[e]}catch(r){t=sk[e||500]}return{message:t,status:500|e}}function ck(n,e){return new Ne(e?t=>e.schedule(R7,0,{error:n,subscriber:t}):t=>t.error(n))}function R7({error:n,subscriber:e}){e.error(n)}let uk=(()=>{class n{constructor(t){this.http=t}publishContent(t,r){return this.setTempResource(t,r).pipe(mi(i=>{const o=Array.isArray(i)?i:[i],s=[];return o.forEach(a=>{s.push({baseType:"dotAsset",asset:a.id,hostFolder:"",indexPolicy:"WAIT_FOR"})}),this.http.post("/api/v1/workflow/actions/default/fire/PUBLISH",JSON.stringify({contentlets:s}),{headers:{Origin:window.location.hostname,"Content-Type":"application/json;charset=UTF-8"}}).pipe(bh("entity","results"))}),Oo(i=>ck(i)))}setTempResource(t,r){return zt(x7({file:t,progressCallBack:()=>{},maxSize:r}))}}return n.\u0275fac=function(t){return new(t||n)(R(Dh))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),P7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ut({type:n}),n.\u0275inj=at({providers:[tk,uk,C7,nk],imports:[[Pr,rI,n7,z9]]}),n})(),F7=(()=>{class n{constructor(t){this.http=t}get defaultHeaders(){const t=new Hr;return t.set("Accept","*/*").set("Content-Type","application/json"),t}getLanguages(){return this.languages?se(this.languages):this.http.get("/api/v2/languages",{headers:this.defaultHeaders}).pipe(bh("entity"),be(t=>{const r=this.getDotLanguageObject(t);return this.languages=r,r}))}getDotLanguageObject(t){return t.reduce((r,i)=>Object.assign(r,{[i.id]:i}),{})}}return n.\u0275fac=function(t){return new(t||n)(R(Dh))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function L7(n,e){if(1&n&&(H(0,"i",6),Ye(1),W()),2&n){const t=U();N(1),An(t.url)}}function B7(n,e){1&n&&$t(0,"dot-contentlet-thumbnail",8),2&n&&k("contentlet",U(2).data.contentlet)("width",42)("height",42)("iconSize","42px")}function j7(n,e){if(1&n&&q(0,B7,1,4,"dot-contentlet-thumbnail",7),2&n){const t=U(),r=co(9);k("ngIf",null==t.data?null:t.data.contentlet)("ngIfElse",r)}}function V7(n,e){if(1&n&&(H(0,"div",9),$t(1,"dot-state-icon",10),H(2,"dot-badge",11),Ye(3),W()()),2&n){const t=U();N(1),k("state",t.data.contentlet),N(2),An(t.data.contentlet.language)}}function H7(n,e){1&n&&$t(0,"img",12),2&n&&k("src",U().url,so)}let dk=(()=>{class n{constructor(t){this.element=t,this.role="list-item",this.tabindex="-1",this.label="",this.url="",this.data=null,this.icon=!1}ngOnInit(){this.icon=this.icon="string"==typeof this.url&&!(this.url.split("/").length>1)}getLabel(){return this.element.nativeElement.innerText}focus(){this.element.nativeElement.style="background: #eee"}unfocus(){this.element.nativeElement.style=""}scrollIntoView(){this.isIntoView()||this.element.nativeElement.scrollIntoView(this.alignToTop())}isIntoView(){const{bottom:t,top:r}=this.element.nativeElement.getBoundingClientRect(),i=this.element.nativeElement.parentElement.getBoundingClientRect();return r>=i.top&&t<=i.bottom}alignToTop(){const{top:t}=this.element.nativeElement.getBoundingClientRect(),{top:r}=this.element.nativeElement.parentElement.getBoundingClientRect();return t<r}}return n.\u0275fac=function(t){return new(t||n)(w(_t))},n.\u0275cmp=Et({type:n,selectors:[["dotcms-suggestions-list-item"]],hostVars:3,hostBindings:function(t,r){2&t&&Gn("role",r.role)("tabindex",r.tabindex)("data-index",r.index)},inputs:{index:"index",command:"command",label:"label",url:"url",data:"data"},decls:10,vars:6,consts:[[1,"icon-wrapper"],["class","material-icons",4,"ngIf","ngIfElse"],["thumbnail",""],[1,"data-wrapper"],["class","state",4,"ngIf"],["image",""],[1,"material-icons"],[3,"contentlet","width","height","iconSize",4,"ngIf","ngIfElse"],[3,"contentlet","width","height","iconSize"],[1,"state"],["size","16px",3,"state"],["bordered","true"],["alt","",3,"src"]],template:function(t,r){if(1&t&&(H(0,"div",0),q(1,L7,2,1,"i",1),q(2,j7,1,2,"ng-template",null,2,Jo),W(),H(4,"div",3)(5,"span"),Ye(6),W(),q(7,V7,4,2,"div",4),W(),q(8,H7,1,1,"ng-template",null,5,Jo)),2&t){const i=co(3);Kl("dot-contentlet",null==r.data?null:r.data.contentlet),N(1),k("ngIf",r.icon)("ngIfElse",i),N(5),An(r.label),N(1),k("ngIf",null==r.data?null:r.data.contentlet)}},directives:[ho],styles:["[_nghost-%COMP%]{box-sizing:border-box;display:flex;gap:1rem;padding:.25rem .5rem;background-color:#fff;cursor:pointer;align-items:center}.icon-wrapper[_ngcontent-%COMP%]{align-items:center;border:solid 1px lightgrey;display:flex;flex-basis:32px;flex-shrink:0;height:32px;justify-content:center;width:32px}.icon-wrapper[_ngcontent-%COMP%]   dot-contentlet-thumbnail[_ngcontent-%COMP%]{align-items:center;display:block;position:relative;width:42px;height:42px}.icon-wrapper.dot-contentlet[_ngcontent-%COMP%]{width:42px;height:42px;flex-basis:42px}.data-wrapper[_ngcontent-%COMP%]{overflow:hidden}.data-wrapper[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{overflow:hidden;display:block;white-space:nowrap;text-overflow:ellipsis}.data-wrapper[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]{margin-top:.5rem;display:flex}.data-wrapper[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]   dot-state-icon[_ngcontent-%COMP%]{margin-right:.5rem}"]}),n})();const U7=["*"];let z7=(()=>{class n{ngAfterContentInit(){this.keyManager=new gI(this.items).withWrap()}updateSelection(t){this.keyManager.activeItem&&this.keyManager.activeItem.unfocus(),this.keyManager.onKeydown(t),this.keyManager.activeItem.scrollIntoView()}execCommand(){this.keyManager.activeItem.command()}setFirstItemActive(){var t,r;null===(t=this.keyManager.activeItem)||void 0===t||t.unfocus(),this.keyManager.setFirstItemActive(),null===(r=this.keyManager.activeItem)||void 0===r||r.focus()}resetKeyManager(){this.keyManager=new gI(this.items).withWrap(),setTimeout(()=>{this.setFirstItemActive()},0)}updateActiveItem(t){var r;null===(r=this.keyManager.activeItem)||void 0===r||r.unfocus(),this.keyManager.setActiveItem(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Et({type:n,selectors:[["dotcms-suggestion-list"]],contentQueries:function(t,r,i){if(1&t&&ai(i,dk,4),2&t){let o;qn(o=Kn())&&(r.items=o)}},ngContentSelectors:U7,decls:1,vars:0,template:function(t,r){1&t&&(ma(),Ni(0))},styles:[""]}),n})();const W7=["list"];function $7(n,e){if(1&n){const t=ni();H(0,"dotcms-suggestions-list-item",7),Le("mousedown",function(i){const s=Bt(t).$implicit;return U(2).onMouseDown(i,s)})("mouseenter",function(i){return Bt(t),U(2).onMouseEnter(i)}),W()}if(2&n){const t=e.$implicit,r=e.index;k("command",t.command)("index",r)("label",t.label)("url",t.icon)("data",t.data)}}function G7(n,e){if(1&n){const t=ni();H(0,"div",3),Le("mousedown",function(i){return Bt(t),U().onMouseDownHandler(i)}),H(1,"h3"),Ye(2),W(),H(3,"dotcms-suggestion-list",4,5),q(5,$7,1,5,"dotcms-suggestions-list-item",6),W()()}if(2&n){const t=U();N(2),An(t.title),N(3),k("ngForOf",t.items)}}function q7(n,e){if(1&n){const t=ni();H(0,"div",8),$t(1,"p",9),H(2,"button",3),Le("mousedown",function(i){return Bt(t),U().handleBackButton(i)}),Ye(3,"Back"),W()()}if(2&n){const t=U();N(1),k("innerHTML",t.title,ug)}}function K7(n,e){if(1&n&&(H(0,"div",8),$t(1,"p",9),W()),2&n){const t=U();N(1),k("innerHTML",t.noResultsMessage,ug)}}var hn=(()=>(function(n){n.BLOCK="block",n.CONTENTTYPE="contentType",n.CONTENT="content"}(hn||(hn={})),hn))();let fk=(()=>{class n{constructor(t,r,i){this.suggestionsService=t,this.dotLanguageService=r,this.cd=i,this.items=[],this.title="Select a block",this.noResultsMessage="No Results",this.isOpen=!1,this.currentLanguage=f1,this.allowedContentTypes="",this.clearFilter=new Ae,this.mouseMove=!0,this.isFilterActive=!1}onMousemove(){this.mouseMove=!0}ngOnInit(){var t;0===(null===(t=this.items)||void 0===t?void 0:t.length)&&(this.items=s1,this.items.forEach(r=>{r.command=()=>{this.clearFilter.emit(hn.BLOCK),r.id.includes("heading")?this.onSelection({type:Object.assign({name:"heading"},r.attributes)}):this.onSelection({type:{name:r.id}})}}),this.items=[{label:"Contentlets",icon:"receipt",command:()=>{this.clearFilter.emit(hn.CONTENTTYPE),this.loadContentTypes()}},...this.items]),this.initialItems=this.items,this.itemsLoaded=hn.BLOCK,this.dotLanguageService.getLanguages().pipe(vs(1)).subscribe(r=>this.dotLangs=r)}ngAfterViewInit(){this.setFirstItemActive()}execCommand(){this.items.length?this.list.execCommand():this.handleBackButton(new MouseEvent("click"))}updateSelection(t){this.list.updateSelection(t),this.mouseMove=!1}setFirstItemActive(){var t;null===(t=this.list)||void 0===t||t.setFirstItemActive()}updateActiveItem(t){this.list.updateActiveItem(t)}resetKeyManager(){var t;null===(t=this.list)||void 0===t||t.resetKeyManager()}onMouseDownHandler(t){t.preventDefault()}onMouseEnter(t){if(!this.mouseMove)return;t.preventDefault();const r=Number(t.target.dataset.index);this.updateActiveItem(r)}onMouseDown(t,r){t.preventDefault(),r.command()}handleBackButton(t){t.preventDefault(),t.stopPropagation(),this.itemsLoaded=this.itemsLoaded===hn.CONTENT?hn.CONTENTTYPE:hn.BLOCK,this.filterItems()}filterItems(t=""){switch(this.itemsLoaded){case hn.BLOCK:this.items=this.initialItems.filter(r=>r.label.toLowerCase().includes(t.trim().toLowerCase()));break;case hn.CONTENTTYPE:this.loadContentTypes(t);break;case hn.CONTENT:this.loadContentlets(this.selectedContentType,t)}this.isFilterActive=!!t.length,this.setFirstItemActive()}loadContentTypes(t=""){this.suggestionsService.getContentTypes(t,this.allowedContentTypes).pipe(be(r=>r.map(i=>({label:i.name,icon:i.icon,command:()=>{this.selectedContentType=i,this.itemsLoaded=hn.CONTENT,this.loadContentlets(i),this.clearFilter.emit(hn.CONTENT)}}))),vs(1)).subscribe(r=>{this.items=r,this.itemsLoaded=hn.CONTENTTYPE,this.items.length?(this.title="Select a content type",this.cd.detectChanges(),this.resetKeyManager()):(this.title="No results",this.cd.detectChanges()),this.cd.detectChanges(),this.resetKeyManager()})}loadContentlets(t,r=""){this.suggestionsService.getContentlets({contentType:t.variable,filter:r,currentLanguage:this.currentLanguage}).pipe(vs(1)).subscribe(i=>{this.items=i.map(o=>{const{languageId:s}=o;return o.language=this.getContentletLanguage(s),{label:o.title,icon:"contentlet/image",data:{contentlet:o},command:()=>{this.onSelection({payload:o,type:{name:"dotContent"}})}}}),this.items.length?(this.title="Select a contentlet",this.cd.detectChanges(),this.resetKeyManager()):(this.title=`No results for <b>${t.name}</b>`,this.cd.detectChanges())})}getContentletLanguage(t){const{languageCode:r,countryCode:i}=this.dotLangs[t];return r&&i?`${r}-${i}`:""}}return n.\u0275fac=function(t){return new(t||n)(w(tk),w(F7),w(es))},n.\u0275cmp=Et({type:n,selectors:[["dotcms-suggestions"]],viewQuery:function(t,r){if(1&t&&xd(W7,5),2&t){let i;qn(i=Kn())&&(r.list=i.first)}},hostBindings:function(t,r){1&t&&Le("mousemove",function(o){return r.onMousemove(o)})},inputs:{onSelection:"onSelection",items:"items",title:"title",noResultsMessage:"noResultsMessage",isOpen:"isOpen",currentLanguage:"currentLanguage",allowedContentTypes:"allowedContentTypes"},outputs:{clearFilter:"clearFilter"},decls:5,vars:2,consts:[[3,"mousedown",4,"ngIf","ngIfElse"],["emptyBlock",""],["noResults",""],[3,"mousedown"],[1,"suggestion-list-container"],["list",""],[3,"command","index","label","url","data","mousedown","mouseenter",4,"ngFor","ngForOf"],[3,"command","index","label","url","data","mousedown","mouseenter"],[1,"empty"],[3,"innerHTML"]],template:function(t,r){if(1&t&&(q(0,G7,6,2,"div",0),q(1,q7,4,1,"ng-template",null,1,Jo),q(3,K7,2,1,"ng-template",null,2,Jo)),2&t){const i=co(2),o=co(4);k("ngIf",r.items.length)("ngIfElse",r.isFilterActive?o:i)}},directives:[ho,z7,Kd,dk],styles:['[_nghost-%COMP%]{display:block;min-width:240px;box-shadow:0 4px 20px #0000001a;padding:.5rem 0;background:#ffffff;font-family:Roboto,Helvetica,sans-serif,Arial}h3[_ngcontent-%COMP%]{text-transform:uppercase;font-size:1rem;margin:.5rem 1rem;color:#999}.suggestion-list-container[_ngcontent-%COMP%]{width:100%;height:100%;max-height:400px;overflow:auto;display:block}.material-icons[_ngcontent-%COMP%]{font-family:Material Icons;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}.empty[_ngcontent-%COMP%]{align-items:center;flex-direction:column;display:flex;justify-content:center;padding:1rem;height:15rem}button[_ngcontent-%COMP%]{background:none;border-radius:2px;border:0;border:1px solid var(--color-sec);color:var(--color-sec);cursor:pointer;font-size:1rem;font-weight:500;line-height:normal;padding:.75rem 2rem;text-transform:uppercase}.empty[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .empty[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .empty[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{border-color:var(--color-main);color:var(--color-main)}']}),n})();const Z7=function(n){return{"btn-bubble-menu":!0,"btn-active":n}};let Y7=(()=>{class n{constructor(){this.active=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Et({type:n,selectors:[["dotcms-bubble-menu-button"]],inputs:{item:"item",active:"active"},decls:3,vars:4,consts:[[3,"ngClass"],[1,"material-icons"]],template:function(t,r){1&t&&(H(0,"button",0)(1,"span",1),Ye(2),W()()),2&t&&(k("ngClass",Or(2,Z7,r.active)),N(2),An(r.item.icon))},directives:[uc],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}.btn-bubble-menu[_ngcontent-%COMP%]{background:#ffffff;border:none;color:#0a0725;display:flex;justify-content:center;align-items:center;cursor:pointer;width:2.286rem;height:2.286rem;border-radius:2px}.btn-bubble-menu[_ngcontent-%COMP%]:hover{background:#f1f3f4}.btn-bubble-menu.btn-active[_ngcontent-%COMP%]{background:#f1f3f4;color:#0a0725;border:1px solid #b3b1b8}"]}),n})();function Q7(n,e){if(1&n){const t=ni();Oi(0),H(1,"button",3),Le("click",function(){return Bt(t),U().toggleChangeTo.emit()}),Ye(2),W(),$t(3,"div",4),ki()}if(2&n){const t=U();N(2),An(t.selected)}}function J7(n,e){1&n&&$t(0,"div",4)}function X7(n,e){if(1&n){const t=ni();Oi(0),H(1,"dotcms-bubble-menu-button",5),Le("click",function(){const o=Bt(t).$implicit;return U().command.emit(o)}),W(),q(2,J7,1,0,"div",6),ki()}if(2&n){const t=e.$implicit;N(1),k("active",t.active)("item",t),N(1),k("ngIf",t.divider)}}let eK=(()=>{class n{constructor(){this.items=[],this.command=new Ae,this.toggleChangeTo=new Ae}preventDeSelection(t){t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Et({type:n,selectors:[["dotcms-bubble-menu"]],inputs:{items:"items",selected:"selected"},outputs:{command:"command",toggleChangeTo:"toggleChangeTo"},decls:3,vars:2,consts:[["id","bubble-menu",1,"bubble-menu",3,"mousedown"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"btn-dropdown",3,"click"],[1,"divider"],[3,"active","item","click"],["class","divider",4,"ngIf"]],template:function(t,r){1&t&&(H(0,"div",0),Le("mousedown",function(o){return r.preventDeSelection(o)}),q(1,Q7,4,1,"ng-container",1),q(2,X7,3,3,"ng-container",2),W()),2&t&&(N(1),k("ngIf",r.selected),N(1),k("ngForOf",r.items))},directives:[ho,Kd,Y7],styles:['[_nghost-%COMP%]{height:100%;width:100%}.bubble-menu[_ngcontent-%COMP%]{box-sizing:border-box;align-items:center;background:#ffffff;border-radius:2px;box-shadow:0 10px 24px #0003;display:flex;justify-content:center;padding:.4rem;height:40px}.bubble-menu[_ngcontent-%COMP%]   .btn-dropdown[_ngcontent-%COMP%]{background:none;border:none;outline:none;padding:.3rem;cursor:pointer}.bubble-menu[_ngcontent-%COMP%]   .btn-dropdown[_ngcontent-%COMP%]:hover{background:#f1f3f4}.bubble-menu[_ngcontent-%COMP%]   .btn-dropdown[_ngcontent-%COMP%]:after{content:"";border:solid #0a0725;border-width:0 .15rem .15rem 0;display:inline-block;padding:.25rem;transform:rotate(45deg);margin-left:.75rem}.bubble-menu[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{border-left:1px solid #f1f3f4;height:100%;margin:0px .5rem}']}),n})();function hk(n,e,t,r,i,o,s){try{var a=n[o](s),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}const rK=new Ct("suggestion");function iK({pluginKey:n=rK,editor:e,char:t="@",allowSpaces:r=!1,prefixSpace:i=!0,startOfLine:o=!1,decorationTag:s="span",decorationClass:a="suggestion",command:l=(()=>null),items:c=(()=>[]),render:u=(()=>({})),allow:d=(()=>!0)}){let f;const h=null==u?void 0:u();return new rt({key:n,view(){var g,p=this;return{update:(g=function tK(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(l){hk(o,r,i,s,a,"next",l)}function a(l){hk(o,r,i,s,a,"throw",l)}s(void 0)})}}(function*(m,y){var v,b,_,C,D,I,A;const B=null===(v=p.key)||void 0===v?void 0:v.getState(y),z=null===(b=p.key)||void 0===b?void 0:b.getState(m.state),ee=B.active&&z.active&&B.range.from!==z.range.from,re=!B.active&&z.active,K=B.active&&!z.active,ie=re||ee,Z=!re&&!K&&B.query!==z.query&&!ee,qe=K||ee;if(!ie&&!Z&&!qe)return;const Be=qe&&!ie?B:z,Pe=document.querySelector(`[data-decoration-id="${Be.decorationId}"]`);f={editor:e,range:Be.range,query:Be.query,text:Be.text,items:[],command:Ie=>{l({editor:e,range:Be.range,props:Ie})},decorationNode:Pe,clientRect:Pe?()=>{var Ie;const{decorationId:In}=null===(Ie=p.key)||void 0===Ie?void 0:Ie.getState(e.state);return document.querySelector(`[data-decoration-id="${In}"]`).getBoundingClientRect()}:null},ie&&(null===(_=null==h?void 0:h.onBeforeStart)||void 0===_||_.call(h,f)),Z&&(null===(C=null==h?void 0:h.onBeforeUpdate)||void 0===C||C.call(h,f)),(Z||ie)&&(f.items=yield c({editor:e,query:Be.query})),qe&&(null===(D=null==h?void 0:h.onExit)||void 0===D||D.call(h,f)),Z&&(null===(I=null==h?void 0:h.onUpdate)||void 0===I||I.call(h,f)),ie&&(null===(A=null==h?void 0:h.onStart)||void 0===A||A.call(h,f))}),function(y,v){return g.apply(this,arguments)}),destroy:()=>{var g;!f||null===(g=null==h?void 0:h.onExit)||void 0===g||g.call(h,f)}}},state:{init:()=>({active:!1,range:{},query:null,text:null,composing:!1}),apply(p,g,m,y){const{isEditable:v}=e,{composing:b}=e.view,{selection:_}=p,{empty:C,from:D}=_,I=S({},g);if(I.composing=b,v&&(C||e.view.composing)){(D<g.range.from||D>g.range.to)&&!b&&!g.composing&&(I.active=!1);const A=function nK(n){var e;const{char:t,allowSpaces:r,prefixSpace:i,startOfLine:o,$position:s}=n,a=function F5(n){return n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}(t),l=new RegExp(`\\s${a}$`),c=o?"^":"",u=r?new RegExp(`${c}${a}.*?(?=\\s${a}|$)`,"gm"):new RegExp(`${c}(?:^)?${a}[^\\s${a}]*`,"gm"),d=(null===(e=s.nodeBefore)||void 0===e?void 0:e.isText)&&s.nodeBefore.text;if(!d)return null;const f=s.pos-d.length,h=Array.from(d.matchAll(u)).pop();if(!h||void 0===h.input||void 0===h.index)return null;const p=h.input.slice(Math.max(0,h.index-1),h.index),g=/^[\s\0]?$/.test(p);if(i&&!g)return null;const m=f+h.index;let y=m+h[0].length;return r&&l.test(d.slice(y-1,y+1))&&(h[0]+=" ",y+=1),m<s.pos&&y>=s.pos?{range:{from:m,to:y},query:h[0].slice(t.length),text:h[0]}:null}({char:t,allowSpaces:r,prefixSpace:i,startOfLine:o,$position:_.$from}),B=`id_${Math.floor(4294967295*Math.random())}`;A&&d({editor:e,state:y,range:A.range})?(I.active=!0,I.decorationId=g.decorationId?g.decorationId:B,I.range=A.range,I.query=A.query,I.text=A.text):I.active=!1}else I.active=!1;return I.active||(I.decorationId=null,I.range={},I.query=null,I.text=null),I}},props:{handleKeyDown(p,g){var m;const{active:y,range:v}=this.getState(p.state);return y&&(null===(m=null==h?void 0:h.onKeyDown)||void 0===m?void 0:m.call(h,{view:p,event:g,range:v}))||!1},decorations(p){const{active:g,range:m,decorationId:y}=this.getState(p);return g?Oe.create(p.doc,[Dt.inline(m.from,m.to,{nodeName:s,class:a,"data-decoration-id":y})]):null}}})}function Ur(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Ya(n){return n instanceof Ur(n).Element||n instanceof Element}function mr(n){return n instanceof Ur(n).HTMLElement||n instanceof HTMLElement}function z_(n){return"undefined"!=typeof ShadowRoot&&(n instanceof Ur(n).ShadowRoot||n instanceof ShadowRoot)}var Ds=Math.max,wh=Math.min,Qa=Math.round;function Ja(n,e){void 0===e&&(e=!1);var t=n.getBoundingClientRect(),r=1,i=1;if(mr(n)&&e){var o=n.offsetHeight,s=n.offsetWidth;s>0&&(r=Qa(t.width)/s||1),o>0&&(i=Qa(t.height)/o||1)}return{width:t.width/r,height:t.height/i,top:t.top/i,right:t.right/r,bottom:t.bottom/i,left:t.left/r,x:t.left/r,y:t.top/i}}function W_(n){var e=Ur(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function bi(n){return n?(n.nodeName||"").toLowerCase():null}function Ro(n){return((Ya(n)?n.ownerDocument:n.document)||window.document).documentElement}function $_(n){return Ja(Ro(n)).left+W_(n).scrollLeft}function qi(n){return Ur(n).getComputedStyle(n)}function G_(n){var e=qi(n);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function lK(n,e,t){void 0===t&&(t=!1);var r=mr(e),i=mr(e)&&function aK(n){var e=n.getBoundingClientRect(),t=Qa(e.width)/n.offsetWidth||1,r=Qa(e.height)/n.offsetHeight||1;return 1!==t||1!==r}(e),o=Ro(e),s=Ja(n,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!t)&&(("body"!==bi(e)||G_(o))&&(a=function sK(n){return n!==Ur(n)&&mr(n)?function oK(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):W_(n)}(e)),mr(e)?((l=Ja(e,!0)).x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=$_(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function q_(n){var e=Ja(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function Sh(n){return"html"===bi(n)?n:n.assignedSlot||n.parentNode||(z_(n)?n.host:null)||Ro(n)}function pk(n){return["html","body","#document"].indexOf(bi(n))>=0?n.ownerDocument.body:mr(n)&&G_(n)?n:pk(Sh(n))}function iu(n,e){var t;void 0===e&&(e=[]);var r=pk(n),i=r===(null==(t=n.ownerDocument)?void 0:t.body),o=Ur(r),s=i?[o].concat(o.visualViewport||[],G_(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(iu(Sh(s)))}function cK(n){return["table","td","th"].indexOf(bi(n))>=0}function gk(n){return mr(n)&&"fixed"!==qi(n).position?n.offsetParent:null}function ou(n){for(var e=Ur(n),t=gk(n);t&&cK(t)&&"static"===qi(t).position;)t=gk(t);return t&&("html"===bi(t)||"body"===bi(t)&&"static"===qi(t).position)?e:t||function uK(n){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&mr(n)&&"fixed"===qi(n).position)return null;var i=Sh(n);for(z_(i)&&(i=i.host);mr(i)&&["html","body"].indexOf(bi(i))<0;){var o=qi(i);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||e&&"filter"===o.willChange||e&&o.filter&&"none"!==o.filter)return i;i=i.parentNode}return null}(n)||e}var Pn="top",vr="bottom",yr="right",Fn="left",K_="auto",su=[Pn,vr,yr,Fn],Xa="start",au="end",mk="viewport",lu="popper",vk=su.reduce(function(n,e){return n.concat([e+"-"+Xa,e+"-"+au])},[]),yk=[].concat(su,[K_]).reduce(function(n,e){return n.concat([e,e+"-"+Xa,e+"-"+au])},[]),DK=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function EK(n){var e=new Map,t=new Set,r=[];function i(o){t.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return n.forEach(function(o){e.set(o.name,o)}),n.forEach(function(o){t.has(o.name)||i(o)}),r}function SK(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var _k={placement:"bottom",modifiers:[],strategy:"absolute"};function bk(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function IK(n){void 0===n&&(n={});var t=n.defaultModifiers,r=void 0===t?[]:t,i=n.defaultOptions,o=void 0===i?_k:i;return function(a,l,c){void 0===c&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},_k,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:u,setOptions:function(y){var v="function"==typeof y?y(u.options):y;g(),u.options=Object.assign({},o,u.options,v),u.scrollParents={reference:Ya(a)?iu(a):a.contextElement?iu(a.contextElement):[],popper:iu(l)};var b=function wK(n){var e=EK(n);return DK.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}(function MK(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(r,u.options.modifiers)));return u.orderedModifiers=b.filter(function(ee){return ee.enabled}),function p(){u.orderedModifiers.forEach(function(m){var v=m.options,_=m.effect;if("function"==typeof _){var C=_({state:u,name:m.name,instance:h,options:void 0===v?{}:v});d.push(C||function(){})}})}(),h.update()},forceUpdate:function(){if(!f){var y=u.elements,v=y.reference,b=y.popper;if(bk(v,b)){u.rects={reference:lK(v,ou(b),"fixed"===u.options.strategy),popper:q_(b)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(ee){return u.modifiersData[ee.name]=Object.assign({},ee.data)});for(var C=0;C<u.orderedModifiers.length;C++)if(!0!==u.reset){var D=u.orderedModifiers[C],I=D.fn,A=D.options;"function"==typeof I&&(u=I({state:u,options:void 0===A?{}:A,name:D.name,instance:h})||u)}else u.reset=!1,C=-1}}},update:SK(function(){return new Promise(function(m){h.forceUpdate(),m(u)})}),destroy:function(){g(),f=!0}};if(!bk(a,l))return h;function g(){d.forEach(function(m){return m()}),d=[]}return h.setOptions(c).then(function(m){!f&&c.onFirstUpdate&&c.onFirstUpdate(m)}),h}}var Mh={passive:!0};const xK={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function TK(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,l=Ur(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",t.update,Mh)}),a&&l.addEventListener("resize",t.update,Mh),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",t.update,Mh)}),a&&l.removeEventListener("resize",t.update,Mh)}},data:{}};function Ci(n){return n.split("-")[0]}function el(n){return n.split("-")[1]}function Z_(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Ck(n){var l,e=n.reference,t=n.element,r=n.placement,i=r?Ci(r):null,o=r?el(r):null,s=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2;switch(i){case Pn:l={x:s,y:e.y-t.height};break;case vr:l={x:s,y:e.y+e.height};break;case yr:l={x:e.x+e.width,y:a};break;case Fn:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?Z_(i):null;if(null!=c){var u="y"===c?"height":"width";switch(o){case Xa:l[c]=l[c]-(e[u]/2-t[u]/2);break;case au:l[c]=l[c]+(e[u]/2-t[u]/2)}}return l}const OK={name:"popperOffsets",enabled:!0,phase:"read",fn:function AK(n){var e=n.state;e.modifiersData[n.name]=Ck({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var kK={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Dk(n){var e,t=n.popper,r=n.popperRect,i=n.placement,o=n.variation,s=n.offsets,a=n.position,l=n.gpuAcceleration,c=n.adaptive,u=n.roundOffsets,d=n.isFixed,f=s.x,h=void 0===f?0:f,p=s.y,g=void 0===p?0:p,m="function"==typeof u?u({x:h,y:g}):{x:h,y:g};h=m.x,g=m.y;var y=s.hasOwnProperty("x"),v=s.hasOwnProperty("y"),b=Fn,_=Pn,C=window;if(c){var D=ou(t),I="clientHeight",A="clientWidth";D===Ur(t)&&"static"!==qi(D=Ro(t)).position&&"absolute"===a&&(I="scrollHeight",A="scrollWidth"),D=D,(i===Pn||(i===Fn||i===yr)&&o===au)&&(_=vr,g-=(d&&D===C&&C.visualViewport?C.visualViewport.height:D[I])-r.height,g*=l?1:-1),i!==Fn&&(i!==Pn&&i!==vr||o!==au)||(b=yr,h-=(d&&D===C&&C.visualViewport?C.visualViewport.width:D[A])-r.width,h*=l?1:-1)}var K,ee=Object.assign({position:a},c&&kK),re=!0===u?function NK(n){var t=n.y,i=window.devicePixelRatio||1;return{x:Qa(n.x*i)/i||0,y:Qa(t*i)/i||0}}({x:h,y:g}):{x:h,y:g};return h=re.x,g=re.y,Object.assign({},ee,l?((K={})[_]=v?"0":"",K[b]=y?"0":"",K.transform=(C.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",K):((e={})[_]=v?g+"px":"",e[b]=y?h+"px":"",e.transform="",e))}const PK={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function RK(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=void 0===r||r,o=t.adaptive,s=void 0===o||o,a=t.roundOffsets,l=void 0===a||a,u={placement:Ci(e.placement),variation:el(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,Dk(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,Dk(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},Ek={name:"applyStyles",enabled:!0,phase:"write",fn:function FK(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},o=e.elements[t];!mr(o)||!bi(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];!1===a?o.removeAttribute(s):o.setAttribute(s,!0===a?"":a)}))})},effect:function LK(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]).reduce(function(l,c){return l[c]="",l},{});!mr(i)||!bi(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}},requires:["computeStyles"]},VK={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function jK(n){var e=n.state,r=n.name,i=n.options.offset,o=void 0===i?[0,0]:i,s=yk.reduce(function(u,d){return u[d]=function BK(n,e,t){var r=Ci(n),i=[Fn,Pn].indexOf(r)>=0?-1:1,o="function"==typeof t?t(Object.assign({},e,{placement:n})):t,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Fn,yr].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(d,e.rects,o),u},{}),a=s[e.placement],c=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=a.x,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}};var HK={left:"right",right:"left",bottom:"top",top:"bottom"};function Ih(n){return n.replace(/left|right|bottom|top/g,function(e){return HK[e]})}var UK={start:"end",end:"start"};function wk(n){return n.replace(/start|end/g,function(e){return UK[e]})}function Sk(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&z_(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Y_(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Mk(n,e){return e===mk?Y_(function zK(n){var e=Ur(n),t=Ro(n),r=e.visualViewport,i=t.clientWidth,o=t.clientHeight,s=0,a=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,a=r.offsetTop)),{width:i,height:o,x:s+$_(n),y:a}}(n)):Ya(e)?function $K(n){var e=Ja(n);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}(e):Y_(function WK(n){var e,t=Ro(n),r=W_(n),i=null==(e=n.ownerDocument)?void 0:e.body,o=Ds(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Ds(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+$_(n),l=-r.scrollTop;return"rtl"===qi(i||t).direction&&(a+=Ds(t.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(Ro(n)))}function Tk(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function xk(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}function cu(n,e){void 0===e&&(e={});var r=e.placement,i=void 0===r?n.placement:r,o=e.boundary,s=void 0===o?"clippingParents":o,a=e.rootBoundary,l=void 0===a?mk:a,c=e.elementContext,u=void 0===c?lu:c,d=e.altBoundary,f=void 0!==d&&d,h=e.padding,p=void 0===h?0:h,g=Tk("number"!=typeof p?p:xk(p,su)),y=n.rects.popper,v=n.elements[f?u===lu?"reference":lu:u],b=function qK(n,e,t){var r="clippingParents"===e?function GK(n){var e=iu(Sh(n)),r=["absolute","fixed"].indexOf(qi(n).position)>=0&&mr(n)?ou(n):n;return Ya(r)?e.filter(function(i){return Ya(i)&&Sk(i,r)&&"body"!==bi(i)}):[]}(n):[].concat(e),i=[].concat(r,[t]),s=i.reduce(function(a,l){var c=Mk(n,l);return a.top=Ds(c.top,a.top),a.right=wh(c.right,a.right),a.bottom=wh(c.bottom,a.bottom),a.left=Ds(c.left,a.left),a},Mk(n,i[0]));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}(Ya(v)?v:v.contextElement||Ro(n.elements.popper),s,l),_=Ja(n.elements.reference),C=Ck({reference:_,element:y,strategy:"absolute",placement:i}),D=Y_(Object.assign({},y,C)),I=u===lu?D:_,A={top:b.top-I.top+g.top,bottom:I.bottom-b.bottom+g.bottom,left:b.left-I.left+g.left,right:I.right-b.right+g.right},B=n.modifiersData.offset;if(u===lu&&B){var z=B[i];Object.keys(A).forEach(function(ee){var re=[yr,vr].indexOf(ee)>=0?1:-1,K=[Pn,vr].indexOf(ee)>=0?"y":"x";A[ee]+=z[K]*re})}return A}const QK={name:"flip",enabled:!0,phase:"main",fn:function YK(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,o=void 0===i||i,s=t.altAxis,a=void 0===s||s,l=t.fallbackPlacements,c=t.padding,u=t.boundary,d=t.rootBoundary,f=t.altBoundary,h=t.flipVariations,p=void 0===h||h,g=t.allowedAutoPlacements,m=e.options.placement,y=Ci(m),b=l||(y!==m&&p?function ZK(n){if(Ci(n)===K_)return[];var e=Ih(n);return[wk(n),e,wk(e)]}(m):[Ih(m)]),_=[m].concat(b).reduce(function(Yi,$r){return Yi.concat(Ci($r)===K_?function KK(n,e){void 0===e&&(e={});var i=e.boundary,o=e.rootBoundary,s=e.padding,a=e.flipVariations,l=e.allowedAutoPlacements,c=void 0===l?yk:l,u=el(e.placement),d=u?a?vk:vk.filter(function(p){return el(p)===u}):su,f=d.filter(function(p){return c.indexOf(p)>=0});0===f.length&&(f=d);var h=f.reduce(function(p,g){return p[g]=cu(n,{placement:g,boundary:i,rootBoundary:o,padding:s})[Ci(g)],p},{});return Object.keys(h).sort(function(p,g){return h[p]-h[g]})}(e,{placement:$r,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:g}):$r)},[]),C=e.rects.reference,D=e.rects.popper,I=new Map,A=!0,B=_[0],z=0;z<_.length;z++){var ee=_[z],re=Ci(ee),K=el(ee)===Xa,Re=[Pn,vr].indexOf(re)>=0,ie=Re?"width":"height",Z=cu(e,{placement:ee,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),qe=Re?K?yr:Fn:K?vr:Pn;C[ie]>D[ie]&&(qe=Ih(qe));var Be=Ih(qe),Pe=[];if(o&&Pe.push(Z[re]<=0),a&&Pe.push(Z[qe]<=0,Z[Be]<=0),Pe.every(function(Yi){return Yi})){B=ee,A=!1;break}I.set(ee,Pe)}if(A)for(var In=function($r){var Qi=_.find(function(ll){var Ji=I.get(ll);if(Ji)return Ji.slice(0,$r).every(function(cl){return cl})});if(Qi)return B=Qi,"break"},Wr=p?3:1;Wr>0&&"break"!==In(Wr);Wr--);e.placement!==B&&(e.modifiersData[r]._skip=!0,e.placement=B,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function uu(n,e,t){return Ds(n,wh(e,t))}const tZ={name:"preventOverflow",enabled:!0,phase:"main",fn:function eZ(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,o=void 0===i||i,s=t.altAxis,a=void 0!==s&&s,f=t.tether,h=void 0===f||f,p=t.tetherOffset,g=void 0===p?0:p,m=cu(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),y=Ci(e.placement),v=el(e.placement),b=!v,_=Z_(y),C=function JK(n){return"x"===n?"y":"x"}(_),D=e.modifiersData.popperOffsets,I=e.rects.reference,A=e.rects.popper,B="function"==typeof g?g(Object.assign({},e.rects,{placement:e.placement})):g,z="number"==typeof B?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),ee=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,re={x:0,y:0};if(D){if(o){var K,Re="y"===_?Pn:Fn,ie="y"===_?vr:yr,Z="y"===_?"height":"width",qe=D[_],Be=qe+m[Re],Pe=qe-m[ie],Ie=h?-A[Z]/2:0,In=v===Xa?I[Z]:A[Z],Wr=v===Xa?-A[Z]:-I[Z],Ts=e.elements.arrow,Yi=h&&Ts?q_(Ts):{width:0,height:0},$r=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Qi=$r[Re],ll=$r[ie],Ji=uu(0,I[Z],Yi[Z]),cl=b?I[Z]/2-Ie-Ji-Qi-z.mainAxis:In-Ji-Qi-z.mainAxis,Vo=b?-I[Z]/2+Ie+Ji+ll+z.mainAxis:Wr+Ji+ll+z.mainAxis,ul=e.elements.arrow&&ou(e.elements.arrow),Du=null!=(K=null==ee?void 0:ee[_])?K:0,rp=qe+Vo-Du,Eu=uu(h?wh(Be,qe+cl-Du-(ul?"y"===_?ul.clientTop||0:ul.clientLeft||0:0)):Be,qe,h?Ds(Pe,rp):Pe);D[_]=Eu,re[_]=Eu-qe}if(a){var wu,Xi=D[C],Ho="y"===C?"height":"width",Su=Xi+m["x"===_?Pn:Fn],xs=Xi-m["x"===_?vr:yr],Mu=-1!==[Pn,Fn].indexOf(y),sp=null!=(wu=null==ee?void 0:ee[C])?wu:0,ap=Mu?Su:Xi-I[Ho]-A[Ho]-sp+z.altAxis,lp=Mu?Xi+I[Ho]+A[Ho]-sp-z.altAxis:xs,cp=h&&Mu?function XK(n,e,t){var r=uu(n,e,t);return r>t?t:r}(ap,Xi,lp):uu(h?ap:Su,Xi,h?lp:xs);D[C]=cp,re[C]=cp-Xi}e.modifiersData[r]=re}},requiresIfExists:["offset"]},oZ={name:"arrow",enabled:!0,phase:"main",fn:function rZ(n){var e,t=n.state,r=n.name,i=n.options,o=t.elements.arrow,s=t.modifiersData.popperOffsets,a=Ci(t.placement),l=Z_(a),u=[Fn,yr].indexOf(a)>=0?"height":"width";if(o&&s){var d=function(e,t){return Tk("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:xk(e,su))}(i.padding,t),f=q_(o),h="y"===l?Pn:Fn,p="y"===l?vr:yr,g=t.rects.reference[u]+t.rects.reference[l]-s[l]-t.rects.popper[u],m=s[l]-t.rects.reference[l],y=ou(o),v=y?"y"===l?y.clientHeight||0:y.clientWidth||0:0,D=v/2-f[u]/2+(g/2-m/2),I=uu(d[h],D,v-f[u]-d[p]);t.modifiersData[r]=((e={})[l]=I,e.centerOffset=I-D,e)}},effect:function iZ(n){var e=n.state,r=n.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"==typeof i&&!(i=e.elements.popper.querySelector(i))||!Sk(e.elements.popper,i)||(e.elements.arrow=i))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ak(n,e,t){return void 0===t&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function Ok(n){return[Pn,yr,vr,Fn].some(function(e){return n[e]>=0})}var aZ=[xK,OK,PK,Ek,VK,QK,tZ,oZ,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function sZ(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=cu(e,{elementContext:"reference"}),a=cu(e,{altBoundary:!0}),l=Ak(s,r),c=Ak(a,i,o),u=Ok(l),d=Ok(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}],lZ=IK({defaultModifiers:aZ}),kk="tippy-content",Rk="tippy-arrow",Pk="tippy-svg-arrow",Po={passive:!0,capture:!0},Fk=function(){return document.body};function Q_(n,e,t){if(Array.isArray(n)){var r=n[e];return null==r?Array.isArray(t)?t[e]:t:r}return n}function J_(n,e){var t={}.toString.call(n);return 0===t.indexOf("[object")&&t.indexOf(e+"]")>-1}function Lk(n,e){return"function"==typeof n?n.apply(void 0,e):n}function Bk(n,e){return 0===e?n:function(r){clearTimeout(t),t=setTimeout(function(){n(r)},e)};var t}function Fo(n){return[].concat(n)}function jk(n,e){-1===n.indexOf(e)&&n.push(e)}function tl(n){return[].slice.call(n)}function Hk(n){return Object.keys(n).reduce(function(e,t){return void 0!==n[t]&&(e[t]=n[t]),e},{})}function Es(){return document.createElement("div")}function Th(n){return["Element","Fragment"].some(function(e){return J_(n,e)})}function tb(n,e){n.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function du(n,e){n.forEach(function(t){t&&t.setAttribute("data-state",e)})}function nb(n,e,t){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){n[r](i,t)})}function Wk(n,e){for(var t=e;t;){var r;if(n.contains(t))return!0;t=null==t.getRootNode||null==(r=t.getRootNode())?void 0:r.host}return!1}var Di={isTouch:!1},$k=0;function mZ(){Di.isTouch||(Di.isTouch=!0,window.performance&&document.addEventListener("mousemove",Gk))}function Gk(){var n=performance.now();n-$k<20&&(Di.isTouch=!1,document.removeEventListener("mousemove",Gk)),$k=n}function vZ(){var n=document.activeElement;(function Uk(n){return!(!n||!n._tippy||n._tippy.reference!==n)})(n)&&n.blur&&!n._tippy.state.isVisible&&n.blur()}var bZ=!("undefined"==typeof window||"undefined"==typeof document||!window.msCrypto),Ln=Object.assign({appendTo:Fk,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),wZ=Object.keys(Ln);function Qk(n){var t=(n.plugins||[]).reduce(function(r,i){var a,o=i.name;return o&&(r[o]=void 0!==n[o]?n[o]:null!=(a=Ln[o])?a:i.defaultValue),r},{});return Object.assign({},n,t)}function Jk(n,e){var t=Object.assign({},e,{content:Lk(e.content,[n])},e.ignoreAttributes?{}:function MZ(n,e){return(e?Object.keys(Qk(Object.assign({},Ln,{plugins:e}))):wZ).reduce(function(i,o){var s=(n.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if("content"===o)i[o]=s;else try{i[o]=JSON.parse(s)}catch(a){i[o]=s}return i},{})}(n,e.plugins));return t.aria=Object.assign({},Ln.aria,t.aria),t.aria={expanded:"auto"===t.aria.expanded?e.interactive:t.aria.expanded,content:"auto"===t.aria.content?e.interactive?null:"describedby":t.aria.content},t}function rb(n,e){n.innerHTML=e}function Xk(n){var e=Es();return!0===n?e.className=Rk:(e.className=Pk,Th(n)?e.appendChild(n):rb(e,n)),e}function e1(n,e){Th(e.content)?(rb(n,""),n.appendChild(e.content)):"function"!=typeof e.content&&(e.allowHTML?rb(n,e.content):n.textContent=e.content)}function xh(n){var e=n.firstElementChild,t=tl(e.children);return{box:e,content:t.find(function(r){return r.classList.contains(kk)}),arrow:t.find(function(r){return r.classList.contains(Rk)||r.classList.contains(Pk)}),backdrop:t.find(function(r){return r.classList.contains("tippy-backdrop")})}}function t1(n){var e=Es(),t=Es();t.className="tippy-box",t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var r=Es();function i(o,s){var a=xh(e),l=a.box,c=a.content,u=a.arrow;s.theme?l.setAttribute("data-theme",s.theme):l.removeAttribute("data-theme"),"string"==typeof s.animation?l.setAttribute("data-animation",s.animation):l.removeAttribute("data-animation"),s.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth="number"==typeof s.maxWidth?s.maxWidth+"px":s.maxWidth,s.role?l.setAttribute("role",s.role):l.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&e1(c,n.props),s.arrow?u?o.arrow!==s.arrow&&(l.removeChild(u),l.appendChild(Xk(s.arrow))):l.appendChild(Xk(s.arrow)):u&&l.removeChild(u)}return r.className=kk,r.setAttribute("data-state","hidden"),e1(r,n.props),e.appendChild(t),t.appendChild(r),i(n.props,n.props),{popper:e,onUpdate:i}}t1.$$tippy=!0;var TZ=1,Ah=[],Oh=[];function xZ(n,e){var r,i,o,u,d,f,g,t=Jk(n,Object.assign({},Ln,Qk(Hk(e)))),s=!1,a=!1,l=!1,c=!1,h=[],p=Bk(np,t.interactiveDebounce),m=TZ++,v=function fZ(n){return n.filter(function(e,t){return n.indexOf(e)===t})}(t.plugins),_={id:m,reference:n,popper:Es(),popperInstance:null,props:t,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:v,clearDelayTimeouts:function ap(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)},setProps:function lp(E){if(!_.state.isDestroyed){Be("onBeforeUpdate",[_,E]),tp();var V=_.props,oe=Jk(n,Object.assign({},V,Hk(E),{ignoreAttributes:!0}));_.props=oe,ul(),V.interactiveDebounce!==oe.interactiveDebounce&&(In(),p=Bk(np,oe.interactiveDebounce)),V.triggerTarget&&!oe.triggerTarget?Fo(V.triggerTarget).forEach(function(je){je.removeAttribute("aria-expanded")}):oe.triggerTarget&&n.removeAttribute("aria-expanded"),Ie(),qe(),I&&I(V,oe),_.popperInstance&&(ip(),Ho().forEach(function(je){requestAnimationFrame(je._tippy.popperInstance.forceUpdate)})),Be("onAfterUpdate",[_,E])}},setContent:function cp(E){_.setProps({content:E})},show:function TQ(){var E=_.state.isVisible,V=_.state.isDestroyed,oe=!_.state.isEnabled,je=Di.isTouch&&!_.props.touch,Te=Q_(_.props.duration,0,Ln.duration);if(!(E||V||oe||je||K().hasAttribute("disabled")||(Be("onShow",[_],!1),!1===_.props.onShow(_)))){if(_.state.isVisible=!0,re()&&(D.style.visibility="visible"),qe(),$r(),_.state.isMounted||(D.style.transition="none"),re()){var Tn=ie();tb([Tn.box,Tn.content],0)}f=function(){var As;if(_.state.isVisible&&!c){if(c=!0,D.style.transition=_.props.moveTransition,re()&&_.props.animation){var Cb=ie(),up=Cb.box,fl=Cb.content;tb([up,fl],Te),du([up,fl],"visible")}Pe(),Ie(),jk(Oh,_),null==(As=_.popperInstance)||As.forceUpdate(),Be("onMount",[_]),_.props.animation&&re()&&function Ji(E,V){cl(E,V)}(Te,function(){_.state.isShown=!0,Be("onShown",[_])})}},function Xi(){var V,E=_.props.appendTo,oe=K();(V=_.props.interactive&&E===Fk||"parent"===E?oe.parentNode:Lk(E,[oe])).contains(D)||V.appendChild(D),_.state.isMounted=!0,ip()}()}},hide:function xQ(){var E=!_.state.isVisible,V=_.state.isDestroyed,oe=!_.state.isEnabled,je=Q_(_.props.duration,1,Ln.duration);if(!(E||V||oe)&&(Be("onHide",[_],!1),!1!==_.props.onHide(_))){if(_.state.isVisible=!1,_.state.isShown=!1,c=!1,s=!1,re()&&(D.style.visibility="hidden"),In(),Qi(),qe(!0),re()){var Te=ie(),Tn=Te.box,Cr=Te.content;_.props.animation&&(tb([Tn,Cr],je),du([Tn,Cr],"hidden"))}Pe(),Ie(),_.props.animation?re()&&function ll(E,V){cl(E,function(){!_.state.isVisible&&D.parentNode&&D.parentNode.contains(D)&&V()})}(je,_.unmount):_.unmount()}},hideWithInteractivity:function AQ(E){Re().addEventListener("mousemove",p),jk(Ah,p),p(E)},enable:function Mu(){_.state.isEnabled=!0},disable:function sp(){_.hide(),_.state.isEnabled=!1},unmount:function OQ(){_.state.isVisible&&_.hide(),_.state.isMounted&&(op(),Ho().forEach(function(E){E._tippy.unmount()}),D.parentNode&&D.parentNode.removeChild(D),Oh=Oh.filter(function(E){return E!==_}),_.state.isMounted=!1,Be("onHidden",[_]))},destroy:function kQ(){_.state.isDestroyed||(_.clearDelayTimeouts(),_.unmount(),tp(),delete n._tippy,_.state.isDestroyed=!0,Be("onDestroy",[_]))}};if(!t.render)return _;var C=t.render(_),D=C.popper,I=C.onUpdate;D.setAttribute("data-tippy-root",""),D.id="tippy-"+_.id,_.popper=D,n._tippy=_,D._tippy=_;var A=v.map(function(E){return E.fn(_)}),B=n.hasAttribute("aria-expanded");return ul(),Ie(),qe(),Be("onCreate",[_]),t.showOnCreate&&Su(),D.addEventListener("mouseenter",function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()}),D.addEventListener("mouseleave",function(){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&Re().addEventListener("mousemove",p)}),_;function z(){var E=_.props.touch;return Array.isArray(E)?E:[E,0]}function ee(){return"hold"===z()[0]}function re(){var E;return!(null==(E=_.props.render)||!E.$$tippy)}function K(){return g||n}function Re(){var E=K().parentNode;return E?function zk(n){var e,r=Fo(n)[0];return null!=r&&null!=(e=r.ownerDocument)&&e.body?r.ownerDocument:document}(E):document}function ie(){return xh(D)}function Z(E){return _.state.isMounted&&!_.state.isVisible||Di.isTouch||u&&"focus"===u.type?0:Q_(_.props.delay,E?0:1,Ln.delay)}function qe(E){void 0===E&&(E=!1),D.style.pointerEvents=_.props.interactive&&!E?"":"none",D.style.zIndex=""+_.props.zIndex}function Be(E,V,oe){var je;void 0===oe&&(oe=!0),A.forEach(function(Te){Te[E]&&Te[E].apply(Te,V)}),oe&&(je=_.props)[E].apply(je,V)}function Pe(){var E=_.props.aria;if(E.content){var V="aria-"+E.content,oe=D.id;Fo(_.props.triggerTarget||n).forEach(function(Te){var Tn=Te.getAttribute(V);if(_.state.isVisible)Te.setAttribute(V,Tn?Tn+" "+oe:oe);else{var Cr=Tn&&Tn.replace(oe,"").trim();Cr?Te.setAttribute(V,Cr):Te.removeAttribute(V)}})}}function Ie(){!B&&_.props.aria.expanded&&Fo(_.props.triggerTarget||n).forEach(function(V){_.props.interactive?V.setAttribute("aria-expanded",_.state.isVisible&&V===K()?"true":"false"):V.removeAttribute("aria-expanded")})}function In(){Re().removeEventListener("mousemove",p),Ah=Ah.filter(function(E){return E!==p})}function Wr(E){if(!Di.isTouch||!l&&"mousedown"!==E.type){var V=E.composedPath&&E.composedPath()[0]||E.target;if(!_.props.interactive||!Wk(D,V)){if(Fo(_.props.triggerTarget||n).some(function(oe){return Wk(oe,V)})){if(Di.isTouch||_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else Be("onClickOutside",[_,E]);!0===_.props.hideOnClick&&(_.clearDelayTimeouts(),_.hide(),a=!0,setTimeout(function(){a=!1}),_.state.isMounted||Qi())}}}function Ts(){l=!0}function Yi(){l=!1}function $r(){var E=Re();E.addEventListener("mousedown",Wr,!0),E.addEventListener("touchend",Wr,Po),E.addEventListener("touchstart",Yi,Po),E.addEventListener("touchmove",Ts,Po)}function Qi(){var E=Re();E.removeEventListener("mousedown",Wr,!0),E.removeEventListener("touchend",Wr,Po),E.removeEventListener("touchstart",Yi,Po),E.removeEventListener("touchmove",Ts,Po)}function cl(E,V){var oe=ie().box;function je(Te){Te.target===oe&&(nb(oe,"remove",je),V())}if(0===E)return V();nb(oe,"remove",d),nb(oe,"add",je),d=je}function Vo(E,V,oe){void 0===oe&&(oe=!1),Fo(_.props.triggerTarget||n).forEach(function(Te){Te.addEventListener(E,V,oe),h.push({node:Te,eventType:E,handler:V,options:oe})})}function ul(){ee()&&(Vo("touchstart",Du,{passive:!0}),Vo("touchend",rp,{passive:!0})),function dZ(n){return n.split(/\s+/).filter(Boolean)}(_.props.trigger).forEach(function(E){if("manual"!==E)switch(Vo(E,Du),E){case"mouseenter":Vo("mouseleave",rp);break;case"focus":Vo(bZ?"focusout":"blur",Eu);break;case"focusin":Vo("focusout",Eu)}})}function tp(){h.forEach(function(E){E.node.removeEventListener(E.eventType,E.handler,E.options)}),h=[]}function Du(E){var V,oe=!1;if(_.state.isEnabled&&!wu(E)&&!a){var je="focus"===(null==(V=u)?void 0:V.type);u=E,g=E.currentTarget,Ie(),!_.state.isVisible&&function eb(n){return J_(n,"MouseEvent")}(E)&&Ah.forEach(function(Te){return Te(E)}),"click"===E.type&&(_.props.trigger.indexOf("mouseenter")<0||s)&&!1!==_.props.hideOnClick&&_.state.isVisible?oe=!0:Su(E),"click"===E.type&&(s=!oe),oe&&!je&&xs(E)}}function np(E){var V=E.target,oe=K().contains(V)||D.contains(V);"mousemove"===E.type&&oe||function gZ(n,e){var t=e.clientX,r=e.clientY;return n.every(function(i){var o=i.popperRect,s=i.popperState,l=i.props.interactiveBorder,c=function Vk(n){return n.split("-")[0]}(s.placement),u=s.modifiersData.offset;return!u||o.top-r+("bottom"===c?u.top.y:0)>l||r-o.bottom-("top"===c?u.bottom.y:0)>l||o.left-t+("right"===c?u.left.x:0)>l||t-o.right-("left"===c?u.right.x:0)>l})}(Ho().concat(D).map(function(Te){var Tn,dl=null==(Tn=Te._tippy.popperInstance)?void 0:Tn.state;return dl?{popperRect:Te.getBoundingClientRect(),popperState:dl,props:t}:null}).filter(Boolean),E)&&(In(),xs(E))}function rp(E){if(!(wu(E)||_.props.trigger.indexOf("click")>=0&&s)){if(_.props.interactive)return void _.hideWithInteractivity(E);xs(E)}}function Eu(E){_.props.trigger.indexOf("focusin")<0&&E.target!==K()||_.props.interactive&&E.relatedTarget&&D.contains(E.relatedTarget)||xs(E)}function wu(E){return!!Di.isTouch&&ee()!==E.type.indexOf("touch")>=0}function ip(){op();var E=_.props,V=E.popperOptions,oe=E.placement,je=E.offset,Te=E.getReferenceClientRect,Tn=E.moveTransition,Cr=re()?xh(D).arrow:null,dl=Te?{getBoundingClientRect:Te,contextElement:Te.contextElement||K()}:n,As=[{name:"offset",options:{offset:je}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Tn}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(up){var fl=up.state;if(re()){var Db=ie().box;["placement","reference-hidden","escaped"].forEach(function(dp){"placement"===dp?Db.setAttribute("data-placement",fl.placement):fl.attributes.popper["data-popper-"+dp]?Db.setAttribute("data-"+dp,""):Db.removeAttribute("data-"+dp)}),fl.attributes.popper={}}}}];re()&&Cr&&As.push({name:"arrow",options:{element:Cr,padding:3}}),As.push.apply(As,(null==V?void 0:V.modifiers)||[]),_.popperInstance=lZ(dl,D,Object.assign({},V,{placement:oe,onFirstUpdate:f,modifiers:As}))}function op(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function Ho(){return tl(D.querySelectorAll("[data-tippy-root]"))}function Su(E){_.clearDelayTimeouts(),E&&Be("onTrigger",[_,E]),$r();var V=Z(!0),oe=z(),Te=oe[1];Di.isTouch&&"hold"===oe[0]&&Te&&(V=Te),V?r=setTimeout(function(){_.show()},V):_.show()}function xs(E){if(_.clearDelayTimeouts(),Be("onUntrigger",[_,E]),_.state.isVisible){if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(E.type)>=0&&s)){var V=Z(!1);V?i=setTimeout(function(){_.state.isVisible&&_.hide()},V):o=requestAnimationFrame(function(){_.hide()})}}else Qi()}}function Lo(n,e){void 0===e&&(e={});var t=Ln.plugins.concat(e.plugins||[]);!function yZ(){document.addEventListener("touchstart",mZ,Po),window.addEventListener("blur",vZ)}();var r=Object.assign({},e,{plugins:t}),a=function pZ(n){return Th(n)?[n]:function hZ(n){return J_(n,"NodeList")}(n)?tl(n):Array.isArray(n)?n:tl(document.querySelectorAll(n))}(n).reduce(function(l,c){var u=c&&xZ(c,r);return u&&l.push(u),l},[]);return Th(n)?a[0]:a}Lo.defaultProps=Ln,Lo.setDefaultProps=function(e){Object.keys(e).forEach(function(r){Ln[r]=e[r]})},Lo.currentInput=Di,Object.assign({},Ek,{effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow)}}),Lo.setDefaultProps({render:t1});const hu=Lo,ob="menuFloating";class LZ{constructor({editor:e,element:t,view:r,tippyOptions:i,render:o,command:s,key:a}){this.invalidNodes=["codeBlock","blockquote"],this.mousedownHandler=l=>{l.preventDefault(),this.editor.chain().insertContent("/").run()},this.editor=e,this.element=t,this.view=r,this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",()=>{this.tippy.unmount(),this.update(this.editor.view)}),this.element.style.visibility="visible",this.render=o,this.command=s,this.key=a,this.createTooltip(i)}createTooltip(e={}){this.tippy=hu(this.view.dom,Object.assign({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"left",hideOnClick:"toggle"},e))}update(e,t){var r,i;const{selection:o}=e.state,{$anchor:s,empty:a,from:l,to:c}=o,f=1===s.depth&&!o.$anchor.parent.isLeaf&&!o.$anchor.parent.textContent,h=s.parent.type.name,p=null===(r=this.key)||void 0===r?void 0:r.getState(e.state),g=t?null===(i=this.key)||void 0===i?void 0:i.getState(t):null;if((null==g?void 0:g.open)||a&&f)if((null==g?void 0:g.open)||!this.invalidNodes.includes(h))if(this.tippy.setProps({getReferenceClientRect:()=>Wc(e,l,c)}),this.show(),p.open){const{from:m,to:y}=this.editor.state.selection,v=Wc(this.view,m,y);this.render().onStart({clientRect:()=>v,range:{from:m,to:y},editor:this.editor,command:this.command})}else g&&g.open&&this.render().onExit(null);else this.hide();else this.hide()}show(){this.tippy.show()}hide(){this.tippy.hide()}destroy(){this.tippy.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler)}}const o1=new Ct(ob),BZ=n=>new rt({key:o1,view:e=>new LZ(Object.assign({key:o1,view:e},n)),state:{init:()=>({open:!1}),apply(e){const t=e.getMeta(ob);return(null==t?void 0:t.open)?{open:null==t?void 0:t.open}:{open:!1}}},props:{handleKeyDown(e,t){const{open:r,range:i}=this.getState(e.state);return!!r&&n.render().onKeyDown({event:t,range:i,view:e})}}});let jZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Et({type:n,selectors:[["dotcms-action-button"]],decls:3,vars:0,consts:[[1,"material-icons"]],template:function(t,r){1&t&&(H(0,"button")(1,"i",0),Ye(2,"add"),W()())},styles:["[_nghost-%COMP%]{display:block}button[_ngcontent-%COMP%]{all:unset;cursor:pointer;border:solid 1px #eee;width:32px;height:32px;display:flex;align-items:center;justify-content:center;color:#666;background:#ffffff}"]}),n})();const VZ=["data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTYuNjMyODEgMjJWMjEuMDE1Nkw3LjkwNjI1IDIwLjc5NjlWMTEuODM1OUw2LjYzMjgxIDExLjYxNzJWMTAuNjI1SDEwLjcxODhWMTEuNjE3Mkw5LjQ0NTMxIDExLjgzNTlWMTUuNzY1NkgxNC44ODI4VjExLjgzNTlMMTMuNjA5NCAxMS42MTcyVjEwLjYyNUgxNy42OTUzVjExLjYxNzJMMTYuNDIxOSAxMS44MzU5VjIwLjc5NjlMMTcuNjk1MyAyMS4wMTU2VjIySDEzLjYwOTRWMjEuMDE1NkwxNC44ODI4IDIwLjc5NjlWMTYuOTc2Nkg5LjQ0NTMxVjIwLjc5NjlMMTAuNzE4OCAyMS4wMTU2VjIySDYuNjMyODFaTTE5LjI3MzQgMjJWMjEuMDE1NkwyMS4wMzEyIDIwLjc5NjlWMTIuMjczNEwxOS4yNDIyIDEyLjMwNDdWMTEuMzQzOEwyMi41NzAzIDEwLjYyNVYyMC43OTY5TDI0LjMyMDMgMjEuMDE1NlYyMkgxOS4yNzM0WiIgZmlsbD0iIzIyMjIyMiIvPgo8L3N2Zz4K","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTUuNjMyODEgMjJWMjEuMDE1Nkw2LjkwNjI1IDIwLjc5NjlWMTEuODM1OUw1LjYzMjgxIDExLjYxNzJWMTAuNjI1SDkuNzE4NzVWMTEuNjE3Mkw4LjQ0NTMxIDExLjgzNTlWMTUuNzY1NkgxMy44ODI4VjExLjgzNTlMMTIuNjA5NCAxMS42MTcyVjEwLjYyNUgxNi42OTUzVjExLjYxNzJMMTUuNDIxOSAxMS44MzU5VjIwLjc5NjlMMTYuNjk1MyAyMS4wMTU2VjIySDEyLjYwOTRWMjEuMDE1NkwxMy44ODI4IDIwLjc5NjlWMTYuOTc2Nkg4LjQ0NTMxVjIwLjc5NjlMOS43MTg3NSAyMS4wMTU2VjIySDUuNjMyODFaTTE4LjA4NTkgMjJWMjAuOTQ1M0wyMS44MTI1IDE2LjgwNDdDMjIuMjU1MiAxNi4zMDk5IDIyLjYwMTYgMTUuODg4IDIyLjg1MTYgMTUuNTM5MUMyMy4xMDE2IDE1LjE4NDkgMjMuMjc2IDE0Ljg2NDYgMjMuMzc1IDE0LjU3ODFDMjMuNDc0IDE0LjI5MTcgMjMuNTIzNCAxMy45OTQ4IDIzLjUyMzQgMTMuNjg3NUMyMy41MjM0IDEzLjExOTggMjMuMzUxNiAxMi42NDMyIDIzLjAwNzggMTIuMjU3OEMyMi42NjQxIDExLjg2NzIgMjIuMTcxOSAxMS42NzE5IDIxLjUzMTIgMTEuNjcxOUMyMC44NjQ2IDExLjY3MTkgMjAuMzQzOCAxMS44NzI0IDE5Ljk2ODggMTIuMjczNEMxOS41OTkgMTIuNjc0NSAxOS40MTQxIDEzLjI0MjIgMTkuNDE0MSAxMy45NzY2SDE3LjkzNzVMMTcuOTIxOSAxMy45Mjk3QzE3LjkwNjIgMTMuMjczNCAxOC4wNDQzIDEyLjY4NDkgMTguMzM1OSAxMi4xNjQxQzE4LjYyNzYgMTEuNjM4IDE5LjA0OTUgMTEuMjI0IDE5LjYwMTYgMTAuOTIxOUMyMC4xNTg5IDEwLjYxNDYgMjAuODIwMyAxMC40NjA5IDIxLjU4NTkgMTAuNDYwOUMyMi4zMDQ3IDEwLjQ2MDkgMjIuOTIxOSAxMC41OTkgMjMuNDM3NSAxMC44NzVDMjMuOTU4MyAxMS4xNDU4IDI0LjM1OTQgMTEuNTE4MiAyNC42NDA2IDExLjk5MjJDMjQuOTIxOSAxMi40NjYxIDI1LjA2MjUgMTMuMDEwNCAyNS4wNjI1IDEzLjYyNUMyNS4wNjI1IDE0LjI1IDI0Ljg3NzYgMTQuODcyNCAyNC41MDc4IDE1LjQ5MjJDMjQuMTQzMiAxNi4xMTIgMjMuNjI3NiAxNi43ODEyIDIyLjk2MDkgMTcuNUwxOS45Njg4IDIwLjc1NzhMMTkuOTg0NCAyMC43OTY5SDI0LjAyMzRMMjQuMTQ4NCAxOS40OTIySDI1LjQ1MzFWMjJIMTguMDg1OVoiIGZpbGw9IiMyMjIyMjIiLz4KPC9zdmc+Cg==","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTUuNjMyODEgMjJWMjEuMDE1Nkw2LjkwNjI1IDIwLjc5NjlWMTEuODM1OUw1LjYzMjgxIDExLjYxNzJWMTAuNjI1SDkuNzE4NzVWMTEuNjE3Mkw4LjQ0NTMxIDExLjgzNTlWMTUuNzY1NkgxMy44ODI4VjExLjgzNTlMMTIuNjA5NCAxMS42MTcyVjEwLjYyNUgxNi42OTUzVjExLjYxNzJMMTUuNDIxOSAxMS44MzU5VjIwLjc5NjlMMTYuNjk1MyAyMS4wMTU2VjIySDEyLjYwOTRWMjEuMDE1NkwxMy44ODI4IDIwLjc5NjlWMTYuOTc2Nkg4LjQ0NTMxVjIwLjc5NjlMOS43MTg3NSAyMS4wMTU2VjIySDUuNjMyODFaTTIxLjQ2ODggMjIuMTY0MUMyMC43NzYgMjIuMTY0MSAyMC4xNTg5IDIyLjAzOTEgMTkuNjE3MiAyMS43ODkxQzE5LjA3NTUgMjEuNTMzOSAxOC42NTEgMjEuMTc0NSAxOC4zNDM4IDIwLjcxMDlDMTguMDQxNyAyMC4yNDIyIDE3Ljg5ODQgMTkuNjg3NSAxNy45MTQxIDE5LjA0NjlMMTcuOTM3NSAxOUgxOS40MDYyQzE5LjQwNjIgMTkuNTk5IDE5LjU4ODUgMjAuMDc1NSAxOS45NTMxIDIwLjQyOTdDMjAuMzIyOSAyMC43ODM5IDIwLjgyODEgMjAuOTYwOSAyMS40Njg4IDIwLjk2MDlDMjIuMTE5OCAyMC45NjA5IDIyLjYzMDIgMjAuNzgzOSAyMyAyMC40Mjk3QzIzLjM2OTggMjAuMDc1NSAyMy41NTQ3IDE5LjU1MjEgMjMuNTU0NyAxOC44NTk0QzIzLjU1NDcgMTguMTU2MiAyMy4zOTA2IDE3LjYzOCAyMy4wNjI1IDE3LjMwNDdDMjIuNzM0NCAxNi45NzE0IDIyLjIxNjEgMTYuODA0NyAyMS41MDc4IDE2LjgwNDdIMjAuMTY0MVYxNS42MDE2SDIxLjUwNzhDMjIuMTkwMSAxNS42MDE2IDIyLjY3MTkgMTUuNDMyMyAyMi45NTMxIDE1LjA5MzhDMjMuMjM5NiAxNC43NSAyMy4zODI4IDE0LjI3MzQgMjMuMzgyOCAxMy42NjQxQzIzLjM4MjggMTIuMzM1OSAyMi43NDQ4IDExLjY3MTkgMjEuNDY4OCAxMS42NzE5QzIwLjg2OTggMTEuNjcxOSAyMC4zODggMTEuODQ5IDIwLjAyMzQgMTIuMjAzMUMxOS42NjQxIDEyLjU1MjEgMTkuNDg0NCAxMy4wMTgyIDE5LjQ4NDQgMTMuNjAxNkgxOC4wMDc4TDE3Ljk5MjIgMTMuNTU0N0MxNy45NzY2IDEyLjk4MTggMTguMTEyIDEyLjQ2MDkgMTguMzk4NCAxMS45OTIyQzE4LjY5MDEgMTEuNTIzNCAxOS4wOTkgMTEuMTUxIDE5LjYyNSAxMC44NzVDMjAuMTU2MiAxMC41OTkgMjAuNzcwOCAxMC40NjA5IDIxLjQ2ODggMTAuNDYwOUMyMi41MjA4IDEwLjQ2MDkgMjMuMzU5NCAxMC43NDIyIDIzLjk4NDQgMTEuMzA0N0MyNC42MDk0IDExLjg2MiAyNC45MjE5IDEyLjY1ODkgMjQuOTIxOSAxMy42OTUzQzI0LjkyMTkgMTQuMTY0MSAyNC43Nzg2IDE0LjYzMjggMjQuNDkyMiAxNS4xMDE2QzI0LjIxMDkgMTUuNTY1MSAyMy43ODY1IDE1LjkxOTMgMjMuMjE4OCAxNi4xNjQxQzIzLjkwMSAxNi4zODggMjQuMzgyOCAxNi43Mzk2IDI0LjY2NDEgMTcuMjE4OEMyNC45NTA1IDE3LjY5NzkgMjUuMDkzOCAxOC4yMzQ0IDI1LjA5MzggMTguODI4MUMyNS4wOTM4IDE5LjUyMDggMjQuOTM3NSAyMC4xMTcyIDI0LjYyNSAyMC42MTcyQzI0LjMxNzcgMjEuMTEyIDIzLjg5MDYgMjEuNDk0OCAyMy4zNDM4IDIxLjc2NTZDMjIuNzk2OSAyMi4wMzEyIDIyLjE3MTkgMjIuMTY0MSAyMS40Njg4IDIyLjE2NDFaIiBmaWxsPSIjMjIyMjIyIi8+Cjwvc3ZnPgo="],qZ=new mv(document),KZ=[...Array(3).keys()].map(n=>{const e=n+1;return{label:`Heading ${e}`,icon:ws(VZ[n]),id:`heading${e}`,attributes:{level:e}}});function ws(n){return qZ.bypassSecurityTrustUrl(n)}const s1=[...KZ,{label:"Paragraph",icon:ws("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTYuNDc0NjEgMTZWMTUuMjYxN0w3LjQyOTY5IDE1LjA5NzdWOC4zNzY5NUw2LjQ3NDYxIDguMjEyODlWNy40Njg3NUgxMC4zOTQ1QzExLjMwNDcgNy40Njg3NSAxMi4wMTE3IDcuNzAzMTIgMTIuNTE1NiA4LjE3MTg4QzEzLjAyMzQgOC42NDA2MiAxMy4yNzczIDkuMjU3ODEgMTMuMjc3MyAxMC4wMjM0QzEzLjI3NzMgMTAuNzk2OSAxMy4wMjM0IDExLjQxNiAxMi41MTU2IDExLjg4MDlDMTIuMDExNyAxMi4zNDU3IDExLjMwNDcgMTIuNTc4MSAxMC4zOTQ1IDEyLjU3ODFIOC41ODM5OFYxNS4wOTc3TDkuNTM5MDYgMTUuMjYxN1YxNkg2LjQ3NDYxWk04LjU4Mzk4IDExLjY3NThIMTAuMzk0NUMxMC45NzI3IDExLjY3NTggMTEuNDA0MyAxMS41MjE1IDExLjY4OTUgMTEuMjEyOUMxMS45Nzg1IDEwLjkwMDQgMTIuMTIzIDEwLjUwNzggMTIuMTIzIDEwLjAzNTJDMTIuMTIzIDkuNTYyNSAxMS45Nzg1IDkuMTY3OTcgMTEuNjg5NSA4Ljg1MTU2QzExLjQwNDMgOC41MzUxNiAxMC45NzI3IDguMzc2OTUgMTAuMzk0NSA4LjM3Njk1SDguNTgzOThWMTEuNjc1OFoiIGZpbGw9IiMyMjIyMjIiLz4KPHJlY3QgeD0iMTUiIHk9IjE0IiB3aWR0aD0iMTEiIGhlaWdodD0iMSIgZmlsbD0iIzIyMjIyMiIvPgo8cmVjdCB4PSI2IiB5PSIxOCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjEiIGZpbGw9IiMyMjIyMjIiLz4KPHJlY3QgeD0iNiIgeT0iMjIiIHdpZHRoPSIyMCIgaGVpZ2h0PSIxIiBmaWxsPSIjMjIyMjIyIi8+Cjwvc3ZnPgo="),id:"paragraph"},{label:"List Ordered",icon:ws("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTYuNzA4OTggMjAuNTMxMlYxOS43OTNMOC4wMjczNCAxOS42Mjg5VjEzLjIzNjNMNi42ODU1NSAxMy4yNTk4VjEyLjUzOTFMOS4xODE2NCAxMlYxOS42Mjg5TDEwLjQ5NDEgMTkuNzkzVjIwLjUzMTJINi43MDg5OFoiIGZpbGw9IiMyMjIyMjIiLz4KPHBhdGggZD0iTTExLjc5NDkgMjAuNTMxMlYxOS4zNDc3SDEyLjk0OTJWMjAuNTMxMkgxMS43OTQ5WiIgZmlsbD0iIzIyMjIyMiIvPgo8cmVjdCB4PSIxNSIgeT0iMTMiIHdpZHRoPSIxMSIgaGVpZ2h0PSIxIiBmaWxsPSIjMjIyMjIyIi8+CjxyZWN0IHg9IjE1IiB5PSIxNiIgd2lkdGg9IjExIiBoZWlnaHQ9IjEiIGZpbGw9IiMyMjIyMjIiLz4KPHJlY3QgeD0iMTUiIHk9IjE5IiB3aWR0aD0iMTEiIGhlaWdodD0iMSIgZmlsbD0iIzIyMjIyMiIvPgo8L3N2Zz4K"),id:"orderedList"},{label:"List Unordered",icon:ws("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMTQiIHk9IjEyIiB3aWR0aD0iMTIiIGhlaWdodD0iMSIgZmlsbD0iIzIyMjIyMiIvPgo8cmVjdCB4PSIxNCIgeT0iMTUiIHdpZHRoPSIxMiIgaGVpZ2h0PSIxIiBmaWxsPSIjMjIyMjIyIi8+CjxyZWN0IHg9IjE0IiB5PSIxOCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEiIGZpbGw9IiMyMjIyMjIiLz4KPGNpcmNsZSBjeD0iOC41IiBjeT0iMTUuNSIgcj0iMi41IiBmaWxsPSIjMjIyMjIyIi8+Cjwvc3ZnPgo="),id:"bulletList"},{label:"Blockquote",icon:ws("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTcuNjI1IDEzQzcuMTI1IDEzIDYuNzI1IDEyLjg1IDYuNDI1IDEyLjU1QzYuMTQxNjcgMTIuMjMzMyA2IDExLjggNiAxMS4yNUM2IDEwLjAzMzMgNi4zNzUgOC45NjY2NyA3LjEyNSA4LjA1QzcuNDU4MzMgNy42MTY2NyA3LjgzMzMzIDcuMjY2NjcgOC4yNSA3TDkgNy44NzVDOC43NjY2NyA4LjA0MTY3IDguNTMzMzMgOC4yNTgzMyA4LjMgOC41MjVDNy44NSA5LjAwODMzIDcuNjI1IDkuNSA3LjYyNSAxMEM4LjAwODMzIDEwIDguMzMzMzMgMTAuMTQxNyA4LjYgMTAuNDI1QzguODY2NjcgMTAuNzA4MyA5IDExLjA2NjcgOSAxMS41QzkgMTEuOTMzMyA4Ljg2NjY3IDEyLjI5MTcgOC42IDEyLjU3NUM4LjMzMzMzIDEyLjg1ODMgOC4wMDgzMyAxMyA3LjYyNSAxM1pNMTEuNjI1IDEzQzExLjEyNSAxMyAxMC43MjUgMTIuODUgMTAuNDI1IDEyLjU1QzEwLjE0MTcgMTIuMjMzMyAxMCAxMS44IDEwIDExLjI1QzEwIDEwLjAzMzMgMTAuMzc1IDguOTY2NjcgMTEuMTI1IDguMDVDMTEuNDU4MyA3LjYxNjY3IDExLjgzMzMgNy4yNjY2NyAxMi4yNSA3TDEzIDcuODc1QzEyLjc2NjcgOC4wNDE2NyAxMi41MzMzIDguMjU4MzMgMTIuMyA4LjUyNUMxMS44NSA5LjAwODMzIDExLjYyNSA5LjUgMTEuNjI1IDEwQzEyLjAwODMgMTAgMTIuMzMzMyAxMC4xNDE3IDEyLjYgMTAuNDI1QzEyLjg2NjcgMTAuNzA4MyAxMyAxMS4wNjY3IDEzIDExLjVDMTMgMTEuOTMzMyAxMi44NjY3IDEyLjI5MTcgMTIuNiAxMi41NzVDMTIuMzMzMyAxMi44NTgzIDEyLjAwODMgMTMgMTEuNjI1IDEzWiIgZmlsbD0iIzIyMjIyMiIvPgo8cmVjdCB4PSIxNSIgeT0iMTQiIHdpZHRoPSIxMSIgaGVpZ2h0PSIxIiBmaWxsPSIjMjIyMjIyIi8+CjxyZWN0IHg9IjYiIHk9IjE4IiB3aWR0aD0iMjAiIGhlaWdodD0iMSIgZmlsbD0iIzIyMjIyMiIvPgo8cmVjdCB4PSI2IiB5PSIyMiIgd2lkdGg9IjIwIiBoZWlnaHQ9IjEiIGZpbGw9IiMyMjIyMjIiLz4KPC9zdmc+Cg=="),id:"blockquote"},{label:"Code Block",icon:ws("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEzLjQgMjAuNkw4LjggMTZMMTMuNCAxMS40TDEyIDEwTDYgMTZMMTIgMjJMMTMuNCAyMC42Wk0xOC42IDIwLjZMMjMuMiAxNkwxOC42IDExLjRMMjAgMTBMMjYgMTZMMjAgMjJMMTguNiAyMC42WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg=="),id:"codeBlock"},{label:"Horizontal Line",icon:ws("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iNiIgeT0iMTUiIHdpZHRoPSIyMCIgaGVpZ2h0PSIyIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K"),id:"horizontalLine"}],JZ=[{name:"flip",options:{fallbackPlacements:["top"]}},{name:"preventOverflow",options:{altAxis:!1,tether:!1}}];function a1({editor:n,range:e,props:t}){const r={dotContent:()=>{n.chain().addContentletBlock({range:e,payload:t.payload}).run()},heading:()=>{n.chain().addHeading({range:e,type:t.type}).run()},orderedList:()=>{n.chain().deleteRange(e).toggleOrderedList().focus().run()},bulletList:()=>{n.chain().deleteRange(e).toggleBulletList().focus().run()},blockquote:()=>{n.chain().deleteRange(e).setBlockquote().focus().run()},codeBlock:()=>{n.chain().deleteRange(e).setCodeBlock().focus().run()},horizontalLine:()=>{n.chain().deleteRange(e).setHorizontalRule().focus().run()}};r[t.type.name]?r[t.type.name]():n.chain().setTextSelection(e).focus().run()}const tY=n=>{let e,t;const r=new Ct("suggestionPlugin"),i=new Me;function o({editor:l,range:c,clientRect:u}){t=function XZ(n){const e=n.createComponent(fk);return e.changeDetectorRef.detectChanges(),e}(n),t.instance.currentLanguage=l.storage.dotConfig.lang,t.instance.allowedContentTypes=l.storage.dotConfig.allowedContentTypes,t.instance.onSelection=d=>{var f;const h=(null===(f=r.getState(l.view.state).query)||void 0===f?void 0:f.length)||0;c.to=c.to+h,a1({editor:l,range:c,props:d})},t.instance.clearFilter.pipe(yI(i)).subscribe(d=>{const f={to:c.to+r.getState(l.view.state).query.length,from:d===hn.BLOCK?c.from:c.from+1};l.chain().deleteRange(f).run()}),e=function eY({element:n,content:e,rect:t,onHide:r}){return hu(n,{appendTo:document.body,content:e,placement:"bottom",popperOptions:{modifiers:JZ},getReferenceClientRect:t,showOnCreate:!0,interactive:!0,offset:[120,10],trigger:"manual",maxWidth:"none",onHide:r})}({element:l.view.dom,content:t.location.nativeElement,rect:u,onHide:()=>{const d=l.state.tr.setMeta(ob,{open:!1});l.view.dispatch(d)}})}function s({event:l}){const{key:c}=l;return"Escape"===c?(e.hide(),!0):"Enter"===c?(t.instance.execCommand(),!0):("ArrowDown"===c||"ArrowUp"===c)&&(t.instance.updateSelection(l),!0)}function a(){null==e||e.destroy(),t.destroy(),i.next(!0),i.complete()}return Tt.create({name:"actionsMenu",defaultOptions:{pluginKey:"actionsMenu",element:null,suggestion:{char:"/",pluginKey:r,allowSpaces:!0,startOfLine:!0,render:()=>({onStart:o,onKeyDown:s,onExit:a}),items:({query:l})=>(t&&t.instance.filterItems(l),[])}},addCommands:()=>({addHeading:({range:l,type:c})=>({chain:u})=>u().focus().deleteRange(l).toggleHeading({level:c.level}).focus().run(),addContentletBlock:({range:l,payload:c})=>({chain:u})=>u().deleteRange(l).command(d=>{const f=d.editor.schema.nodes.dotContent.create({data:c});return d.tr.replaceSelectionWith(f),!0}).focus().run()}),addProseMirrorPlugins(){const l=n.createComponent(jZ);return[BZ({command:a1,editor:this.editor,element:l.location.nativeElement,render:()=>({onStart:o,onKeyDown:s,onExit:a})}),iK(Object.assign({editor:this.editor},this.options.suggestion))]}})};class nY{constructor(e,t,r){this.applicationRef=t.get(Xo);const o=t.get(Ri).resolveComponentFactory(e);this.componentRef=o.create(t,[]),this.updateProps(r),this.applicationRef.attachView(this.componentRef.hostView)}get instance(){return this.componentRef.instance}get elementRef(){return this.componentRef.injector.get(_t)}get dom(){return this.elementRef.nativeElement}updateProps(e){Object.entries(e).forEach(([t,r])=>{this.instance[t]=r})}detectChanges(){this.componentRef.changeDetectorRef.detectChanges()}destroy(){this.componentRef.destroy(),this.applicationRef.detachView(this.componentRef.hostView)}}let sb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Et({type:n,selectors:[["ng-component"]],inputs:{editor:"editor",node:"node",decorations:"decorations",selected:"selected",extension:"extension",getPos:"getPos",updateAttributes:"updateAttributes",deleteNode:"deleteNode"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class rY extends class R5{constructor(e,t,r){this.isDragging=!1,this.component=e,this.editor=t.editor,this.options=S({stopEvent:null,ignoreMutation:null},r),this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return null}get contentDOM(){return null}onDragStart(e){var t,r,i,o,s,a,l;const{view:c}=this.editor,u=e.target,d=3===u.nodeType?null===(t=u.parentElement)||void 0===t?void 0:t.closest("[data-drag-handle]"):u.closest("[data-drag-handle]");if(!this.dom||(null===(r=this.contentDOM)||void 0===r?void 0:r.contains(u))||!d)return;let f=0,h=0;if(this.dom!==d){const m=this.dom.getBoundingClientRect(),y=d.getBoundingClientRect(),v=null!==(i=e.offsetX)&&void 0!==i?i:null===(o=e.nativeEvent)||void 0===o?void 0:o.offsetX,b=null!==(s=e.offsetY)&&void 0!==s?s:null===(a=e.nativeEvent)||void 0===a?void 0:a.offsetY;f=y.x-m.x+v,h=y.y-m.y+b}null===(l=e.dataTransfer)||void 0===l||l.setDragImage(this.dom,f,h);const p=ne.create(c.state.doc,this.getPos()),g=c.state.tr.setSelection(p);c.dispatch(g)}stopEvent(e){var t;if(!this.dom)return!1;if("function"==typeof this.options.stopEvent)return this.options.stopEvent({event:e});const r=e.target;if(!this.dom.contains(r)||(null===(t=this.contentDOM)||void 0===t?void 0:t.contains(r)))return!1;const o="drop"===e.type;if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!o)return!0;const{isEditable:a}=this.editor,{isDragging:l}=this,c=!!this.node.type.spec.draggable,u=ne.isSelectable(this.node),d="copy"===e.type,f="paste"===e.type,h="cut"===e.type,p="mousedown"===e.type,g=e.type.startsWith("drag");if(!c&&u&&g&&e.preventDefault(),c&&g&&!l)return e.preventDefault(),!1;if(c&&a&&!l&&p){const m=r.closest("[data-drag-handle]");m&&(this.dom===m||this.dom.contains(m))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(l||o||d||f||h||p&&u)}ignoreMutation(e){return!this.dom||!this.contentDOM||("function"==typeof this.options.ignoreMutation?this.options.ignoreMutation({mutation:e}):!(!this.node.isLeaf&&!this.node.isAtom&&("selection"===e.type||this.dom.contains(e.target)&&"childList"===e.type&&$f()&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)||(this.contentDOM!==e.target||"attributes"!==e.type)&&this.contentDOM.contains(e.target))))}updateAttributes(e){this.editor.commands.command(({tr:t})=>{const r=this.getPos();return t.setNodeMarkup(r,void 0,S(S({},this.node.attrs),e)),!0})}deleteNode(){const e=this.getPos();this.editor.commands.deleteRange({from:e,to:e+this.node.nodeSize})}}{mount(){this.renderer=new nY(this.component,this.options.injector,{editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(r={})=>this.updateAttributes(r),deleteNode:()=>this.deleteNode()}),this.extension.config.draggable&&(this.renderer.elementRef.nativeElement.ondragstart=r=>{this.onDragStart(r)}),this.contentDOMElement=this.node.isLeaf?null:document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit",this.renderer.detectChanges())}get dom(){return this.renderer.dom}get contentDOM(){return this.node.isLeaf?null:(this.maybeMoveContentDOM(),this.contentDOMElement)}maybeMoveContentDOM(){const e=this.dom.querySelector("[data-node-view-content]");this.contentDOMElement&&e&&!e.contains(this.contentDOMElement)&&e.appendChild(this.contentDOMElement)}update(e,t){return this.options.update?this.options.update(e,t):e.type===this.node.type&&(e===this.node&&this.decorations===t||(this.node=e,this.decorations=t,this.renderer.updateProps({node:e,decorations:t}),this.maybeMoveContentDOM()),!0)}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}destroy(){this.renderer.destroy()}}const l1=(n,e)=>t=>new rY(n,t,e);function iY(n,e){if(1&n&&(H(0,"a",2),$t(1,"img",3),W()),2&n){const t=U();k("href",t.href,so),N(1),k("src",t.data.asset,so)("alt",t.data.name)}}function oY(n,e){if(1&n&&$t(0,"img",4),2&n){const t=U();k("src",t.data.asset,so)("alt",t.data.name)}}let sY=(()=>{class n extends sb{constructor(t){super(),this._elementRef=t}ngOnInit(){this.data=this.node.attrs.data,this.editor.on("update",this.updateImageAttributes.bind(this)),this.updateImageAttributes()}ngOnDestroy(){this.editor.off("update",this.updateImageAttributes.bind(this))}updateImageAttributes(){this._elementRef.nativeElement.style.textAlign=this.node.attrs.textAlign,this.href=this.node.attrs.href}}return n.\u0275fac=function(t){return new(t||n)(w(_t))},n.\u0275cmp=Et({type:n,selectors:[["dotcms-image-block"]],features:[xe],decls:3,vars:2,consts:[["target","_blank","rel","noreferrer",3,"href",4,"ngIf","ngIfElse"],["noLink",""],["target","_blank","rel","noreferrer",3,"href"],[3,"src","alt"],["loading","lazy",3,"src","alt"]],template:function(t,r){if(1&t&&(q(0,iY,2,3,"a",0),q(1,oY,1,2,"ng-template",null,1,Jo)),2&t){const i=co(2);k("ngIf",r.href)("ngIfElse",i)}},directives:[ho],styles:["[_nghost-%COMP%]{display:block;margin-bottom:1rem}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}"]}),n})();const aY=n=>fn.create({name:"dotImage",group:"block",inline:!1,draggable:!0,addAttributes:()=>({data:{default:null,parseHTML:e=>e.getAttribute("data"),renderHTML:e=>({data:e.data})},href:{default:null,parseHTML:e=>e.getAttribute("href"),renderHTML:e=>({href:e.href})}}),addCommands:()=>({setImageLink:e=>({commands:t})=>t.updateAttributes("dotImage",e),unsetImageLink:()=>({commands:e})=>e.updateAttributes("dotImage",{href:""})}),parseHTML:()=>[{tag:"dotcms-image-block"}],renderHTML:({HTMLAttributes:e})=>["dotcms-image-block",xt(e)],addNodeView:()=>l1(sY,{injector:n})});let lY=(()=>{class n extends sb{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=jt(n)))(r||n)}}(),n.\u0275cmp=Et({type:n,selectors:[["dotcms-message"]],features:[xe],decls:2,vars:2,consts:[[3,"ngClass"]],template:function(t,r){1&t&&(H(0,"span",0),Ye(1),W()),2&t&&(k("ngClass",r.data.type),N(1),An(r.data.message))},directives:[uc],styles:["dotcms-message{background-color:#b3b1b8;display:block;padding:1rem}\n"],encapsulation:2}),n})();const ab=new rt({state:{init:()=>Oe.empty,apply(n,e){e=e.map(n.mapping,n.doc);const t=n.getMeta(this);if(t&&t.add){const r=Dt.widget(t.add.pos,t.add.element,{id:t.add.id});e=e.add(n.doc,[r])}else t&&t.remove&&(e=e.remove(e.find(null,null,r=>r.id==t.remove.id)));return e}},props:{decorations(n){return this.getState(n)}}}),cY=(n,e)=>Tt.create({name:"imageUpload",addProseMirrorPlugins(){const t=n.get(uk),r=this.editor;function i(c){let u;if(u="drop"===c.type?c.dataTransfer.files:c.clipboardData.files,u.length>0)for(let d=0;d<u.length;d++)if(!u[d].type.startsWith("image/"))return!1;return!!u.length}function s(c,u,d){const f=u[0].name;(function o(c,u,d){const f=e.createComponent(lY),h=c.state.tr;f.instance.data={message:"Uploading...",type:"info"},f.changeDetectorRef.detectChanges(),h.setMeta(ab,{add:{id:d,pos:u,element:f.location.nativeElement}}),c.dispatch(h)})(c,d,f),t.publishContent(u).pipe(vs(1)).subscribe(h=>{const g={attrs:{data:h[0][Object.keys(h[0])[0]]},type:"dotImage"};r.commands.insertContentAt(d,g)},h=>alert(h.message),()=>function a(c){const{view:u}=r,{state:d}=u;u.dispatch(d.tr.setMeta(ab,{remove:{id:c}}))}(f))}return[ab,new rt({key:new Ct("imageUpload"),props:{handleDOMEvents:{paste(c,u){if(i(u)){if(1!==u.clipboardData.files.length)return alert("Can paste just one image at a time"),!1;const{from:d}=function l(c){const{state:u}=c,{selection:d}=u,{ranges:f}=d;return{from:Math.min(...f.map(g=>g.$from.pos)),to:Math.max(...f.map(g=>g.$to.pos))}}(c);s(c,Array.from(u.clipboardData.files),d)}return!1},drop(c,u){if(i(u)){if(u.preventDefault(),1!==u.dataTransfer.files.length)return alert("Can drop just one image at a time"),!1;const{pos:d}=c.posAtCoords({left:u.clientX,top:u.clientY});s(c,Array.from(u.dataTransfer.files),d)}return!1}}}})]}});let uY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Et({type:n,selectors:[["dotcms-drag-handler"]],decls:2,vars:0,consts:[[1,"material-icons"]],template:function(t,r){1&t&&(H(0,"i",0),Ye(1,"drag_indicator"),W())},styles:["[_nghost-%COMP%]{position:absolute;cursor:grab;z-index:1;opacity:0;color:var(--color-background);transition:opacity .25s,top .15s}.visible[_nghost-%COMP%]{opacity:1}"]}),n})();const dY=n=>Tt.create({name:"dragHandler",addProseMirrorPlugins(){let e=null;const i=n.createComponent(uY).location.nativeElement;function c(p){for(var g,m;p&&p.parentNode&&!(null===(g=p.classList)||void 0===g?void 0:g.contains("ProseMirror"))&&!(null===(m=p.parentNode.classList)||void 0===m?void 0:m.contains("ProseMirror"));)p=p.parentNode;return p}function f(){i.classList.remove("visible")}return[new rt({key:new Ct("dragHandler"),view:p=>(requestAnimationFrame(()=>function d(p){i.setAttribute("draggable","true"),i.addEventListener("dragstart",g=>function l(p,g){if(!p.dataTransfer)return;const y=function a(p,g){const m=g.posAtCoords(p);if(m){const y=c(g.nodeDOM(m.inside));if(y&&1===y.nodeType){const v=g.docView.nearestDesc(y,!0);if(v&&v!==g.docView)return v.posBefore}}return null}({left:p.clientX+50,top:p.clientY},g);if(null!=y){g.dispatch(g.state.tr.setSelection(ne.create(g.state.doc,y)));const v=g.state.selection.content();p.dataTransfer.clearData(),p.dataTransfer.setDragImage(e,10,10),g.dragging={slice:v,move:!0}}}(g,p)),i.classList.remove("visible"),p.dom.parentElement.appendChild(i)}(p)),document.body.addEventListener("scroll",f,!0),{destroy(){(function s(p){p&&p.parentNode&&p.parentNode.removeChild(p)})(i),document.body.removeEventListener("scroll",f,!0)}}),props:{handleDOMEvents:{drop:()=>(setTimeout(()=>{const p=document.querySelector(".ProseMirror-hideselection");p&&p.classList.remove("ProseMirror-hideselection"),i.classList.remove("visible")}),!1),mousemove(p,g){const y=p.posAtCoords({left:g.clientX+50,top:g.clientY});if(y&&function u(p,g){const m=p.nodeDOM(g);return!(!(null==m?void 0:m.hasChildNodes())||1===m.childNodes.length&&"BR"==m.childNodes[0].nodeName)}(p,y.inside))if(e=c(p.nodeDOM(y.inside)),function h(p){var g;return p&&!(null===(g=p.classList)||void 0===g?void 0:g.contains("ProseMirror"))&&!p.innerText.startsWith("/")}(e)){const{top:v,left:b}=function o(p,g){return{top:g.getBoundingClientRect().top-p.getBoundingClientRect().top,left:g.getBoundingClientRect().left-p.getBoundingClientRect().left}}(p.dom.parentElement,e);i.style.left=b-25+"px",i.style.top=v<0?0:v+"px",i.classList.add("visible")}else i.classList.remove("visible");else e=null,i.classList.remove("visible");return!1}}}})]}}),fY=["input"];function hY(n,e){if(1&n){const t=ni();H(0,"div",6)(1,"div",7)(2,"span",8),Ye(3,"LINKED TO"),W(),H(4,"div",9)(5,"a",10)(6,"span",11),Ye(7,"language"),W(),Ye(8),Id(9,"slice"),W()()(),H(10,"div",12)(11,"button",13),Le("click",function(){return Bt(t),U().copyLink()}),Ye(12," COPY LINK "),W(),H(13,"button",14),Le("click",function(){return Bt(t),U().removeLink.emit(!0)}),Ye(14," REMOVE LINK "),W()()()}if(2&n){const t=U();N(5),k("href",t.nodeLink,so),N(3),uo(" ",t.nodeLink.length>50?function bw(n,e,t,r,i){const o=n+20,s=T(),a=Ls(s,o);return nc(s,o)?vw(s,vn(),e,a.transform,t,r,i,a):a.transform(t,r,i)}(9,2,t.nodeLink,0,50)+"...":t.nodeLink," ")}}let pY=(()=>{class n{constructor(){this.hideForm=new Ae(!1),this.removeLink=new Ae(!1),this.setLink=new Ae,this.nodeLink="",this.newLink=""}addLink(){this.setLink.emit(this.newLink)}copyLink(){navigator.clipboard.writeText(this.nodeLink).then(()=>this.hideForm.emit(!0)).catch(()=>alert("Could not copy link"))}focusInput(){this.input.nativeElement.focus()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Et({type:n,selectors:[["dotcms-bubble-menu-link-form"]],viewQuery:function(t,r){if(1&t&&xd(fY,5),2&t){let i;qn(i=Kn())&&(r.input=i.first)}},inputs:{nodeLink:"nodeLink",newLink:"newLink"},outputs:{hideForm:"hideForm",removeLink:"removeLink",setLink:"setLink"},decls:7,vars:2,consts:[[1,"form-container"],["autoComplete","off",3,"mousedown","submit"],["name","link","placeholder","Type or Paste Link","type","text",3,"ngModel","ngModelChange"],["input",""],["click","addLink()",1,"btn","btn-add"],["class","card-container",4,"ngIf"],[1,"card-container"],[1,"card-header"],[1,"linked-to"],[1,"link-container"],["target","_blank",1,"link",3,"href"],[1,"material-icons"],[1,"card-footer"],[1,"btn","btn-copy",3,"click"],[1,"btn","btn-remove",3,"click"]],template:function(t,r){1&t&&(H(0,"div",0)(1,"form",1),Le("mousedown",function(){return r.focusInput()})("submit",function(){return r.addLink()}),H(2,"input",2,3),Le("ngModelChange",function(o){return r.newLink=o}),W(),H(4,"button",4),Ye(5,"ADD"),W()(),q(6,hY,15,6,"div",5),W()),2&t&&(N(2),k("ngModel",r.newLink),N(4),k("ngIf",r.nodeLink))},directives:[LM,DM,ff,ef,bv,hf,ho],pipes:[PS],styles:[".form-container[_ngcontent-%COMP%]{background:#ffffff;border-radius:2px;box-shadow:0 4px 10px #0a07251a;display:flex;flex-direction:column;padding:.5rem;width:400px}form[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;gap:.5rem;justify-content:space-between;width:100%}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#FFFFFF;border-radius:2px;border:1px solid #B3B1B8;box-sizing:border-box;padding:.85rem;width:calc(100% - 5.5rem)}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.card-container[_ngcontent-%COMP%]{padding:.5rem}.card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;padding-bottom:.75rem;padding-top:1rem}.linked-to[_ngcontent-%COMP%]{color:#7e7a86;font-size:.85rem;font-weight:500}.link-container[_ngcontent-%COMP%]{cursor:pointer;white-space:nowrap;word-wrap:normal}.link-container[_ngcontent-%COMP%]:hover{background-color:#f1f3f4}.link[_ngcontent-%COMP%]{align-items:center;color:#0a0725;display:flex;font-size:1rem;gap:.5rem;height:100%;justify-content:flex-start;padding:.5rem 0;text-decoration:none;width:100%}.card-footer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.btn[_ngcontent-%COMP%]{align-items:center;background:#ffffff;border-radius:2px;cursor:pointer;display:flex;font-weight:700;justify-content:center;padding:.85rem 1rem;width:180px}.btn-add[_ngcontent-%COMP%]{width:5.5rem;background:#576BE8;border:1px solid #576BE8;color:#fff}.btn-copy[_ngcontent-%COMP%]{border:1px solid #576BE8;color:#576be8}.btn-remove[_ngcontent-%COMP%]{border:1px solid #EC4B41;color:#ec4b41}"]}),n})();class gY{constructor({editor:e,element:t,view:r,tippyOptions:i={},pluginKey:o,storage:s,component:a}){this.focusHandler=()=>{var l;(null===(l=this.tippy)||void 0===l?void 0:l.state.isVisible)&&this.hide()},this.editor=e,this.element=t,this.view=r,this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible",this.pluginKey=o,this.component=a,this.storage=s,this.editor.on("focus",this.focusHandler),this.setComponentEvents(),document.body.addEventListener("scroll",this.hanlderScroll.bind(this),!0)}update(e,t){var r;const i=this.pluginKey.getState(e.state),o=this.pluginKey.getState(t);i.toggle!==o.toggle?(this.createTooltip(),(null===(r=this.tippy)||void 0===r?void 0:r.state.isVisible)?this.hide():this.show(),this.detectLinkFormChanges()):this.detectLinkFormChanges()}createTooltip(){const{element:e}=this.editor.options;this.tippy||!e.parentElement||(this.tippy=hu(e,Object.assign({appendTo:document.body,duration:250,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"bottom-start",hideOnClick:"toggle"},this.tippyOptions)))}show(){var e,t;null===(e=this.tippy)||void 0===e||e.show(),this.setInputValues(),this.focusInput(),null===(t=this.tippy)||void 0===t||t.setProps({getReferenceClientRect:()=>this.setTippyPosition()})}hide(){var e;null===(e=this.tippy)||void 0===e||e.hide(),this.editor.view.focus(),this.editor.commands.unsetHighlight()}setTippyPosition(){const{view:e}=this.editor,{state:t}=e,{doc:r,selection:i}=t,{ranges:o}=i,s=Math.min(...o.map(g=>g.$from.pos)),l=Wc(e,s,Math.max(...o.map(g=>g.$to.pos))),{element:c}=this.editor.options,u=c.parentElement.getBoundingClientRect(),d=document.querySelector("#bubble-menu").getBoundingClientRect(),f=u.bottom<l.bottom,p="dotImage"===(null==r?void 0:r.nodeAt(s)).type.name;return f||p?d:l}addLink(e){this.isDotImageNode()?this.editor.commands.setImageLink({href:e}):this.editor.commands.setLink({href:e}),this.hide()}removeLink(){this.isDotImageNode()?this.editor.commands.unsetImageLink():this.editor.commands.unsetLink(),this.hide()}setInputValues(){this.component.instance.nodeLink=this.getNodeLink(),this.component.instance.newLink=this.getNodeLink()||this.getLinkSelect()}focusInput(){this.component.instance.focusInput()}setComponentEvents(){this.component.instance.hideForm.subscribe(()=>this.hide()),this.component.instance.removeLink.subscribe(()=>this.removeLink()),this.component.instance.setLink.subscribe(e=>this.addLink(e))}detectLinkFormChanges(){this.component.changeDetectorRef.detectChanges()}getNodeLink(){return this.editor.isActive("link")?this.editor.getAttributes("link").href:this.editor.getAttributes("dotImage").href||""}getLinkSelect(){const{state:e}=this.editor,{from:t,to:r}=e.selection,i=e.doc.textBetween(t,r," ");return this.isLink(i)?i:""}isLink(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}isDotImageNode(){const{type:e}=this.editor.state.doc.nodeAt(this.editor.state.selection.from);return"dotImage"===e.name}destroy(){var e;null===(e=this.tippy)||void 0===e||e.destroy(),this.editor.off("focus",this.focusHandler)}hanlderScroll(){var e,t;(null===(e=this.tippy)||void 0===e?void 0:e.state.isVisible)&&(null===(t=this.tippy)||void 0===t||t.hide())}}const mY=n=>new rt({key:n.pluginKey,view:e=>new gY(Object.assign({view:e},n)),state:{init:()=>({toggle:!0}),apply:e=>(e.getMeta(n.pluginKey),{toggle:n.storage.show})}}),vY=new Ct("addLink"),yY=(n,e)=>Tt.create({name:"bubbleLinkForm",defaultOptions:{element:null,tippyOptions:{},pluginKey:vY},addStorage:()=>({show:!0}),addCommands(){return{toogleLinkForm:()=>({commands:t})=>(this.storage.show=!this.storage.show,t.setHighlight())}},addProseMirrorPlugins(){const t=e.createComponent(pY);return t.changeDetectorRef.detectChanges(),[mY({pluginKey:this.options.pluginKey,editor:this.editor,element:t.location.nativeElement,tippyOptions:this.options.tippyOptions,storage:this.storage,component:t})]}});class c1{constructor({editor:e,element:t,view:r,tippyOptions:i={},shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:s,state:a,from:l,to:c})=>{const{doc:u,selection:d}=a,{empty:f}=d,h=!u.textBetween(l,c).length&&n_(a.selection);return!(!s.hasFocus()||f||h)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:s})=>{var a;this.preventHide?this.preventHide=!1:(null==s?void 0:s.relatedTarget)&&(null===(a=this.element.parentNode)||void 0===a?void 0:a.contains(s.relatedTarget))||this.hide()},this.editor=e,this.element=t,this.view=r,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options;this.tippy||!e.parentElement||(this.tippy=hu(e,S({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle"},this.tippyOptions)),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",r=>{this.blurHandler({event:r})}))}update(e,t){var r,i,o;const{state:s,composing:a}=e,{doc:l,selection:c}=s,u=t&&t.doc.eq(l)&&t.selection.eq(c);if(a||u)return;this.createTooltip();const{ranges:d}=c,f=Math.min(...d.map(g=>g.$from.pos)),h=Math.max(...d.map(g=>g.$to.pos));(null===(r=this.shouldShow)||void 0===r?void 0:r.call(this,{editor:this.editor,view:e,state:s,oldState:t,from:f,to:h}))?(null===(i=this.tippy)||void 0===i||i.setProps({getReferenceClientRect:(null===(o=this.tippyOptions)||void 0===o?void 0:o.getReferenceClientRect)||(()=>{if(SA(s.selection)){const g=e.nodeDOM(f);if(g)return g.getBoundingClientRect()}return Wc(e,f,h)})}),this.show()):this.hide()}show(){var e;null===(e=this.tippy)||void 0===e||e.show()}hide(){var e;null===(e=this.tippy)||void 0===e||e.hide()}destroy(){var e;null===(e=this.tippy)||void 0===e||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const _Y=n=>new rt({key:"string"==typeof n.pluginKey?new Ct(n.pluginKey):n.pluginKey,view:e=>new c1(S({view:e},n))}),bY=Tt.create({name:"bubbleMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"bubbleMenu",shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[_Y({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}}),CY=({editor:n,state:e,from:t,to:r})=>{const{doc:i,selection:o}=e,{empty:s}=o,a=n.state.doc.nodeAt(n.state.selection.from),l=!i.textBetween(t,r).length&&n_(e.selection);return!(!n.isFocused||s||l||"dotContent"==(null==a?void 0:a.type.name))},u1=n=>n.isActive("bulletList")||n.isActive("orderedList"),EY=[{icon:"format_bold",markAction:"bold",active:!1},{icon:"format_underlined",markAction:"underline",active:!1},{icon:"format_italic",markAction:"italic",active:!1},{icon:"strikethrough_s",markAction:"strike",active:!1,divider:!0},{icon:"format_align_left",markAction:"left",active:!1},{icon:"format_align_center",markAction:"center",active:!1},{icon:"format_align_right",markAction:"right",active:!1,divider:!0},{icon:"format_list_bulleted",markAction:"bulletList",active:!1},{icon:"format_list_numbered",markAction:"orderedList",active:!1},{icon:"format_indent_decrease",markAction:"outdent",active:!1},{icon:"format_indent_increase",markAction:"indent",active:!1,divider:!0},{icon:"link",markAction:"link",active:!1,divider:!0},{icon:"format_clear",markAction:"clearAll",active:!1,divider:!0},{icon:"delete",markAction:"deleteNode",active:!1}],wY=[{icon:"format_align_left",markAction:"left",active:!1},{icon:"format_align_center",markAction:"center",active:!1},{icon:"format_align_right",markAction:"right",active:!1,divider:!0},{icon:"link",markAction:"link",active:!1,divider:!0},{icon:"delete",markAction:"deleteNode",active:!1,divider:!1}],SY=[{name:"offset",options:{offset:[0,5]}},{name:"flip",options:{fallbackPlacements:["bottom-start","top-start"]}},{name:"preventOverflow",options:{altAxis:!0,tether:!0}}],d1=(n,e)=>{let r,t=n.depth;do{if(r=n.node(t),r){if(Array.isArray(e)&&e.includes(r.type.name))break;t--}}while(t>0&&r);return r},MY=n=>{const e=n.component.instance,t=n.changeToComponent.instance;return new rt({key:"string"==typeof n.pluginKey?new Ct(n.pluginKey):n.pluginKey,view:r=>new IY(Object.assign({view:r},n)),props:{handleKeyDown(r,i){const{key:o}=i;if(t.isOpen){if("Escape"===o)return e.toggleChangeTo.emit(),!0;if("Enter"===o)return t.execCommand(),!0;if("ArrowDown"===o||"ArrowUp"===o)return t.updateSelection(i),!0}return!1}}})};class IY extends c1{constructor(e){super(e),this.shouldShowProp=!1,this.updateActiveItems=(i=[],o)=>i.map(s=>(s.active=o.includes(s.markAction),s)),this.enabledMarks=()=>[...Object.keys(this.editor.schema.marks),...Object.keys(this.editor.schema.nodes)],this.setActiveMarks=(i=[])=>[...this.enabledMarks().filter(o=>this.editor.isActive(o)),...i.filter(o=>this.editor.isActive({textAlign:o}))];const{component:t,changeToComponent:r}=e;this.component=t,this.changeTo=r,this.changeToElement=this.changeTo.location.nativeElement,this.component.instance.command.subscribe(this.exeCommand.bind(this)),this.component.instance.toggleChangeTo.subscribe(this.toggleChangeTo.bind(this)),this.changeTo.instance.items=this.setChangeToOptions(),this.changeTo.instance.title="Change To",this.changeToElement.remove(),this.changeTo.changeDetectorRef.detectChanges(),document.body.addEventListener("scroll",this.hanlderScroll.bind(this),!0),document.body.addEventListener("mouseup",this.showMenu.bind(this),!0),document.body.addEventListener("keyup",this.showMenu.bind(this),!0)}showMenu(){var e;this.shouldShowProp&&(null===(e=this.tippyChangeTo)||void 0===e||e.setProps({getReferenceClientRect:()=>{var t;return null===(t=this.tippy)||void 0===t?void 0:t.popper.getBoundingClientRect()}}),this.show())}update(e,t){var r,i,o;const{state:s,composing:a}=e,{doc:l,selection:c}=s,u=t&&t.doc.eq(l)&&t.selection.eq(c);if(a||u)return;this.createTooltip(),this.createChangeToTooltip();const{ranges:d}=c;this.selectionRange=d[0],this.selectionNodesCount=0,l.nodesBetween(this.selectionRange.$from.pos,this.selectionRange.$to.pos,(p,g)=>{p.isBlock&&this.selectionNodesCount++});const f=Math.min(...d.map(p=>p.$from.pos)),h=Math.max(...d.map(p=>p.$to.pos));if(this.shouldShowProp=null===(r=this.shouldShow)||void 0===r?void 0:r.call(this,{editor:this.editor,view:e,state:s,oldState:t,from:f,to:h}),!this.shouldShowProp)return this.hide(),void(null===(i=this.tippyChangeTo)||void 0===i||i.hide());null===(o=this.tippy)||void 0===o||o.setProps({getReferenceClientRect:()=>{if(SA(c)){const p=e.nodeDOM(f);if(p)return((n,e)=>{const t=n.getElementsByTagName("img")[0];return"dotImage"===e&&t?t.getBoundingClientRect():n.getBoundingClientRect()})(p,l.nodeAt(f).type.name)}return Wc(e,f,h)}}),this.updateComponent(),this.setMenuItems(l,f)}destroy(){var e,t;null===(e=this.tippy)||void 0===e||e.destroy(),null===(t=this.tippyChangeTo)||void 0===t||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.component.instance.command.unsubscribe(),this.component.instance.toggleChangeTo.unsubscribe(),this.component.destroy(),this.changeTo.destroy(),document.body.removeEventListener("scroll",this.hanlderScroll.bind(this),!0),document.body.removeEventListener("mouseup",this.showMenu.bind(this),!0),document.body.removeEventListener("keyup",this.showMenu.bind(this),!0)}updateComponent(){const{items:e}=this.component.instance,r=this.setActiveMarks(["left","center","right"]);this.setSelectedNodeItem(),this.component.instance.items=this.updateActiveItems(e,r),this.component.changeDetectorRef.detectChanges()}setMenuItems(e,t){const r=e.nodeAt(t),i="dotImage"==(null==r?void 0:r.type.name);this.selectionNode=r,this.component.instance.items=i?wY:EY}exeCommand(e){const{markAction:t,active:r}=e;switch(t){case"bold":this.editor.commands.toggleBold();break;case"italic":this.editor.commands.toggleItalic();break;case"strike":this.editor.commands.toggleStrike();break;case"underline":this.editor.commands.toggleUnderline();break;case"left":case"center":case"right":this.toggleTextAlign(t,r);break;case"bulletList":this.editor.commands.toggleBulletList();break;case"orderedList":this.editor.commands.toggleOrderedList();break;case"indent":u1(this.editor)&&this.editor.commands.sinkListItem("listItem");break;case"outdent":u1(this.editor)&&this.editor.commands.liftListItem("listItem");break;case"link":this.editor.commands.toogleLinkForm();break;case"deleteNode":this.selectionNodesCount>1?this.deleteByRange():this.deleteByNode();break;case"clearAll":this.editor.commands.unsetAllMarks(),this.editor.commands.clearNodes()}}toggleTextAlign(e,t){t?this.editor.commands.unsetTextAlign():this.editor.commands.setTextAlign(e)}setChangeToOptions(){const e=s1.filter(r=>"horizontalLine"!=r.id),t={heading1:()=>{this.editor.chain().focus().clearNodes().setHeading({level:1}).run()},heading2:()=>{this.editor.chain().focus().clearNodes().setHeading({level:2}).run()},heading3:()=>{this.editor.chain().focus().clearNodes().setHeading({level:3}).run()},paragraph:()=>{this.editor.chain().focus().clearNodes().setParagraph().run()},orderedList:()=>{this.editor.chain().focus().clearNodes().toggleOrderedList().run()},bulletList:()=>{this.editor.chain().focus().clearNodes().toggleBulletList().run()},blockquote:()=>{this.editor.chain().focus().clearNodes().toggleBlockquote().run()},codeBlock:()=>{this.editor.chain().focus().clearNodes().toggleCodeBlock().run()}};return e.forEach(r=>{r.isActive=()=>r.id.includes("heading")?this.editor.isActive("heading",r.attributes):this.editor.isActive(r.id),r.command=()=>{t[r.id](),this.tippyChangeTo.hide(),this.setSelectedNodeItem()}}),e}setSelectedNodeItem(){const e=this.changeTo.instance.items,t=e.filter(i=>null==i?void 0:i.isActive()),r=t.length>1?t[1]:t[0];this.changeTo.instance.updateActiveItem(e.findIndex(i=>i===r)),this.component.instance.selected=(null==r?void 0:r.label)||""}createChangeToTooltip(){const{element:e}=this.editor.options;this.tippyChangeTo||!e||(this.tippyChangeTo=hu(e,Object.assign(Object.assign({},this.tippyOptions),{appendTo:document.body,getReferenceClientRect:null,content:this.changeToElement,placement:"bottom-start",duration:0,hideOnClick:!1,popperOptions:{modifiers:SY},onHide:()=>{this.changeTo.instance.isOpen=!1},onShow:()=>{this.changeTo.instance.isOpen=!0,this.setSelectedNodeItem()}})))}toggleChangeTo(){var e,t;this.tippyChangeTo.state.isVisible?null===(e=this.tippyChangeTo)||void 0===e||e.hide():null===(t=this.tippyChangeTo)||void 0===t||t.show()}hanlderScroll(){var e,t;(null===(e=this.tippyChangeTo)||void 0===e?void 0:e.state.isVisible)&&(null===(t=this.tippyChangeTo)||void 0===t||t.hide())}deleteByNode(){LY.includes(this.selectionNode.type.name)?this.deleteSelectedCustomNodeType():this.deleteSelectionNode()}deleteByRange(){const e=this.selectionRange.$from.pos,t=this.selectionRange.$to.pos+1;this.editor.chain().deleteRange({from:e,to:t}).blur().run()}deleteSelectedCustomNodeType(){const e=this.selectionRange.$from.pos,t=e+1;this.editor.chain().deleteRange({from:e,to:t}).blur().run()}deleteSelectionNode(){const e=d1(this.selectionRange.$from);switch(e.type.name){case Ei.ORDERED_LIST:case Ei.BULLET_LIST:const r=d1(this.selectionRange.$from,[Ei.ORDERED_LIST,Ei.BULLET_LIST]),{childCount:i}=r;i>1?this.editor.chain().deleteNode(Ei.LIST_ITEM).blur().run():this.editor.chain().deleteNode(r.type).blur().run();break;default:this.editor.chain().deleteNode(e.type).blur().run()}}}const TY={duration:500,maxWidth:"none",placement:"top-start",trigger:"manual",interactive:!0};function xY(n){const e=n.createComponent(eK),t=e.location.nativeElement,r=n.createComponent(fk),i=r.location.nativeElement;return bY.extend({addOptions:()=>({element:null,tippyOptions:TY,pluginKey:"bubbleMenu",shouldShow:CY}),addProseMirrorPlugins(){return t?[MY({component:e,changeToComponent:r,pluginKey:this.options.pluginKey,editor:this.editor,element:t,changeToElement:i,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}})}let AY=(()=>{class n{transform({live:t,working:r,deleted:i,hasLiveVersion:o}){return{live:t,working:r,deleted:i,hasLiveVersion:o}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=mn({name:"contentletState",type:n,pure:!0}),n})();function OY(n,e){if(1&n&&$t(0,"dot-contentlet-thumbnail",3),2&n){const t=U();k("width",94)("height",94)("iconSize","72px")("contentlet",t.data)}}function kY(n,e){if(1&n&&(H(0,"h3"),Ye(1),W()),2&n){const t=U();N(1),An(t.data.title)}}function NY(n,e){if(1&n&&(H(0,"span"),Ye(1),W()),2&n){const t=U();N(1),An(t.data.contentType)}}function RY(n,e){if(1&n&&(H(0,"div",4),$t(1,"dot-state-icon",5),Id(2,"contentletState"),H(3,"dot-badge",6),Ye(4),Id(5,"lowercase"),W()()),2&n){const t=U();N(1),k("state",Dm(2,3,t.data)),N(2),k("bordered",!0),N(1),An(Dm(5,5,t.data.language))}}let PY=(()=>{class n extends sb{ngOnInit(){this.data=this.node.attrs.data}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=jt(n)))(r||n)}}(),n.\u0275cmp=Et({type:n,selectors:[["dotcms-contentlet-block"]],features:[xe],decls:5,vars:2,consts:[["pTemplate","header"],[4,"pTemplate"],["pTemplate","footer"],[3,"width","height","iconSize","contentlet"],[1,"state"],["size","16px",3,"state"],[3,"bordered"]],template:function(t,r){1&t&&(H(0,"p-card"),q(1,OY,1,4,"ng-template",0),q(2,kY,2,1,"h3",1),q(3,NY,2,1,"span",1),q(4,RY,6,7,"ng-template",2),W()),2&t&&(N(2),k("pTemplate","title"),N(1),k("pTemplate","subtitle"))},directives:[t7,jv],pipes:[AY,NS],styles:["dotcms-contentlet-block{display:block;height:100%;width:100%;box-sizing:border-box;margin-bottom:1rem}.p-card{background:#ffffff;border:1px solid #b3b1b8;color:#0a0725;display:flex}.p-card .p-card-header{box-sizing:border-box;min-width:110px;padding:.5rem;width:110px}.p-card .p-card-body{box-sizing:border-box;min-width:100px;padding:1rem 1.5rem 1rem 1rem;flex:1}.p-card .p-card-body .p-card-content{padding:0}.p-card .p-card-content{padding:1rem 0}.p-card .p-card-title{overflow:hidden;width:100%}.p-card .p-card-title h3{font-size:1.5rem;overflow:hidden;font-weight:700;margin:0;margin-bottom:.5rem;text-overflow:ellipsis;white-space:nowrap}.p-card .p-card-subtitle{color:#7e7a86;font-size:.85rem;font-weight:regular;margin-bottom:1rem}.p-card dot-contentlet-thumbnail{align-items:center;display:block;position:relative;width:94px;height:94px}.p-card .state{align-items:center;display:flex}.p-card .state>*{margin-right:.5rem}.p-card .state>*:last-child{margin-right:0}\n"],encapsulation:2}),n})();const FY=n=>fn.create({name:"dotContent",group:"block",inline:!1,draggable:!0,addAttributes:()=>({data:{default:null,parseHTML:e=>({data:e.getAttribute("data")}),renderHTML:e=>({data:e.data})}}),parseHTML:()=>[{tag:"dotcms-contentlet-block"}],renderHTML:({HTMLAttributes:e})=>["dotcms-contentlet-block",xt(e)],addNodeView:()=>l1(PY,{injector:n})}),f1=1;var Ei=(()=>(function(n){n.DOT_IMAGE="dotImage",n.LIST_ITEM="listItem",n.BULLET_LIST="bulletList",n.ORDERED_LIST="orderedList",n.BLOCKQUOTE="blockquote",n.CODE_BLOCK="codeBlock",n.DOC="doc",n.DOT_CONTENT="dotContent",n.PARAGRAPH="paragraph",n.HARD_BREAK="hardBreak",n.HEADING="heading",n.HORIZONTAL_RULE="horizontalRule",n.TEXT="text"}(Ei||(Ei={})),Ei))();const LY=[Ei.DOT_IMAGE,Ei.DOT_CONTENT],BY=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,jY=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,VY=fi.create({name:"highlight",addOptions:()=>({multicolor:!1,HTMLAttributes:{}}),addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:n=>n.getAttribute("data-color")||n.style.backgroundColor,renderHTML:n=>n.color?{"data-color":n.color,style:`background-color: ${n.color}`}:{}}}:{}},parseHTML:()=>[{tag:"mark"}],renderHTML({HTMLAttributes:n}){return["mark",xt(this.options.HTMLAttributes,n),0]},addCommands(){return{setHighlight:n=>({commands:e})=>e.setMark(this.name,n),toggleHighlight:n=>({commands:e})=>e.toggleMark(this.name,n),unsetHighlight:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[ms({find:BY,type:this.type})]},addPasteRules(){return[xo({find:jY,type:this.type})]}});function lb(n){this.j={},this.jr=[],this.jd=null,this.t=n}lb.prototype={accepts:function(){return!!this.t},tt:function(e,t){if(t&&t.j)return this.j[e]=t,t;var r=t,i=this.j[e];if(i)return r&&(i.t=r),i;i=Ue();var o=Nh(this,e);return o?(Object.assign(i.j,o.j),i.jr.append(o.jr),i.jr=o.jd,i.t=r||o.t):i.t=r,this.j[e]=i,i}};var Ue=function(){return new lb},J=function(e){return new lb(e)},O=function(e,t,r){e.j[t]||(e.j[t]=r)},Ut=function(e,t,r){e.jr.push([t,r])},Nh=function(e,t){var r=e.j[t];if(r)return r;for(var i=0;i<e.jr.length;i++){var s=e.jr[i][1];if(e.jr[i][0].test(t))return s}return e.jd},_e=function(e,t,r){for(var i=0;i<t.length;i++)O(e,t[i],r)},HY=function(e,t){for(var r=0;r<t.length;r++)O(e,t[r][0],t[r][1])},Ss=function(e,t,r,i){for(var a,o=0,s=t.length;o<s&&(a=e.j[t[o]]);)e=a,o++;if(o>=s)return[];for(;o<s-1;)a=i(),O(e,t[o],a),e=a,o++;O(e,t[s-1],r)},zr="DOMAIN",Ki="LOCALHOST",wi="TLD",_r="NUM",nl="PROTOCOL",cb="MAILTO",rl="OPENBRACE",pu="OPENBRACKET",gu="OPENANGLEBRACKET",mu="OPENPAREN",Ms="CLOSEBRACE",il="CLOSEBRACKET",ol="CLOSEANGLEBRACKET",sl="CLOSEPAREN",Rh="AMPERSAND",Ph="APOSTROPHE",Fh="ASTERISK",al="AT",Lh="BACKSLASH",Bh="BACKTICK",jh="CARET",vu="COLON",db="COMMA",Vh="DOLLAR",Bo="DOT",Hh="EQUALS",fb="EXCLAMATION",Uh="HYPHEN",zh="PERCENT",Wh="PIPE",$h="PLUS",Gh="POUND",qh="QUERY",hb="QUOTE",pb="SEMI",Zi="SLASH",Kh="TILDE",Zh="UNDERSCORE",Yh="SYM",UY=Object.freeze({__proto__:null,DOMAIN:zr,LOCALHOST:Ki,TLD:wi,NUM:_r,PROTOCOL:nl,MAILTO:cb,WS:"WS",NL:"NL",OPENBRACE:rl,OPENBRACKET:pu,OPENANGLEBRACKET:gu,OPENPAREN:mu,CLOSEBRACE:Ms,CLOSEBRACKET:il,CLOSEANGLEBRACKET:ol,CLOSEPAREN:sl,AMPERSAND:Rh,APOSTROPHE:Ph,ASTERISK:Fh,AT:al,BACKSLASH:Lh,BACKTICK:Bh,CARET:jh,COLON:vu,COMMA:db,DOLLAR:Vh,DOT:Bo,EQUALS:Hh,EXCLAMATION:fb,HYPHEN:Uh,PERCENT:zh,PIPE:Wh,PLUS:$h,POUND:Gh,QUERY:qh,QUOTE:hb,SEMI:pb,SLASH:Zi,TILDE:Kh,UNDERSCORE:Zh,SYM:Yh}),p1="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw verm\xf6gensberater-ctb verm\xf6gensberatung-pwb \u03b5\u03bb \u03b5\u03c5 \u0431\u0433 \u0431\u0435\u043b \u0434\u0435\u0442\u0438 \u0435\u044e \u043a\u0430\u0442\u043e\u043b\u0438\u043a \u043a\u043e\u043c \u049b\u0430\u0437 \u043c\u043a\u0434 \u043c\u043e\u043d \u043c\u043e\u0441\u043a\u0432\u0430 \u043e\u043d\u043b\u0430\u0439\u043d \u043e\u0440\u0433 \u0440\u0443\u0441 \u0440\u0444 \u0441\u0430\u0439\u0442 \u0441\u0440\u0431 \u0443\u043a\u0440 \u10d2\u10d4 \u0570\u0561\u0575 \u05d9\u05e9\u05e8\u05d0\u05dc \u05e7\u05d5\u05dd \u0627\u0628\u0648\u0638\u0628\u064a \u0627\u062a\u0635\u0627\u0644\u0627\u062a \u0627\u0631\u0627\u0645\u0643\u0648 \u0627\u0644\u0627\u0631\u062f\u0646 \u0627\u0644\u0628\u062d\u0631\u064a\u0646 \u0627\u0644\u062c\u0632\u0627\u0626\u0631 \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629 \u0627\u0644\u0639\u0644\u064a\u0627\u0646 \u0627\u0644\u0645\u063a\u0631\u0628 \u0627\u0645\u0627\u0631\u0627\u062a \u0627\u06cc\u0631\u0627\u0646 \u0628\u0627\u0631\u062a \u0628\u0627\u0632\u0627\u0631 \u0628\u06be\u0627\u0631\u062a \u0628\u064a\u062a\u0643 \u067e\u0627\u06a9\u0633\u062a\u0627\u0646 \u0680\u0627\u0631\u062a \u062a\u0648\u0646\u0633 \u0633\u0648\u062f\u0627\u0646 \u0633\u0648\u0631\u064a\u0629 \u0634\u0628\u0643\u0629 \u0639\u0631\u0627\u0642 \u0639\u0631\u0628 \u0639\u0645\u0627\u0646 \u0641\u0644\u0633\u0637\u064a\u0646 \u0642\u0637\u0631 \u0643\u0627\u062b\u0648\u0644\u064a\u0643 \u0643\u0648\u0645 \u0645\u0635\u0631 \u0645\u0644\u064a\u0633\u064a\u0627 \u0645\u0648\u0631\u064a\u062a\u0627\u0646\u064a\u0627 \u0645\u0648\u0642\u0639 \u0647\u0645\u0631\u0627\u0647 \u0915\u0949\u092e \u0928\u0947\u091f \u092d\u093e\u0930\u0924 \u092d\u093e\u0930\u0924\u092e\u094d \u092d\u093e\u0930\u094b\u0924 \u0938\u0902\u0917\u0920\u0928 \u09ac\u09be\u0982\u09b2\u09be \u09ad\u09be\u09b0\u09a4 \u09ad\u09be\u09f0\u09a4 \u0a2d\u0a3e\u0a30\u0a24 \u0aad\u0abe\u0ab0\u0aa4 \u0b2d\u0b3e\u0b30\u0b24 \u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe \u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8 \u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd \u0c2d\u0c3e\u0c30\u0c24\u0c4d \u0cad\u0cbe\u0cb0\u0ca4 \u0d2d\u0d3e\u0d30\u0d24\u0d02 \u0dbd\u0d82\u0d9a\u0dcf \u0e04\u0e2d\u0e21 \u0e44\u0e17\u0e22 \u0ea5\u0eb2\u0ea7 \ub2f7\ub137 \ub2f7\ucef4 \uc0bc\uc131 \ud55c\uad6d \u30a2\u30de\u30be\u30f3 \u30b0\u30fc\u30b0\u30eb \u30af\u30e9\u30a6\u30c9 \u30b3\u30e0 \u30b9\u30c8\u30a2 \u30bb\u30fc\u30eb \u30d5\u30a1\u30c3\u30b7\u30e7\u30f3 \u30dd\u30a4\u30f3\u30c8 \u307f\u3093\u306a \u4e16\u754c \u4e2d\u4fe1 \u4e2d\u56fd \u4e2d\u570b \u4e2d\u6587\u7f51 \u4e9a\u9a6c\u900a \u4f01\u4e1a \u4f5b\u5c71 \u4fe1\u606f \u5065\u5eb7 \u516b\u5366 \u516c\u53f8 \u516c\u76ca \u53f0\u6e7e \u53f0\u7063 \u5546\u57ce \u5546\u5e97 \u5546\u6807 \u5609\u91cc \u5609\u91cc\u5927\u9152\u5e97 \u5728\u7ebf \u5927\u4f17\u6c7d\u8f66 \u5927\u62ff \u5929\u4e3b\u6559 \u5a31\u4e50 \u5bb6\u96fb \u5e7f\u4e1c \u5fae\u535a \u6148\u5584 \u6211\u7231\u4f60 \u624b\u673a \u62db\u8058 \u653f\u52a1 \u653f\u5e9c \u65b0\u52a0\u5761 \u65b0\u95fb \u65f6\u5c1a \u66f8\u7c4d \u673a\u6784 \u6de1\u9a6c\u9521 \u6e38\u620f \u6fb3\u9580 \u70b9\u770b \u79fb\u52a8 \u7ec4\u7ec7\u673a\u6784 \u7f51\u5740 \u7f51\u5e97 \u7f51\u7ad9 \u7f51\u7edc \u8054\u901a \u8bfa\u57fa\u4e9a \u8c37\u6b4c \u8d2d\u7269 \u901a\u8ca9 \u96c6\u56e2 \u96fb\u8a0a\u76c8\u79d1 \u98de\u5229\u6d66 \u98df\u54c1 \u9910\u5385 \u9999\u683c\u91cc\u62c9 \u9999\u6e2f".split(" "),yu=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,_u=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,bu=/\uFE0F/,Cu=/\d/,g1=/\s/;function zY(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=Ue(),t=J(_r),r=J(zr),i=Ue(),o=J("WS"),s=[[Cu,r],[yu,r],[_u,r],[bu,r]],a=function(){var _=J(zr);return _.j={"-":i},_.jr=[].concat(s),_},l=function(_){var C=a();return C.t=_,C};HY(e,[["'",J(Ph)],["{",J(rl)],["[",J(pu)],["<",J(gu)],["(",J(mu)],["}",J(Ms)],["]",J(il)],[">",J(ol)],[")",J(sl)],["&",J(Rh)],["*",J(Fh)],["@",J(al)],["`",J(Bh)],["^",J(jh)],[":",J(vu)],[",",J(db)],["$",J(Vh)],[".",J(Bo)],["=",J(Hh)],["!",J(fb)],["-",J(Uh)],["%",J(zh)],["|",J(Wh)],["+",J($h)],["#",J(Gh)],["?",J(qh)],['"',J(hb)],["/",J(Zi)],[";",J(pb)],["~",J(Kh)],["_",J(Zh)],["\\",J(Lh)]]),O(e,"\n",J("NL")),Ut(e,g1,o),O(o,"\n",Ue()),Ut(o,g1,o);for(var c=0;c<p1.length;c++)Ss(e,p1[c],l(wi),a);var u=a(),d=a(),f=a(),h=a();Ss(e,"file",u,a),Ss(e,"ftp",d,a),Ss(e,"http",f,a),Ss(e,"mailto",h,a);var p=a(),g=J(nl),m=J(cb);O(d,"s",p),O(d,":",g),O(f,"s",p),O(f,":",g),O(u,":",g),O(p,":",g),O(h,":",m);for(var y=a(),v=0;v<n.length;v++)Ss(e,n[v],y,a);return O(y,":",g),Ss(e,"localhost",l(Ki),a),Ut(e,Cu,t),Ut(e,yu,r),Ut(e,_u,r),Ut(e,bu,r),Ut(t,Cu,t),Ut(t,yu,r),Ut(t,_u,r),Ut(t,bu,r),O(t,"-",i),O(r,"-",i),O(i,"-",i),Ut(r,Cu,r),Ut(r,yu,r),Ut(r,_u,r),Ut(r,bu,r),Ut(i,Cu,r),Ut(i,yu,r),Ut(i,_u,r),Ut(i,bu,r),e.jd=J(Yh),e}var Xt={defaultProtocol:"http",events:null,format:v1,formatHref:v1,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function v1(n){return n}function Jh(){}function Is(n,e){function t(r,i){this.t=n,this.v=r,this.tk=i}return function GY(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.create(n.prototype);for(var i in t)r[i]=t[i];r.constructor=e,e.prototype=r}(Jh,t,e),t}Jh.prototype={t:"token",isLink:!1,toString:function(){return this.v},toHref:function(){return this.toString()},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}}};var y1=Is("email",{isLink:!0}),gb=Is("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),mb=Is("text"),_1=Is("nl"),jo=Is("url",{isLink:!0,toHref:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt.defaultProtocol,t=this.tk,r=!1,i=!1,o=[],s=0;t[s].t===nl;)r=!0,o.push(t[s].v),s++;for(;t[s].t===Zi;)i=!0,o.push(t[s].v),s++;for(;s<t.length;s++)o.push(t[s].v);return o=o.join(""),r||i||(o="".concat(e,"://").concat(o)),o},hasProtocol:function(){return this.tk[0].t===nl}}),qY=Object.freeze({__proto__:null,MultiToken:Jh,Base:Jh,createTokenClass:Is,MailtoEmail:y1,Email:gb,Text:mb,Nl:_1,Url:jo});function KY(){var n=Ue(),e=Ue(),t=Ue(),r=Ue(),i=Ue(),o=Ue(),s=Ue(),a=J(jo),l=Ue(),c=J(jo),u=J(jo),d=Ue(),f=Ue(),h=Ue(),p=Ue(),g=Ue(),m=J(jo),y=J(jo),v=J(jo),b=J(jo),_=Ue(),C=Ue(),D=Ue(),I=Ue(),A=Ue(),B=Ue(),z=J(gb),ee=Ue(),re=J(gb),K=J(y1),Re=Ue(),ie=Ue(),Z=Ue(),qe=Ue(),Be=J(_1);O(n,"NL",Be),O(n,nl,e),O(n,cb,t),O(e,Zi,r),O(r,Zi,i),O(n,wi,o),O(n,zr,o),O(n,Ki,a),O(n,_r,o),O(i,wi,u),O(i,zr,u),O(i,_r,u),O(i,Ki,u),O(o,Bo,s),O(A,Bo,B),O(s,wi,a),O(s,zr,o),O(s,_r,o),O(s,Ki,o),O(B,wi,z),O(B,zr,A),O(B,_r,A),O(B,Ki,A),O(a,Bo,s),O(z,Bo,B),O(a,vu,l),O(a,Zi,u),O(l,_r,c),O(c,Zi,u),O(z,vu,ee),O(ee,_r,re);var Pe=[Rh,Fh,al,Lh,Bh,jh,Vh,zr,Hh,Uh,Ki,_r,zh,Wh,$h,Gh,nl,Zi,Yh,Kh,wi,Zh],Ie=[Ph,ol,Ms,il,sl,vu,db,Bo,fb,gu,rl,pu,mu,qh,hb,pb];O(u,rl,f),O(u,pu,h),O(u,gu,p),O(u,mu,g),O(d,rl,f),O(d,pu,h),O(d,gu,p),O(d,mu,g),O(f,Ms,u),O(h,il,u),O(p,ol,u),O(g,sl,u),O(m,Ms,u),O(y,il,u),O(v,ol,u),O(b,sl,u),O(_,Ms,u),O(C,il,u),O(D,ol,u),O(I,sl,u),_e(f,Pe,m),_e(h,Pe,y),_e(p,Pe,v),_e(g,Pe,b),_e(f,Ie,_),_e(h,Ie,C),_e(p,Ie,D),_e(g,Ie,I),_e(m,Pe,m),_e(y,Pe,y),_e(v,Pe,v),_e(b,Pe,b),_e(m,Ie,m),_e(y,Ie,y),_e(v,Ie,v),_e(b,Ie,b),_e(_,Pe,m),_e(C,Pe,y),_e(D,Pe,v),_e(I,Pe,b),_e(_,Ie,_),_e(C,Ie,C),_e(D,Ie,D),_e(I,Ie,I),_e(u,Pe,u),_e(d,Pe,u),_e(u,Ie,d),_e(d,Ie,d),O(t,wi,K),O(t,zr,K),O(t,_r,K),O(t,Ki,K),_e(K,Pe,K),_e(K,Ie,Re),_e(Re,Pe,K),_e(Re,Ie,Re);var In=[Rh,Ph,Fh,Lh,Bh,jh,Ms,Vh,zr,Hh,Uh,_r,rl,zh,Wh,$h,Gh,qh,Zi,Yh,Kh,wi,Zh];return _e(o,In,ie),O(o,al,Z),_e(a,In,ie),O(a,al,Z),_e(s,In,ie),_e(ie,In,ie),O(ie,al,Z),O(ie,Bo,qe),_e(qe,In,ie),O(Z,wi,A),O(Z,zr,A),O(Z,_r,A),O(Z,Ki,z),n}function vb(n,e,t){var r=t[0].s;return new n(e.substr(r,t[t.length-1].e-r),t)}"undefined"!=typeof console&&console&&console;var ct={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};function b1(n){return ct.initialized||function YY(){ct.scanner={start:zY(ct.customProtocols),tokens:UY},ct.parser={start:KY(),tokens:qY};for(var n={createTokenClass:Is},e=0;e<ct.pluginQueue.length;e++)ct.pluginQueue[e][1]({scanner:ct.scanner,parser:ct.parser,utils:n});ct.initialized=!0}(),function ZY(n,e,t){for(var r=t.length,i=0,o=[],s=[];i<r;){for(var a=n,l=null,c=null,u=0,d=null,f=-1;i<r&&!(l=Nh(a,t[i].t));)s.push(t[i++]);for(;i<r&&(c=l||Nh(a,t[i].t));)l=null,(a=c).accepts()?(f=0,d=a):f>=0&&f++,i++,u++;if(f<0)for(var h=i-u;h<i;h++)s.push(t[h]);else{s.length>0&&(o.push(vb(mb,e,s)),s=[]);var p=d.t,g=t.slice((i-=f)-(u-=f),i);o.push(vb(p,e,g))}}return s.length>0&&o.push(vb(mb,e,s)),o}(ct.parser.start,n,function WY(n,e){for(var t=function $Y(n){for(var e=[],t=n.length,r=0;r<t;){var i=n.charCodeAt(r),o=void 0,s=i<55296||i>56319||r+1===t||(o=n.charCodeAt(r+1))<56320||o>57343?n[r]:n.slice(r,r+2);e.push(s),r+=s.length}return e}(e.replace(/[A-Z]/g,function(h){return h.toLowerCase()})),r=t.length,i=[],o=0,s=0;s<r;){for(var a=n,l=null,c=0,u=null,d=-1,f=-1;s<r&&(l=Nh(a,t[s]));)(a=l).accepts()?(d=0,f=0,u=a):d>=0&&(d+=t[s].length,f++),c+=t[s].length,o+=t[s].length,s++;s-=f,i.push({t:u.t,v:e.substr((o-=d)-(c-=d),c),s:o-c,e:o})}return i}(ct.scanner.start,n))}function _b(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=b1(n),r=[],i=0;i<t.length;i++){var o=t[i];o.isLink&&(!e||o.t===e)&&r.push(o.toObject())}return r}function C1(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=b1(n);return 1===t.length&&t[0].isLink&&(!e||t[0].t===e)}function QY(n){return new rt({key:new Ct("autolink"),appendTransaction:(e,t,r)=>{const i=e.some(u=>u.docChanged)&&!t.doc.eq(r.doc),o=e.some(u=>u.getMeta("preventAutolink"));if(!i||o)return;const{tr:s}=r,a=function L5(n,e){const t=new gt(n);return e.forEach(r=>{r.steps.forEach(i=>{t.step(i)})}),t}(t.doc,e),{mapping:l}=a;return function H5(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((i,o)=>{const s=[];if(i.ranges.length)i.forEach((a,l)=>{s.push({from:a,to:l})});else{const{from:a,to:l}=t[o];if(void 0===a||void 0===l)return;s.push({from:a,to:l})}s.forEach(({from:a,to:l})=>{const c=e.slice(o).map(a,-1),u=e.slice(o).map(l),d=e.invert().map(c,-1),f=e.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),function V5(n){const e=function j5(n,e=JSON.stringify){const t={};return n.filter(r=>{const i=e(r);return!Object.prototype.hasOwnProperty.call(t,i)&&(t[i]=!0)})}(n);return 1===e.length?e:e.filter((t,r)=>!e.filter((o,s)=>s!==r).some(o=>t.oldRange.from>=o.oldRange.from&&t.oldRange.to<=o.oldRange.to&&t.newRange.from>=o.newRange.from&&t.newRange.to<=o.newRange.to))}(r)}(a).forEach(({oldRange:u,newRange:d})=>{Jf(u.from,u.to,t.doc).filter(f=>f.mark.type===n.type).forEach(f=>{const g=Jf(l.map(f.from),l.map(f.to),r.doc).filter(C=>C.mark.type===n.type);if(!g.length)return;const m=g[0],y=t.doc.textBetween(f.from,f.to,void 0," "),v=r.doc.textBetween(m.from,m.to,void 0," "),b=C1(y),_=C1(v);b&&!_&&s.removeMark(m.from,m.to,n.type)}),function B5(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(i,o)=>{t(i)&&r.push({node:i,pos:o})}),r}(r.doc,d,f=>f.isTextblock).forEach(f=>{_b(r.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ")).filter(p=>p.isLink).filter(p=>!n.validate||n.validate(p.value)).map(p=>pn(S({},p),{from:f.pos+p.start+1,to:f.pos+p.end+1})).filter(p=>d.from>=p.from&&d.from<=p.to||d.to>=p.from&&d.to<=p.to).forEach(p=>{s.addMark(p.from,p.to,n.type.create({href:p.href}))})})}),s.steps.length?s:void 0}})}const eQ=fi.create({name:"link",priority:1e3,keepOnSplit:!1,inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,linkOnPaste:!0,autolink:!0,HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}),addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},class:{default:this.options.HTMLAttributes.class}}},parseHTML:()=>[{tag:'a[href]:not([href *= "javascript:" i])'}],renderHTML({HTMLAttributes:n}){return["a",xt(this.options.HTMLAttributes,n),0]},addCommands(){return{setLink:n=>({chain:e})=>e().setMark(this.name,n).setMeta("preventAutolink",!0).run(),toggleLink:n=>({chain:e})=>e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[xo({find:n=>_b(n).filter(e=>!this.options.validate||this.options.validate(e.value)).filter(e=>e.isLink).map(e=>({text:e.value,index:e.start,data:e})),type:this.type,getAttributes:n=>{var e;return{href:null===(e=n.data)||void 0===e?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[];return this.options.autolink&&n.push(QY({type:this.type,validate:this.options.validate})),this.options.openOnClick&&n.push(function JY(n){return new rt({key:new Ct("handleClickLink"),props:{handleClick:(e,t,r)=>{var i;const o=mA(e.state,n.type.name);return!(!(null===(i=r.target)||void 0===i?void 0:i.closest("a"))||!o.href||(window.open(o.href,o.target),0))}}})}({type:this.type})),this.options.linkOnPaste&&n.push(function XY(n){return new rt({key:new Ct("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{state:i}=e,{selection:o}=i,{empty:s}=o;if(s)return!1;let a="";r.content.forEach(c=>{a+=c.textContent});const l=_b(a).find(c=>c.isLink&&c.value===a);return!(!a||!l||(n.editor.commands.setMark(n.type,{href:l.href}),0))}}})}({editor:this.editor,type:this.type})),n}}),tQ=Tt.create({name:"textAlign",addOptions:()=>({types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}),addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:n=>n.style.textAlign||this.options.defaultAlignment,renderHTML:n=>n.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${n.textAlign}`}}}}]},addCommands(){return{setTextAlign:n=>({commands:e})=>!!this.options.alignments.includes(n)&&this.options.types.every(t=>e.updateAttributes(t,{textAlign:n})),unsetTextAlign:()=>({commands:n})=>this.options.types.every(e=>n.resetAttributes(e,"textAlign"))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),nQ=fi.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>!!n.includes("underline")&&{}}],renderHTML({HTMLAttributes:n}){return["u",xt(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});let rQ=(()=>{class n{constructor(t,r){this.el=t,this._renderer=r,this.outputFormat="html",this.onChange=()=>{},this.onTouched=()=>{},this.handleChange=({transaction:i})=>{if(i.docChanged){if("html"===this.outputFormat)return void this.onChange(this.editor.getHTML());this.onChange(this.editor.getJSON())}}}writeValue(t){!t||(!this.outputFormat&&"string"==typeof t&&(this.outputFormat="html"),this.editor.chain().setContent(t,!1).run())}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.editor.setEditable(!t),this._renderer.setProperty(this.el.nativeElement,"disabled",t)}ngOnInit(){if(!this.editor)throw new Error("Required: Input `editor`");const t=this.el.nativeElement.innerHTML;this.el.nativeElement.innerHTML="",this.el.nativeElement.appendChild(this.editor.options.element.firstChild),this.editor.setOptions({element:this.el.nativeElement}),t&&this.editor.chain().setContent(t,!1).run(),this.editor.on("blur",()=>{this.onTouched()}),this.editor.on("transaction",this.handleChange)}ngOnDestroy(){this.editor.destroy()}}return n.\u0275fac=function(t){return new(t||n)(w(_t),w(oi))},n.\u0275dir=Y({type:n,selectors:[["tiptap","editor",""],["","tiptap","","editor",""],["tiptap-editor","editor",""],["","tiptapEditor","","editor",""]],inputs:{editor:"editor",outputFormat:"outputFormat"},features:[Qe([{provide:cr,useExisting:Ve(()=>n),multi:!0}])]}),n})(),oQ=(()=>{class n{constructor(t,r){this.injector=t,this.viewContainerRef=r,this.lang=f1,this.allowedContentTypes="",this.value=""}ngOnInit(){this.editor=new N5({extensions:[VG,FY(this.injector),aY(this.injector),tY(this.viewContainerRef),dY(this.viewContainerRef),cY(this.injector,this.viewContainerRef),yY(0,this.viewContainerRef),xY(this.viewContainerRef),nQ,tQ.configure({types:["heading","paragraph","listItem","dotImage"]}),VY.configure({HTMLAttributes:{style:"background: #accef7;"}}),eQ.configure({openOnClick:!0}),HG.configure({placeholder:({node:t})=>"heading"===t.type.name?`${function iQ(n){return n.replace(/\p{L}+('\p{L}+)?/gu,function(e){return e.charAt(0).toUpperCase()+e.slice(1)})}(t.type.name)} ${t.attrs.level}`:'Type "/" for commmands'})]}),this.setEditorStorageData()}setEditorStorageData(){this.editor.storage.dotConfig={lang:this.lang,allowedContentTypes:this.allowedContentTypes}}}return n.\u0275fac=function(t){return new(t||n)(w(yt),w(sr))},n.\u0275cmp=Et({type:n,selectors:[["dotcms-block-editor"]],inputs:{lang:"lang",allowedContentTypes:"allowedContentTypes"},decls:1,vars:2,consts:[[3,"editor","ngModel","ngModelChange"]],template:function(t,r){1&t&&(H(0,"tiptap-editor",0),Le("ngModelChange",function(o){return r.value=o}),W()),2&t&&k("editor",r.editor)("ngModel",r.value)},directives:[rQ,bv,hf],styles:['@import"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400&display=swap";@import"https://fonts.googleapis.com/icon?family=Material+Icons";[_nghost-%COMP%]{border-radius:4px;display:block;height:500px;overflow-y:hidden;position:relative;outline:#b3b1b8 solid 1px;resize:vertical}[_nghost-%COMP%]:focus-within{outline-color:var(--color-main)}[_nghost-%COMP%]   tiptap-editor[_ngcontent-%COMP%]    {display:block;height:100%;overflow-y:auto;width:100%}[_nghost-%COMP%]   tiptap-editor[_ngcontent-%COMP%]     .ProseMirror{box-sizing:border-box;display:block;min-height:100%;outline:none;padding:1rem 4rem;font:14px/1.3}[_nghost-%COMP%]   tiptap-editor[_ngcontent-%COMP%]     .ProseMirror ul, [_nghost-%COMP%]   tiptap-editor[_ngcontent-%COMP%]     .ProseMirror ol{margin:0;padding-inline-start:1rem;margin-left:1rem}[_nghost-%COMP%]   tiptap-editor[_ngcontent-%COMP%]     .ProseMirror ol li{list-style-type:decimal}[_nghost-%COMP%]   tiptap-editor[_ngcontent-%COMP%]     .ProseMirror ul li{list-style-type:disc}[_nghost-%COMP%]   tiptap-editor[_ngcontent-%COMP%]     .ProseMirror li{padding-top:.286em}[_nghost-%COMP%]   tiptap-editor[_ngcontent-%COMP%]     .ProseMirror li p{padding:0;margin:0}[_nghost-%COMP%]   tiptap-editor[_ngcontent-%COMP%]     .ProseMirror h1{font-size:2.43em;line-height:1.06em;padding-top:.176em;margin-bottom:.353em}[_nghost-%COMP%]   tiptap-editor[_ngcontent-%COMP%]     .ProseMirror h2{font-size:1.93em;line-height:1.33em;padding-top:.333em;margin-bottom:.333em}[_nghost-%COMP%]   tiptap-editor[_ngcontent-%COMP%]     .ProseMirror h3{font-size:1.57em;line-height:1.64em;padding-top:.5em;margin-bottom:.318em}[_nghost-%COMP%]   tiptap-editor[_ngcontent-%COMP%]     .ProseMirror h4{font-size:1.29em;line-height:2em;padding-top:.667em;margin-bottom:.333em}[_nghost-%COMP%]   tiptap-editor[_ngcontent-%COMP%]     .ProseMirror p{font-size:1em;line-height:1.29em;padding-top:.286em;margin-bottom:1em}[_nghost-%COMP%]   tiptap-editor[_ngcontent-%COMP%]     .ProseMirror blockquote{margin:1rem;border-left:3px solid rgba(10,7,37,.1);padding-left:1rem}[_nghost-%COMP%]   tiptap-editor[_ngcontent-%COMP%]     .ProseMirror pre{background:#0a0725;border-radius:.5rem;color:#fff;padding:.75rem 1rem}[_nghost-%COMP%]   tiptap-editor[_ngcontent-%COMP%]     .ProseMirror pre code{font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;background:none;color:inherit;padding:0}[_nghost-%COMP%]   tiptap-editor[_ngcontent-%COMP%]     .ProseMirror .is-empty:before{color:#b3b1b8;content:attr(data-placeholder);float:left;height:0;pointer-events:none}']}),n})();const lQ=new class aQ extends Fr{}(class sQ extends vf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!==r&&r>0||null===r&&this.delay>0?super.requestAsyncId(e,t,r):e.flush(this)}});class br{constructor(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}}accept(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)}toObservable(){switch(this.kind){case"N":return se(this.value);case"E":return ck(this.error);case"C":return ih()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new br("N",e):br.undefinedValueNotification}static createError(e){return new br("E",void 0,e)}static createComplete(){return br.completeNotification}}br.completeNotification=new br("C"),br.undefinedValueNotification=new br("N",void 0);class Xh extends tt{constructor(e,t,r=0){super(e),this.scheduler=t,this.delay=r}static dispatch(e){const{notification:t,destination:r}=e;t.observe(r),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(Xh.dispatch,this.delay,new uQ(e,this.destination)))}_next(e){this.scheduleMessage(br.createNext(e))}_error(e){this.scheduleMessage(br.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(br.createComplete()),this.unsubscribe()}}class uQ{constructor(e,t){this.notification=e,this.destination=t}}class dQ extends Me{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new fQ(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;let s;if(this.closed)throw new Uo;if(this.isStopped||this.hasError?s=ke.EMPTY:(this.observers.push(e),s=new Ib(this,e)),i&&e.add(e=new Xh(e,i)),t)for(let a=0;a<o&&!e.closed;a++)e.next(r[a]);else for(let a=0;a<o&&!e.closed;a++)e.next(r[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||lQ).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,i=this._events,o=i.length;let s=0;for(;s<o&&!(e-i[s].time<r);)s++;return o>t&&(s=Math.max(s,o-t)),s>0&&i.splice(0,s),i}}class fQ{constructor(e,t){this.time=e,this.value=t}}const ep={schedule(n,e){const t=setTimeout(n,e);return()=>clearTimeout(t)},scheduleBeforeRender(n){if("undefined"==typeof window)return ep.schedule(n,0);if(void 0===window.requestAnimationFrame)return ep.schedule(n,16);const e=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(e)}};let bb;function CQ(n,e,t){let r=t;return function pQ(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}(n)&&e.some((i,o)=>!("*"===i||!function mQ(n,e){if(!bb){const t=Element.prototype;bb=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE&&bb.call(n,e)}(n,i)||(r=o,0))),r}class EQ{constructor(e,t){this.componentFactory=t.get(Ri).resolveComponentFactory(e)}create(e){return new wQ(this.componentFactory,e)}}class wQ{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new dQ(1),this.events=this.eventEmitters.pipe(mi(r=>vp(...r))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:r})=>r)),this.ngZone=this.injector.get(ot),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(()=>Zone.current)}connect(e){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=ep.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(e){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e])}setInputValue(e,t){this.runInZone(()=>{null!==this.componentRef?function vQ(n,e){return n===e||n!=n&&e!=e}(t,this.getInputValue(e))&&(void 0!==t||!this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)})}initializeComponent(e){const t=yt.create({providers:[],parent:this.injector}),r=function bQ(n,e){const t=n.childNodes,r=e.map(()=>[]);let i=-1;e.some((o,s)=>"*"===o&&(i=s,!0));for(let o=0,s=t.length;o<s;++o){const a=t[o],l=CQ(a,e,i);-1!==l&&r[l].push(a)}return r}(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,r,e),this.viewChangeDetectorRef=this.componentRef.injector.get(es),this.implementsOnChanges=function gQ(n){return"function"==typeof n}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(Xo).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:e})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e))}),this.initialInputValues.clear()}initializeOutputs(e){const t=this.componentFactory.outputs.map(({propName:r,templateName:i})=>e.instance[r].pipe(be(s=>({name:i,value:s}))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;const t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=ep.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(e,t){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const r=this.inputChanges[e];if(r)return void(r.currentValue=t);const i=this.unchangedInputs.has(e),o=i?void 0:this.getInputValue(e);this.inputChanges[e]=new $b(o,t,i)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}}class SQ extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}let IQ=(()=>{class n{constructor(t){this.injector=t}ngDoBootstrap(){const t=function MQ(n,e){const t=function _Q(n,e){return e.get(Ri).resolveComponentFactory(n).inputs}(n,e.injector),r=e.strategyFactory||new EQ(n,e.injector),i=function yQ(n){const e={};return n.forEach(({propName:t,templateName:r})=>{e[function hQ(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}(r)]=t}),e}(t);class o extends SQ{constructor(a){super(),this.injector=a}get ngElementStrategy(){if(!this._ngElementStrategy){const a=this._ngElementStrategy=r.create(this.injector||e.injector);t.forEach(({propName:l})=>{if(!this.hasOwnProperty(l))return;const c=this[l];delete this[l],a.setInputValue(l,c)})}return this._ngElementStrategy}attributeChangedCallback(a,l,c,u){this.ngElementStrategy.setInputValue(i[a],c)}connectedCallback(){let a=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),a=!0),this.ngElementStrategy.connect(this),a||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(a=>{const l=new CustomEvent(a.name,{detail:a.value});this.dispatchEvent(l)})}}return o.observedAttributes=Object.keys(i),t.forEach(({propName:s})=>{Object.defineProperty(o.prototype,s,{get(){return this.ngElementStrategy.getInputValue(s)},set(a){this.ngElementStrategy.setInputValue(s,a)},configurable:!0,enumerable:!0})}),o}(oQ,{injector:this.injector});customElements.define("dotcms-block-editor",t)}}return n.\u0275fac=function(t){return new(t||n)(R(yt))},n.\u0275mod=ut({type:n}),n.\u0275inj=at({providers:[],imports:[[hU,Pr,rI,P7,n4,j4,v7]]}),n})();(function qV(){oS=!1})(),dU().bootstrapModule(IQ).catch(n=>console.error(n))}},et=>{et(et.s=712)}]);