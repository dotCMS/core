<p-scroller
    *ngIf="contentlets?.length && !loading; else loading ? loadingBlock : emptyBlock"
    [itemSize]="110"
    [items]="contentlets"
    [lazy]="true"
    (onScrollIndexChange)="onScrollIndexChange($event, contentlets.length)"
    scrollHeight="250px"
>
    <ng-template pTemplate="item" let-contentlet>
        <div class="virtual-item">
            <dot-image-card
                *ngIf="contentlet[0]"
                [contentlet]="contentlet[0]"
                (click)="selectedItem.emit(contentlet[0])"
            ></dot-image-card>
            <dot-image-card
                *ngIf="contentlet[1]"
                [contentlet]="contentlet[1]"
                (click)="selectedItem.emit(contentlet[1])"
            ></dot-image-card>
        </div>
    </ng-template>
</p-scroller>

<ng-template #loadingBlock>
    <div class="wrapper justify-start">
        <div class="virtual-item-skeleton" *ngFor="let loadingItem of loadingItems">
            <dot-image-card-skeleton></dot-image-card-skeleton>
            <dot-image-card-skeleton></dot-image-card-skeleton>
        </div>
    </div>
</ng-template>

<ng-template #emptyBlock>
    <div class="wrapper">
        <img [src]="icon" />
        <p>No results found, try searching again</p>
    </div>
</ng-template>
