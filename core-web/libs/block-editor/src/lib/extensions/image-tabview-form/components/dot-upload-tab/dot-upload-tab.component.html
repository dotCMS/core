<p-fileUpload
    *ngIf="status === 'SELECT'; else preview"
    [customUpload]="true"
    (onSelect)="onSelect($event)"
    chooseLabel="browse files"
    mode="basic"
    accept="image/*"
    maxFileSize="1000000"
></p-fileUpload>

<ng-template #preview>
    <div class="container">
        <div class="preview-container">
            <img
                *ngIf="status === 'PREVIEW'; else loading"
                [src]="file.objectURL"
                [alt]="file.name"
            />
            <ng-template #loading>
                <dot-spinner></dot-spinner>
            </ng-template>
        </div>

        <div class="controls">
            <button
                class="p-button-outlined"
                [disabled]="status === 'UPLOAD'"
                (click)="onBack()"
                data-test-id="back-btn"
                pButton
            >
                Back
            </button>
            <button
                [disabled]="status === 'UPLOAD'"
                (click)="onInsert()"
                data-test-id="upload-btn"
                pButton
            >
                Insert
            </button>
        </div>
    </div>
</ng-template>
