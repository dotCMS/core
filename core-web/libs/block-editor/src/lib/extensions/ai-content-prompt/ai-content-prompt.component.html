<ng-container *ngIf="vm$ | async as vm">
    <form id="ai-text-prompt" [formGroup]="form" (ngSubmit)="onSubmit()" autocomplete="off">
        <span class="p-input-icon-right">
            <input
                #input
                [attr.disabled]="vm.loading || null"
                formControlName="textPrompt"
                type="text"
                pInputText
                autofocus
                placeholder="Ask AI to write something" />

            <ng-container *ngIf="vm.loading; else submitButton">
                <span class="pi pi-spin pi-spinner"></span>
            </ng-container>

            <ng-template #submitButton>
                <button
                    class="p-button-rounded p-button-text"
                    pButton
                    type="submit"
                    icon="pi pi-send"></button>
            </ng-template>
        </span>
    </form>
</ng-container>
