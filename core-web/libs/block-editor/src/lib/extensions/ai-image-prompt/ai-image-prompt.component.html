<ng-container *ngIf="vm$ | async as vm">
    <p-dialog
        [(visible)]="vm.showDialog"
        [dismissableMask]="true"
        [draggable]="false"
        [resizable]="false"
        [style]="{ width: '882px' }"
        (onHide)="hideDialog()"
        appendTo="body"
        header="{{ 'block-editor.extension.ai-image.dialog-title' | dm }}">
        <div class="dialog-prompt__wrapper flex">
            <dot-ai-image-prompt-form
                *ngIf="vm.showDialog"
                [generatedValue]="selectedImage"
                [isLoading]="vm.isLoading"
                [orientationOptions]="vm.orientationOptions"
                [aiProcessedPrompt]="vm.images[vm.galleryActiveIndex]?.response.revised_prompt"
                (value)="generateImage($event)"
                (orientation)="vm.orientation = $event; console.log($event)" />

            <dot-ai-image-prompt-gallery
                [isLoading]="vm.isLoading"
                [images]="vm.images"
                [index]="vm.galleryActiveIndex"
                [orientation]="vm.orientation"
                (indexChange)="vm.galleryActiveIndex = $event"
                (imageSelected)="insetImage($event)" />
        </div>
    </p-dialog>
</ng-container>

<p-confirmDialog
    [style]="{ width: '500px' }"
    (onHide)="onHideConfirm()"
    appendTo="body"
    dismissableMask="true"
    key="ai-image-prompt-msg" />
