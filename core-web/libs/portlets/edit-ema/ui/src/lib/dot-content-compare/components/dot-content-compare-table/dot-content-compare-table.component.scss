@use "../../../../../../../../dotcms-scss/shared/colors";
@use "../../../../../../../../dotcms-scss/shared/fonts";
@use "../../../../../../../../dotcms-scss/shared/spacing";

@use "variables" as *;

.dot-content-compare-table__controls {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    justify-content: space-between;
    gap: spacing.$spacing-3;

    p-select {
        margin-right: spacing.$spacing-3;
    }

    button {
        margin-left: auto;
    }
}

.dot-content-compare-table__title {
    color: colors.$black;
    font-size: fonts.$font-size-lmd;
}

:host ::ng-deep .p-datatable {
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid colors.$color-palette-gray-300;

    table {
        border-collapse: separate;
        border-spacing: 0;
        width: 100%;
        background-color: white;

        th {
            border-top: none;
            border-bottom: 1px solid colors.$color-palette-gray-300;
            border-right: 1px solid colors.$color-palette-gray-300;
            background-color: colors.$color-palette-gray-100;
            padding: spacing.$spacing-4;
            font-weight: bold;
            font-size: fonts.$font-size-lmd;
            text-align: left;

            &:first-child {
                border-left: none;
                background-color: colors.$color-palette-gray-100;
                min-width: 12.5rem;
                width: 12.5rem;
            }

            &:not(:first-child) {
                width: 45%;
            }
        }

        td {
            vertical-align: top;
            border-bottom: 1px solid colors.$color-palette-gray-300;
            border-right: 1px solid colors.$color-palette-gray-300;
            padding: spacing.$spacing-4;
            background-color: white;
            text-align: left;

            &:first-child {
                border-left: none;
                font-weight: 500;
                background-color: colors.$color-palette-gray-100;
                min-width: 12.5rem;
                width: 12.5rem;
            }

            img {
                max-width: 100%;
                height: auto;
                display: block;
                margin: 0 auto;
            }

            video {
                aspect-ratio: 16/9;
                max-width: 100%;
                height: 300px;
            }
        }

        // Header row styling
        thead th {
            position: sticky;
            top: 0;
            z-index: 1;
            background-color: colors.$color-palette-gray-100;
        }

        // Highlight differences in text content
        .p-datatable-tbody tr > td {
            &:last-child {
                padding-right: spacing.$spacing-4;
            }

            // Style for highlighted differences
            ::ng-deep .highlight {
                background-color: #ffeaa7;
                padding: 2px 4px;
                border-radius: 2px;
            }
        }

        // Ensure clean grid appearance
        tr {
            background-color: white;

            &:nth-child(even) {
                background-color: white;
            }
        }

        // Remove default PrimeNG table styling
        &.p-datatable-gridlines {
            border: none;

            th,
            td {
                border-right: 1px solid colors.$color-palette-gray-300;
                border-bottom: 1px solid colors.$color-palette-gray-300;
            }
        }
    }
}
