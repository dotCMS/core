<p-toolbar>
    <div class="p-toolbar-group-start">
        @if ($toolbar().editor) {
            <p-button
                icon="pi pi-eye"
                styleClass="p-button-text"
                data-testId="uve-toolbar-preview"
                (click)="togglePreviewMode(true)" />

            <dot-ema-bookmarks [url]="$toolbar().editor.bookmarksUrl" />

            <p-button
                icon="pi pi-external-link"
                styleClass="p-button-text"
                (cdkCopyToClipboardCopied)="triggerCopyToast()"
                [cdkCopyToClipboard]="$toolbar().editor.copyUrl"
                data-testId="uve-toolbar-copy-url" />

            <p-button
                label="API"
                styleClass="p-button-text p-button-sm"
                data-testId="uve-toolbar-api-link" />
        } @else if ($toolbar().preview) {
            <div>PREVIEW MODE CONTENT</div>
            <button (click)="togglePreviewMode(false)">Back</button>
        }
    </div>

    <div class="p-toolbar-group-end">
        <dot-edit-ema-language-selector
            #languageSelector
            (selected)="onLanguageSelected($event)"
            [language]="$toolbar().currentLanguage"
            data-testId="language-selector" />

        @if ($toolbar().runningExperiment; as runningExperiment) {
            <dot-ema-running-experiment
                [runningExperiment]="runningExperiment"
                data-testId="uve-toolbar-running-experiment" />
        }

        <span data-testId="uve-toolbar-running-experiment">Experiments</span>

        <span data-testId="uve-toolbar-persona-selector">Persona</span>
        <span data-testId="uve-toolbar-workflow-actions">Workflows</span>
    </div>
</p-toolbar>

@if ($toolbar().showInfoDisplay) {
    <dot-ema-info-display data-testId="info-display" />
}
