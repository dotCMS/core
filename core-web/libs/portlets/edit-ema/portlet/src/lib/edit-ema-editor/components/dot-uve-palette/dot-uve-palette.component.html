<p-tabs (valueChange)="handleTabChange($event)" [value]="$activeTab()" [pt]="tabsPt">
    <p-tablist class="shrink-0 p-0 w-full">
        @for (tab of $tabHeaders(); track tab.value) {
            <p-tab class="h-[70px] flex-1 flex items-center justify-center" [value]="tab.value">
                <div
                    class="flex flex-1 h-full items-center justify-center"
                    [pTooltip]="tab.tooltip"
                    tooltipPosition="bottom">
                    <i class="pi" [ngClass]="tab.icon"></i>
                </div>
            </p-tab>
        }
    </p-tablist>
    <p-tabpanels class="flex-1 min-h-0 overflow-hidden">
        <p-tabpanel [value]="TABS_MAP.CONTENT_TYPES" class="h-full min-h-0 overflow-hidden">
            <!-- Without this constrain, primeng is instanciating the component even if the tab is not active.
            creating triple renders and triple requests to the server. -->
            @if ($activeTab() === TABS_MAP.CONTENT_TYPES) {
                <dot-uve-palette-list
                    [listType]="DotUVEPaletteListTypes.CONTENT"
                    [languageId]="$languageId()"
                    [pagePath]="$pagePath()" />
            }
        </p-tabpanel>
        <p-tabpanel [value]="TABS_MAP.WIDGETS" class="h-full min-h-0 overflow-hidden">
            @if ($activeTab() === TABS_MAP.WIDGETS) {
                <dot-uve-palette-list
                    [listType]="DotUVEPaletteListTypes.WIDGET"
                    [languageId]="$languageId()"
                    [pagePath]="$pagePath()" />
            }
        </p-tabpanel>
        <p-tabpanel [value]="TABS_MAP.FAVORITES" class="h-full min-h-0 overflow-hidden">
            @if ($activeTab() === TABS_MAP.FAVORITES) {
                <dot-uve-palette-list
                    [listType]="DotUVEPaletteListTypes.FAVORITES"
                    [languageId]="$languageId()"
                    [pagePath]="$pagePath()" />
            }
        </p-tabpanel>
        @if ($showStyleEditorTab()) {
            <p-tabpanel [value]="TABS_MAP.STYLE_EDITOR">
                @if ($activeTab() === TABS_MAP.STYLE_EDITOR) {
                    <div
                        class="w-full h-full flex flex-column justify-content-center align-items-center gap-2">
                        @if ($styleSchema()) {
                            <dot-uve-style-editor-form [schema]="$styleSchema()" />
                        } @else {
                            <span>No styles to show yet.</span>
                            <span>
                                <strong>Select a contentlet</strong>
                                to begin styling.
                                <a
                                    href="https://dev.dotcms.com/docs/style-editor"
                                    target="_blank"
                                    rel="noopener">
                                    Learn more
                                </a>
                            </span>
                        }
                    </div>
                }
            </p-tabpanel>
        }
    </p-tabpanels>
</p-tabs>
