<p-tabView [formGroup]="folderForm" class="wrapper">
    <p-tabPanel
        [header]="'content-drive.dialog.folder.general.header' | dm"
        class="folder-dialog-content">
        <div class="folder-dialog-field">
            <label for="title">Title</label>
            <input pInputText id="title" aria-describedby="title-help" formControlName="title" />
        </div>
    </p-tabPanel>
    <!-- TODO: Add translations on both tabs headers -->
    <p-tabPanel [header]="'content-drive.dialog.folder.advanced.header' | dm" class="content">
        <div class="folder-dialog-field">
            <label for="sortOrder">{{ 'content-drive.dialog.folder.field.sort-order' | dm }}</label>
            <p-inputNumber inputId="minmax" mode="decimal" [min]="0" formControlName="sortOrder" />
        </div>

        <div class="folder-dialog-field">
            <label for="allowedFileExtensions">
                {{ 'content-drive.dialog.folder.field.allowed-file-extensions' | dm }}
            </label>
            <p-autoComplete
                formControlName="allowedFileExtensions"
                (completeMethod)="onCompleteMethod($event)"
                [suggestions]="$filteredAllowedFileExtensions()"
                [multiple]="true"
                (keyup.enter)="onEnterKey($event)" />
            <small id="allowedFileExtensions-help">
                {{ 'content-drive.dialog.folder.field.allowed-file-extensions.help' | dm }}
            </small>
        </div>

        <div class="folder-dialog-field">
            <label for="defaultFileAssetType">
                {{ 'content-drive.dialog.folder.field.default-file-asset-type' | dm }}
            </label>
            <p-dropdown
                [options]="DEFAULT_FILE_ASSET_TYPES"
                optionLabel="name"
                optionValue="id"
                [loading]="false"
                id="defaultFileAssetType"
                aria-describedby="defaultFileAssetType-help"
                placeholder="Select a Default File Asset Type"
                formControlName="defaultFileAssetType" />
        </div>

        <div class="folder-dialog-field">
            <label for="title">{{ 'content-drive.dialog.folder.field.url' | dm }}</label>
            <input pInputText id="url" aria-describedby="url-help" formControlName="url" />
        </div>

        <div class="folder-dialog-field">
            <span>{{ 'content-drive.dialog.folder.field.path' | dm }}</span>
            <p class="folder-dialog-path">{{ $finalPath() }}</p>
        </div>

        <div class="folder-dialog-field">
            <label for="showOnMenu">
                {{ 'content-drive.dialog.folder.field.show-on-menu' | dm }}
            </label>
            <p-inputSwitch
                id="showOnMenu"
                aria-describedby="showOnMenu-help"
                formControlName="showOnMenu" />
        </div>
    </p-tabPanel>
</p-tabView>

<div class="folder-dialog-footer">
    <button
        pButton
        type="button"
        class="p-button-outlined"
        [label]="'content-drive.dialog.folder.cancel' | dm"
        (click)="closeDialog()"></button>
    <button
        pButton
        type="button"
        class="p-button-primary"
        [label]="'content-drive.dialog.folder.create' | dm"
        [disabled]="folderForm.invalid"
        (click)="createFolder()"></button>
</div>
