<p-toolbar styleClass="dot-content-drive-toolbar">
    <div class="p-toolbar-group" [class.p-toolbar-group-actions]="$showWorkflowActions()">
        <dot-content-drive-tree-toggler
            data-testid="tree-toggler"
            [class.sidebar-expanded]="$treeExpanded()" />

        @if (!$showWorkflowActions()) {
            <div class="p-toolbar-group-top">
                <dot-content-drive-search-input data-testid="search-input" class="search-input" />
                <p-button
                    [label]="'content-drive.add-new' | dm"
                    icon="pi pi-chevron-down"
                    iconPos="right"
                    class="add-new-button"
                    data-testid="add-new-button"
                    (click)="menu.toggle($event)"
                    #button />
            </div>

            <div class="p-toolbar-group-bottom">
                <dot-content-drive-base-type-selector data-testid="base-type-selector" />
                <dot-content-drive-content-type-field data-testid="content-type-field" />
                <dot-content-drive-language-field data-testid="language-field" />
            </div>
        } @else {
            <div class="p-toolbar-group-workflow">
                <dot-content-drive-workflow-actions data-testid="workflow-actions" />
            </div>
        }
    </div>
</p-toolbar>

<p-menu [model]="$items()" #menu data-testId="actionsMenu" [popup]="true" appendTo="body"></p-menu>
