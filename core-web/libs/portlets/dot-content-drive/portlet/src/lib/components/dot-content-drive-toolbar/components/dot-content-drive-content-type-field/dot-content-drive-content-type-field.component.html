<p-multiSelect
    [ngModelOptions]="{ standalone: true }"
    [filter]="true"
    [options]="$state.contentTypes()"
    [(ngModel)]="$selectedContentTypes"
    optionLabel="name"
    display="chip"
    [lazy]="true"
    (onChange)="onChange()"
    (onClear)="onChange()"
    [resetFilterOnHide]="true"
    (onFilter)="onFilter($event)"
    (onHidePanel)="onHidePanel()"
    [placeholder]="'content-drive.content-type.placeholder' | dm"
    [showClear]="false"
    [loading]="$state.loading()"
    data-testid="content-type-field">
    <ng-template pTemplate="item" let-item>
        <div class="flex items-center gap-2 w-full">
            {{ item.name }}
        </div>
    </ng-template>
    <ng-template pTemplate="empty">
        @if ($state.loading()) {
            <p-skeleton
                height="2rem"
                width="100%"
                data-testid="content-type-field-skeleton"></p-skeleton>
        } @else {
            {{ 'content-drive.content-type-field.empty-state' | dm }}
        }
    </ng-template>
</p-multiSelect>
