<div class="dot-experiment-list-table flex h-full flex-col gap-1 mb-8">
    @if (experimentGroupedByStatus()?.length) {
        @for (group of experimentGroupedByStatus() ?? []; track group.status) {
            <p-table [rowHover]="true" [value]="group.experiments" dataKey="id">
                <ng-template #caption>
                    <div class="flex items-center justify-between">
                        <span class="text-lg">{{ group.status | lowercase | dm | uppercase }}</span>
                    </div>
                </ng-template>
                <ng-template #header>
                    <tr>
                        <th>{{ 'experiments.list.name' | dm }}</th>
                        <th style="width: 20%">{{ 'experiments.list.created' | dm }}</th>
                        <th style="width: 20%">{{ 'experiments.list.modified' | dm }}</th>
                        <th style="width: 10%"></th>
                    </tr>
                </ng-template>
                <ng-template #body let-experiment>
                    <tr
                        (click)="goToContainer.emit(experiment)"
                        (keydown.enter)="goToContainer.emit(experiment)"
                        (keydown.space)="goToContainer.emit(experiment); $event.preventDefault()"
                        data-testId="experiment-row"
                        role="button"
                        tabindex="0">
                        <td data-testId="experiment-row__name">
                            {{ experiment.name }}
                        </td>
                        <td data-testId="experiment-row__createdDate">
                            {{ experiment.creationDate | dotTimestampToDate }}
                        </td>
                        <td data-testId="experiment-row__modDate">
                            {{ experiment.modDate | dotTimestampToDate }}
                        </td>
                        <td class="text-right" data-testId="experiment-row__actions">
                            <p-menu
                                [model]="experiment.actionsItemsMenu"
                                [popup]="true"
                                #menu
                                appendTo="body" />
                            <button
                                (click)="menu.toggle($event); $event.stopPropagation()"
                                class="p-button-rounded p-button-text"
                                data-testId="experiment-row__action-button"
                                icon="pi pi-ellipsis-v"
                                pButton
                                type="button"></button>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        }
    } @else {
        <dot-empty-container [configuration]="emptyConfiguration" [hideContactUsLink]="true" />
    }
</div>

<p-confirmpopup />
