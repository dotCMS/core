<p-autoComplete
    #autoComplete
    [ngModel]="value"
    [suggestions]="filteredPersonas"
    [dropdown]="true"
    [forceSelection]="true"
    [completeOnFocus]="true"
    (onSelect)="onSelect($event)"
    (completeMethod)="onFilter($event)"
    dataKey="title"
    field="title"
    data-testId="persona-selector-autocomplete">
    <ng-template let-persona pTemplate="item">
        <p-avatar
            [text]="persona?.name"
            [image]="persona?.photo"
            [badgeDisabled]="!persona?.personalized"
            pBadge
            dotAvatar></p-avatar>
        <span>{{ persona?.title }}</span>
    </ng-template>
</p-autoComplete>
