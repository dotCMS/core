<p-dialog
    [(visible)]="dialogShow"
    [header]="'contenttypes.content.add_to_bundle' | dm"
    [modal]="true"
    [style]="{ width: '25rem' }"
    (visibleChange)="close()">
    <form
        (ngSubmit)="submitBundle($event)"
        (keyup.enter)="submitBundle($event)"
        [formGroup]="form"
        class="form"
        #formEl="ngForm"
        novalidate>
        <div class="field">
            <label for="addBundleDropdown">
                {{ 'contenttypes.content.add_to_bundle.label' | dm }}
            </label>
            <p-select
                id="addBundleDropdown"
                [options]="bundle$ | async"
                [placeholder]="placeholder"
                #addBundleDropdown
                appendTo="body"
                editable="true"
                formControlName="addBundle"
                optionLabel="name"></p-select>
            <dot-field-validation-message
                [field]="form.get('addBundle')"
                message="{{ 'contenttypes.content.add_to_bundle.errormsg' | dm }}" />
        </div>
    </form>
    @if (dialogActions) {
        <ng-template pTemplate="footer">
            @if (dialogActions.cancel) {
                <p-button
                    [label]="dialogActions.cancel.label"
                    [disabled]="dialogActions.cancel.disabled"
                    severity="secondary"
                    (click)="dialogActions.cancel.action()"
                    data-testId="dotDialogCancelAction"></p-button>
            }
            @if (dialogActions.accept) {
                <p-button
                    [label]="dialogActions.accept.label"
                    [disabled]="dialogActions.accept.disabled"
                    (click)="dialogActions.accept.action()"
                    data-testId="dotDialogAcceptAction"></p-button>
            }
        </ng-template>
    }
</p-dialog>
