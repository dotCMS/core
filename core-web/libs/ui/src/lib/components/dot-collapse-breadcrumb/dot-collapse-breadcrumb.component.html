<div class="p-breadcrumb p-component">
    <ul>
        @if ($isCollapsed()) {
            <li>
                <p-menu #menu [model]="$itemsToHide()" [popup]="true" appendTo="body" />
                <p-button
                    (click)="menu.toggle($event)"
                    icon="pi pi-ellipsis-h"
                    type="button"
                    data-testid="btn-collapse"
                    styleClass="p-button-rounded p-button-text p-button-sm outline-none" />
            </li>
            <li class="p-breadcrumb-chevron">
                <ChevronRightIcon />
            </li>
        }

        @for (item of $itemsToShow(); track $index) {
            <li>
                @if (!item.routerLink) {
                    <a
                        [attr.href]="item.url ? item.url : null"
                        class="p-menuitem-link"
                        (click)="itemClick($event, item)"
                        [target]="item.target"
                        [attr.title]="item.title"
                        [attr.id]="item.id"
                        [attr.tabindex]="item.disabled ? null : '0'">
                        @if (item.icon) {
                            <span
                                class="p-menuitem-icon"
                                [ngClass]="item.icon"
                                [ngStyle]="item.iconStyle"></span>
                        }
                        @if (item.label) {
                            <span class="p-menuitem-text">{{ item.label }}</span>
                        }
                    </a>
                } @else {
                    <a
                        [routerLink]="item.routerLink"
                        [queryParams]="item.queryParams"
                        [routerLinkActive]="'p-menuitem-link-active'"
                        [routerLinkActiveOptions]="item.routerLinkActiveOptions || { exact: false }"
                        class="p-menuitem-link"
                        (click)="itemClick($event, item)"
                        [target]="item.target"
                        [attr.title]="item.title"
                        [attr.id]="item.id"
                        [attr.tabindex]="item.disabled ? null : '0'"
                        [fragment]="item.fragment"
                        [queryParamsHandling]="item.queryParamsHandling"
                        [preserveFragment]="item.preserveFragment"
                        [skipLocationChange]="item.skipLocationChange"
                        [replaceUrl]="item.replaceUrl"
                        [state]="item.state">
                        @if (item.icon) {
                            <span
                                class="p-menuitem-icon"
                                [ngClass]="item.icon"
                                [ngStyle]="item.iconStyle"></span>
                        }
                        @if (item.label) {
                            <span class="p-menuitem-text">{{ item.label }}</span>
                        }
                    </a>
                }
            </li>
            @if (!$last) {
                <li class="p-breadcrumb-chevron">
                    <ChevronRightIcon />
                </li>
            }
        }
    </ul>
</div>
