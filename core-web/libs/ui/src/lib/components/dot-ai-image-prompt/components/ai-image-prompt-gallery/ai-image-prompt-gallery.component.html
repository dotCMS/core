@if (!isLoading && !images?.length) {
    <div
        [className]="'s' + orientation + ' ai-image-gallery__placeholder'"
        data-testid="ai-image-gallery__placeholder">
        <svg
            xmlns="http://www.w3.org/2000/svg"
            width="54"
            height="52"
            viewBox="0 0 54 52"
            fill="none">
            <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M6.78857 13.8503C4.98813 13.8503 3.26143 14.5569 1.98833 15.8146C0.715222 17.0723 0 18.7781 0 20.5568V44.9439C0 46.7225 0.715222 48.4284 1.98833 49.6861C3.26143 50.9438 4.98813 51.6503 6.78857 51.6503H36.4114C38.2119 51.6503 39.9386 50.9438 41.2117 49.6861C42.4848 48.4284 43.2 46.7225 43.2 44.9439V44.9003L43.2 44.0903L39.4971 40.5298L32.7826 33.8965C32.6071 33.7112 32.3919 33.5669 32.1528 33.4741C31.9136 33.3813 31.6565 33.3423 31.4002 33.36C31.1409 33.3749 30.8873 33.4408 30.6541 33.5539C30.421 33.667 30.213 33.8249 30.0425 34.0185L26.8581 37.7985L15.5026 26.5804C15.3353 26.4047 15.1322 26.2661 14.9067 26.1736C14.6812 26.0811 14.4384 26.0369 14.1943 26.0439C13.935 26.0588 13.6813 26.1247 13.4482 26.2378C13.215 26.3509 13.0071 26.5088 12.8366 26.7023L3.70286 37.4571V20.5568C3.70286 19.7483 4.02796 18.9729 4.60664 18.4013C5.18533 17.8296 5.97019 17.5084 6.78857 17.5084H19.1962V15.6794V13.8503H6.78857ZM3.70327 44.9439V43.1637L14.3181 30.5799L24.4886 40.6274L18.2678 47.9435H6.78899C5.97909 47.9436 5.20161 47.6292 4.62433 47.068C4.04704 46.5068 3.71623 45.7439 3.70327 44.9439ZM23.0816 47.9923L31.5981 37.8961L39.3741 45.578C39.2376 46.256 38.8682 46.8666 38.3284 47.3066C37.7886 47.7465 37.1116 47.9887 36.4118 47.9923H29.7467H23.0816Z"
                fill="#7042F0" />
            <path
                d="M38.7362 25.0102L30.7809 27.4398C30.5745 27.5027 30.3934 27.6333 30.2645 27.812C30.1356 27.9907 30.066 28.2079 30.066 28.4311C30.066 28.6543 30.1356 28.8715 30.2645 29.0501C30.3934 29.2288 30.5745 29.3594 30.7809 29.4223L38.7362 31.8519L41.0774 40.1078C41.138 40.3219 41.2638 40.5099 41.436 40.6436C41.6082 40.7773 41.8174 40.8496 42.0325 40.8496C42.2475 40.8496 42.4568 40.7773 42.629 40.6436C42.8011 40.5099 42.927 40.3219 42.9876 40.1078L45.3298 31.8519L53.2851 29.4223C53.4914 29.3594 53.6726 29.2288 53.8015 29.0501C53.9303 28.8715 54 28.6543 54 28.4311C54 28.2079 53.9303 27.9907 53.8015 27.812C53.6726 27.6333 53.4914 27.5027 53.2851 27.4398L45.3298 25.0102L42.9876 16.7543C42.927 16.5402 42.8012 16.3522 42.629 16.2184C42.4568 16.0847 42.2475 16.0124 42.0325 16.0124C41.8174 16.0124 41.6081 16.0847 41.436 16.2184C41.2638 16.3522 41.138 16.5402 41.0774 16.7543L38.7362 25.0102Z"
                fill="#7042F0" />
            <path
                d="M48.4685 10.1913L52.7842 8.87194C52.9905 8.80901 53.1716 8.67845 53.3005 8.49977C53.4294 8.3211 53.499 8.10392 53.499 7.88075C53.499 7.65757 53.4294 7.4404 53.3005 7.26172C53.1716 7.08305 52.9905 6.95248 52.7842 6.88955L48.4685 5.57127L47.1973 1.09156C47.1366 0.877406 47.0108 0.689388 46.8386 0.555641C46.6665 0.421893 46.4572 0.349609 46.2421 0.349609C46.027 0.349609 45.8177 0.421893 45.6456 0.555641C45.4734 0.689388 45.3476 0.877406 45.2869 1.09156L44.0167 5.57127L39.7001 6.88955C39.4938 6.95245 39.3126 7.08301 39.1837 7.26169C39.0548 7.44037 38.9852 7.65756 38.9852 7.88075C38.9852 8.10394 39.0548 8.32112 39.1837 8.4998C39.3126 8.67848 39.4938 8.80904 39.7001 8.87194L44.0167 10.1913L45.2869 14.6699C45.3476 14.8841 45.4734 15.0721 45.6456 15.2059C45.8177 15.3396 46.027 15.4119 46.2421 15.4119C46.4572 15.4119 46.6665 15.3396 46.8386 15.2059C47.0108 15.0721 47.1366 14.8841 47.1973 14.6699L48.4685 10.1913Z"
                fill="#7042F0" />
            <path
                d="M26.5741 12.0668L22.2196 13.9099C22.0364 13.9875 21.8797 14.1199 21.7693 14.2904C21.6589 14.4608 21.6 14.6615 21.6 14.8668C21.6 15.0721 21.6589 15.2728 21.7693 15.4432C21.8797 15.6137 22.0364 15.7461 22.2196 15.8237L26.5741 17.6668L28.3502 22.1859C28.4249 22.376 28.5526 22.5387 28.7168 22.6532C28.881 22.7678 29.0744 22.8289 29.2723 22.8289C29.4701 22.8289 29.6635 22.7678 29.8277 22.6532C29.992 22.5387 30.1196 22.376 30.1944 22.1859L31.9704 17.6668L36.324 15.8237C36.5072 15.7461 36.664 15.6136 36.7743 15.4432C36.8847 15.2728 36.9436 15.0721 36.9436 14.8668C36.9436 14.6615 36.8847 14.4608 36.7743 14.2904C36.664 14.1199 36.5072 13.9875 36.324 13.9099L31.9704 12.0668L30.1944 7.5487C30.1196 7.35858 29.992 7.19589 29.8277 7.08136C29.6635 6.96684 29.4701 6.90568 29.2723 6.90568C29.0744 6.90568 28.881 6.96684 28.7168 7.08136C28.5526 7.19589 28.4249 7.35858 28.3502 7.5487L26.5741 12.0668Z"
                fill="#7042F0" />
        </svg>
    </div>
}
@if (isLoading) {
    <p-skeleton
        width="100%"
        height="34rem"
        styleClass="ai-image-gallery_skeleton"
        data-testid="ai-image-gallery_skeleton" />

    <p-skeleton
        class="ai-image-gallery__count-skeleton"
        data-testid="ai-image-gallery__count-skeleton"
        width="30px"
        height="20px" />
}
@if (!isLoading && images?.length) {
    <p-galleria
        (activeIndexChange)="activeIndexChange.emit($event)"
        [activeIndex]="activeImageIndex"
        [circular]="true"
        [showItemNavigators]="images?.length > 1"
        [showThumbnails]="false"
        [value]="images"
        visible="true">
        <ng-template pTemplate="item" let-item>
            @if (item.response) {
                <p-image
                    [src]="item.response.contentlet.assetVersion"
                    [preview]="true"
                    [alt]="item.response.contentlet.assetMetaData?.title"
                    imageClass="ai-image-gallery__img">
                    <ng-template pTemplate="indicator">
                        <i class="pi pi-window-maximize"></i>
                    </ng-template>
                </p-image>
            } @else {
                <dot-empty-container
                    (buttonAction)="regenerate.emit($event)"
                    [hideContactUsLink]="true"
                    [buttonLabel]="'try-again' | dm"
                    [secondaryButton]="true"
                    [configuration]="emptyConfiguration" />
            }
        </ng-template>
    </p-galleria>
}
@if (!isLoading && images?.length) {
    <span class="ai-image-gallery__count align-self-center">
        {{ activeImageIndex + 1 }} {{ 'of' | dm }} {{ images.length }}
    </span>
}
