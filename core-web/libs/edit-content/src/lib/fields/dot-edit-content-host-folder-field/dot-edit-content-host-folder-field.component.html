<p-treeSelect
    (onNodeSelect)="onNodeSelect($event)"
    (onNodeExpand)="onNodeExpand($event)"
    [formControl]="pathControl"
    [options]="options()"
    [attr.aria-labelledby]="'field-' + field.variable"
    selectionMode="single">
    <ng-template let-node pTemplate="default">
        <span>{{ node.label | truncatePath }}</span>
    </ng-template>
    <ng-template pTemplate="triggericon">
        @if (sitesStatus() === 'loading') {
            <i class="pi pi-spin pi-spinner"></i>
        } @else {
            <i class="pi pi-chevron-down"></i>
        }
    </ng-template>
</p-treeSelect>
