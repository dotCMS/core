<div class="w-full category-list__header">Root</div>
<div
    class="flex-1 category-list__category-list"
    [ngClass]="{ 'no-overflow-x-yet': emptyColumns().length }">
    @for (column of categories(); let index = $index; track index) {
    <!--dynamic columns-->
    <div class="category-list__category-column" #categoryColumn data-testId="category-column">
        @for (item of column; track item.inode) {
        <div
            class="flex align-content-center align-items-center category-list__item"
            [ngClass]="{ 'category-list__item--selected': item.checked }"
            (click)="itemClicked.emit({ index, item })"
            data-testId="category-item">
            <p-checkbox [(ngModel)]="itemsSelected" [value]="item.key" />

            <label
                class="flex flex-grow-1 category-list__item-label"
                [ngClass]="{ 'cursor-pointer': item.childrenCount > 0 }"
                [for]="item.key"
                data-testId="category-item-label"
                >{{ item.categoryName }}</label
            >

            @if (item.childrenCount > 0) {
            <i
                class="pi pi-chevron-right category-list__item-icon"
                data-testId="category-item-with-child"></i>
            }
        </div>
        }
    </div>
    }

    <!--Fake empty columns-->
    @for (_ of emptyColumns(); track _) {
    <div
        class="flex-grow-1 category-list__category-column"
        data-testId="category-column-empty"></div>
    }
</div>
