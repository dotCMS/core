<!-- Reusable Sidebar Accordion -->
<dot-sidebar-accordion
    [initialActiveTab]="'versions'"
    (activeTabChange)="onAccordionTabChange($event)">
    <!-- Versions Tab -->
    <dot-sidebar-accordion-tab id="versions" [label]="'edit.content.sidebar.history.versions' | dm">
        <section class="history" role="region" aria-label="Content Version History">
            @if ($isLoading()) {
                <!-- Loading state -->
                <div class="history__loading" data-testid="loading-state">
                    @for (item of [1, 2, 3, 4]; track $index) {
                        <div class="history__skeleton-item">
                            <p-skeleton width="100%" height="60px" />
                        </div>
                    }
                </div>
            } @else if (!$hasHistoryItems()) {
                <!-- Empty state -->
                <span class="history__empty">
                    {{ 'edit.content.sidebar.history.empty.message' | dm }}
                </span>
            } @else {
                <!-- History content -->
                <div class="history__content">
                    <p-scroller
                        [items]="$historyItems()"
                        [itemSize]="82"
                        [lazy]="true"
                        scrollHeight="100%"
                        (onScrollIndexChange)="onScrollIndexChange($event)"
                        styleClass="history__scroller"
                        data-testid="history-timeline">
                        <ng-template pTemplate="item" let-item let-index="index">
                            <dot-history-timeline-item
                                [item]="item"
                                (actionTriggered)="
                                    onTimelineItemAction($event)
                                "></dot-history-timeline-item>
                        </ng-template>
                    </p-scroller>
                </div>
            }
        </section>
    </dot-sidebar-accordion-tab>

    <!-- Push Publish Tab -->
    <dot-sidebar-accordion-tab
        id="push-publish"
        [label]="'edit.content.sidebar.history.push.publish' | dm">
        <div class="push-publish-content">
            <!-- TODO: Add Push Publish content here -->
            <p>Push Publish functionality will be implemented here.</p>
            <p>Push Publish functionality will be implemented here.</p>
            <ul>
                <li>Push Publish functionality will be implemented here.</li>
                <li>Push Publish functionality will be implemented here.</li>
            </ul>
        </div>
    </dot-sidebar-accordion-tab>
</dot-sidebar-accordion>
