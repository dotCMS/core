@let locales = $locales();
@let defaultLocale = $defaultLocale();
@let currentLocale = $currentLocale();
@let isLoading = $isLoading();

@if (isLoading) {
    <p-skeleton />
} @else {
    @for (locale of locales; track locale.id) {
        <p-chip
            [label]="locale.isoCode"
            (click)="currentLocale?.id !== locale.id ? switchLocale.emit(locale) : null"
            [styleClass]="
                'p-chip-sm ' +
                (currentLocale?.id === locale.id
                    ? ' p-chip-filled'
                    : locale?.translated
                      ? 'p-chip-primary'
                      : 'p-chip-gray p-chip-dashed') +
                (defaultLocale.id === locale.id ? ' default' : '')
            " />
    }
}
