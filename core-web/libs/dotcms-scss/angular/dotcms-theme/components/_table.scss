@use "variables" as *;

// dotTable class is a wrapper for PrimeNG DataTable to apply the new
// design system. When all tables get migrated, this class will need to be removed.
// The legacy styles live in _datatable.scss and those styles will be removed

.dotTable {
    &.p-datatable {
        border: 1px solid $color-palette-gray-400;
        border-radius: $border-radius-md;

        > .p-datatable-wrapper {
            border-radius: $border-radius-md;
        }

        & .p-paginator-top,
        & .p-paginator-bottom {
            border-width: 0 0 1px 0;
            border-radius: 0;
        }

        & .p-datatable-header,
        & .p-datatable-footer {
            background: $white;
            color: $black;
            border: 1px solid $table-border-color;
            border-width: 0 0 1px 0;
            padding: $spacing-2 $spacing-2;
            font-weight: $font-weight-semi-bold;
        }

        & .p-datatable-thead > tr > th {
            background-color: $color-palette-gray-200;
            border: 1px solid $color-palette-gray-300;
            border-width: 0 0 1px 0;
            color: $black;
            font-size: $font-size-sm;
            font-weight: $font-weight-semi-bold;
            padding: $spacing-1;
            text-align: left;
            transition: none;
            text-wrap: nowrap;

            &:first-child {
                padding-left: $spacing-5;
            }

            &:last-child {
                padding-right: $spacing-5;
            }
        }

        & .p-datatable-tfoot > tr > td {
            text-align: left;
            padding: $spacing-2 $spacing-2;
            border: 1px solid $table-border-color;
            border-width: 0 0 1px 0;
            font-weight: $font-weight-semi-bold;
            color: $black;
            background: $white;
        }

        & .p-sortable-column {
            outline: 0 none;

            & .p-sortable-column-icon {
                display: inline-block;
                color: $color-palette-gray-700;
                margin-left: $spacing-1;
            }

            & .p-sortable-column-badge {
                border-radius: 50%;
                height: 1.143rem;
                min-width: 1.143rem;
                line-height: 1.143rem;
                color: $color-palette-primary;
                background: $bg-highlight;
                margin-left: $spacing-1;
            }

            &:not(.p-highlight):hover {
                color: $text-color-hover;

                & .p-sortable-column-icon {
                    color: $black;
                }
            }

            &.p-highlight {
                background: $white;
                color: $black;

                & .p-sortable-column-icon {
                    color: $black;
                }
            }
        }

        & .p-datatable-tbody > tr {
            background: $white;
            color: $black;
            height: auto;
            transition: none;
            outline: 0 none;
            cursor: pointer;
            overflow-wrap: anywhere;

            &:hover {
                background-color: $color-palette-primary-200;
            }

            & > td {
                text-align: left;
                border: 1px solid $color-palette-gray-300;
                border-width: 0 0 1px 0;
                padding: 0.625rem $spacing-1;

                &:first-child {
                    padding-left: $spacing-5;
                }

                &:last-child {
                    padding-right: $spacing-5;
                }

                & .p-row-toggler,
                & .p-row-editor-init,
                & .p-row-editor-save,
                & .p-row-editor-cancel {
                    width: $spacing-5;
                    height: $spacing-5;
                    color: $black;
                    border: 0 none;
                    background: transparent;
                    border-radius: 50%;
                    transition: background-color 0.2s, color 0.2s, box-shadow 0.2s;

                    &:enabled:hover {
                        color: $text-color-hover;
                        border-color: transparent;
                        background: $color-palette-primary-100;
                    }

                    &:focus {
                        outline: 0 none;
                        outline-offset: 0;
                        box-shadow: none;
                    }
                }

                & .p-row-editor-save {
                    margin-right: $spacing-1;
                }

                .pi.pi-ellipsis-v {
                    color: $color-palette-primary-500;
                }
            }

            &.p-highlight {
                background: $bg-highlight;
                color: $text-color-highlight;
            }

            &.disabled-row {
                background: $color-palette-gray-200;
                color: $color-palette-gray-700;
                cursor: default;
            }

            &.p-datatable-dragpoint-top > td {
                box-shadow: inset 0 2px 0 0 $color-palette-primary-100;
            }

            &.p-datatable-dragpoint-bottom > td {
                box-shadow: inset 0 -2px 0 0 $color-palette-primary-100;
            }

            &:not(.p-highlight):hover {
                background: $color-palette-primary-100;
                color: $text-color-hover;
                transition: background-color ease-in $basic-speed;
            }

            &.disabled-row:hover {
                background: $color-palette-gray-200;
                color: $color-palette-gray-700;
            }
        }

        & .p-column-resizer-helper {
            background: $color-palette-primary;
        }

        & .p-datatable-scrollable-header,
        & .p-datatable-scrollable-footer {
            background: $white;
        }

        & .p-datatable-loading-icon {
            font-size: $font-size-xxxl;
            color: $color-palette-secondary;
        }

        &.p-datatable-hoverable-rows {
            & .p-datatable-tbody > tr:not(.p-highlight):hover {
                background: $color-palette-primary-100;
                color: $text-color-hover;
                transition: background-color ease-in $basic-speed;
            }

            & .p-datatable-tbody > tr.disabled-row:hover {
                background: $color-palette-gray-200;
                color: $color-palette-gray-700;
            }
        }

        &.p-datatable-gridlines {
            & .p-datatable-header {
                border-width: 1px 1px 0 1px;
            }

            & .p-datatable-footer {
                border-width: 0 1px 1px 1px;
            }

            & .p-paginator-top {
                border-width: 0 1px 0 1px;
            }

            & .p-paginator-bottom {
                border-width: 0 1px 1px 1px;
            }

            & .p-datatable-thead > tr > th,
            & .p-datatable-tbody > tr > td,
            & .p-datatable-tfoot > tr > td {
                border-width: 1px;
            }
        }

        &.p-datatable-striped {
            & .p-datatable-tbody > tr:nth-child(even) {
                background: rgba(0, 0, 0, 0.02);

                &.p-highlight {
                    background: $color-palette-primary-100;
                    color: $text-color-highlight;

                    & .p-row-toggler {
                        color: $text-color-highlight;

                        &:hover {
                            color: $text-color-hover;
                        }
                    }
                }
            }
        }

        &.p-datatable-sm {
            & .p-datatable-header,
            & .p-datatable-footer {
                padding: 0.375rem 0.375rem;
            }

            & .p-datatable-thead > tr > th,
            & .p-datatable-tbody > tr > td,
            & .p-datatable-tfoot > tr > td {
                padding: 0.375rem 0.375rem;
            }
        }

        &.p-datatable-lg {
            & .p-datatable-header,
            & .p-datatable-footer {
                padding: 0.9375rem 0.9375rem;
            }

            & .p-datatable-thead > tr > th,
            & .p-datatable-tbody > tr > td,
            & .p-datatable-tfoot > tr > td {
                padding: 0.9375rem 0.9375rem;
            }
        }

        & .p-sortable-column:focus {
            background-color: $color-palette-primary-100;
        }

        & .p-datatable-tbody > tr:not(.p-highlight):focus {
            background-color: $color-palette-primary-100;
        }
    }

    // Custom styles added to the "clean" styles.
    //&.p-datatable {
    //    //border: 1px solid $color-palette-gray-400;
    //    //border-radius: $border-radius-md;
    //
    //
    //
    //    .p-datatable-thead {
    //        > tr > th {
    //            //background-color: $color-palette-gray-200;
    //            //color: $black;
    //            //padding: $spacing-1;
    //        }
    //    }
    //
    //    .p-datatable-tbody {
    //
    //        > tr {
    //            height: auto;
    //
    //            > td {
    //                padding: 0.625rem $spacing-1;
    //            }
    //        }
    //
    //        > tr:hover {
    //            background-color: $color-palette-primary-200;
    //        }
    //    }
    //
    //    .p-datatable-tbody td i.pi.pi-ellipsis-v {
    //        color: $color-palette-primary-500;
    //    }
    //}
    //
    //.p-checkbox {
    //    border: 2px solid $color-palette-gray-400;
    //}
}
