<ng-container *ngIf="vm$ | async as vm">
    <div
        *ngIf="showMask()"
        (click)="toogleMenu($event)"
        class="dot-mask"
        data-testId="dot-mask"></div>
    <p-avatar
        (click)="toogleMenu($event)"
        [email]="vm.userData.email"
        data-testId="avatar"
        dotGravatar></p-avatar>
    <p-menu
        [model]="vm.items"
        [popup]="true"
        #menu
        appendTo="body"
        styleClass="toolbar-user__menu"></p-menu>

    <dot-my-account
        *ngIf="vm.showMyAccount"
        (shutdown)="store.showMyAccount(false)"
        [visible]="vm.showMyAccount"></dot-my-account>

    <dot-login-as
        *ngIf="vm.showLoginAs"
        (cancel)="store.showLoginAs(false)"
        [visible]="vm.showLoginAs"></dot-login-as>
</ng-container>
