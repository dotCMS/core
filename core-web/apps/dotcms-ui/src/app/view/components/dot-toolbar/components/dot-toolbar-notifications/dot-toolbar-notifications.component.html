<ng-container *dotShowHideFeature="featureFlagAnnouncements">
    <p-button
        (click)="op.toggle($event)"
        icon="pi pi-megaphone"
        styleClass="p-button-rounded p-button-text">
    </p-button>

    <p-overlayPanel #op styleClass="toolbar-announcements__container">
        <dot-toolbar-announcements (hideOverlayPanel)="op.hide()" />
    </p-overlayPanel>
</ng-container>
<div class="toolbar-notifications__container">
    <span class="badge" id="dot-toolbar-notifications-badge" *ngIf="notificationsUnreadCount">{{
        notificationsUnreadCount
    }}</span>
    <dot-dropdown-component
        id="dot-toolbar-notifications"
        [disabled]="!notifications.length"
        (shutdown)="iframeOverlayService.hide()"
        (wasOpen)="iframeOverlayService.show()"
        (toggle)="toggleNotifications()"
        icon="pi pi-bell"
        position="right">
        <div class="toolbar-notifications">
            <div class="toolbar-notifications__heading">
                <h3 class="toolbar-notifications__title" id="dot-toolbar-notifications-title">
                    {{ 'notifications_title' | dm }}
                </h3>
                <p-button
                    id="dot-toolbar-notifications-button-dismiss-all"
                    (click)="dismissAllNotifications()"
                    label="{{ 'notifications_clear_all' | dm }}"
                    icon="pi pi-trash"
                    styleClass="p-button-rounded p-button-text p-button-sm p-button-primary"></p-button>
            </div>
            <div class="toolbar-notifications__content" id="dot-toolbar-notifications-content">
                <dot-notifications-list
                    id="dot-notifications-list"
                    [notifications]="notifications"
                    (dismissNotification)="onDismissNotification($event)"></dot-notifications-list>
            </div>
            <div class="toolbar-notifications__footer" id="dot-toolbar-notifications-footer">
                <button
                    class="p-button-outlined"
                    id="dot-toolbar-notifications-button-load-more"
                    *ngIf="existsMoreToLoad"
                    (click)="loadMore()"
                    ripple
                    pButton
                    label="{{ 'notifications_load_more' | dm }}"></button>
            </div>
        </div>
    </dot-dropdown-component>
</div>
