@let isCollapsed = $isCollapsed();
@let logo = logo$ | async;

<nav [class.collapsed]="isCollapsed" role="navigation">
    <div class="dot-nav__header">
        <div class="dot-nav__button-wrapper">
            <p-button
                (click)="handleMainButtonClick()"
                icon="pi pi-bars"
                styleClass="p-button-rounded p-button-text" />
        </div>
        @if (!isCollapsed) {
            <div class="dot-nav__logo-wrapper" [class.whitelabel]="logo">
                @if (logo) {
                    <span [style.background-image]="logo" class="dot-nav__logo--whitelabel"></span>
                } @else {
                    <span class="dot-nav__logo--default"></span>
                }
            </div>
        }
    </div>
    <ul class="dot-nav">
        @for (item of $menu(); track item) {
            <li [class.dot-nav__list-item--active]="item.isOpen" class="dot-nav__list-item">
                <dot-nav-item
                    (menuClick)="onMenuClick($event)"
                    (itemClick)="onItemClick($event)"
                    [data]="item"
                    [collapsed]="isCollapsed" />
            </li>
        }
    </ul>
</nav>
