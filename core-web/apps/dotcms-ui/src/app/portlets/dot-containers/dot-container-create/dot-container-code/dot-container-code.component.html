<div class="dot-container-code__content-tab-container">
    <div class="field mb-0">
        <label class="block p-label-input-required">{{
            'message.containers.create.content_type_code' | dm
        }}</label>
    </div>
    <p-tabView
        [scrollable]="true"
        [activeIndex]="activeTabIndex"
        [controlClose]="true"
        (onChange)="handleTabClick($event, $event.index)"
        (onClose)="handleClose($event.index, $event.close)"
    >
        <p-tabPanel headerStyleClass="tab-panel-btn">
            <ng-template pTemplate="header">
                <i
                    class="pi pi-plus pr-3 pl-3"
                    (click)="handleTabClick($event); actionsMenu.toggle($event)"
                ></i>
                <p-menu #actionsMenu [popup]="true" [model]="menuItems" appendTo="body"></p-menu>
            </ng-template>
        </p-tabPanel>
        <p-tabPanel
            *ngFor="let containerContent of containerContents.controls; let i = index"
            [header]="containerContent.value.name"
            [selected]="activeTabIndex === i + 1"
            closable="true"
        >
            <button
                class="p-button-secondary dot-container-code__variable-btn ml-3 mb-2 mt-2 p-button-sm"
                [label]="'add-variable' | dm"
                (click)="handleAddVariable(containerContent.value)"
                pButton
            ></button>
            <dot-textarea-content
                #body
                [value]="containerContent.value.code"
                [editorName]="containerContent.value.variable"
                [show]="['code']"
                [customStyles]="{ border: 'none', height: '390px' }"
                (monacoInit)="monacoInit($event)"
                (valueChange)="updateContentTypeText($event)"
                language="html"
            ></dot-textarea-content>
        </p-tabPanel>
    </p-tabView>
</div>
