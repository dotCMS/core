<ng-container *ngIf="!isLoading; else loadingStateTpl">
    <div class="flex flex-column gap-3">
        <div class="flex flex-row justify-content-between header">
            <h1 class="header-title" data-testId="chart-title">
                {{ config.title }}
            </h1>
            <div id="legend-container" data-testId="chart-legends"></div>
        </div>
        <ng-container *ngIf="!isEmpty; else emptyStateTpl">
            <p-chart
                #chart
                [data]="data"
                [options]="options"
                [plugins]="plugins"
                height="500px"
                width="100%"
            ></p-chart>
        </ng-container>
    </div>
</ng-container>

<ng-template #loadingStateTpl>
    <div class="grid" data-testId="loading-skeleton">
        <div class="col-2 mt-4">
            <p-skeleton height="1rem" width="100%"></p-skeleton>
        </div>
        <div class="col-12">
            <p-skeleton height="33rem" width="100%"></p-skeleton>
        </div>
    </div>
</ng-template>

<ng-template #emptyStateTpl>
    <div
        class="empty flex justify-content-center align-items-center flex-column"
        data-testId="empty-data-msg"
    >
        <i class="empty__icon pi pi-chart-line mb-2"></i>
        <p class="empty__message m-0">{{ 'experiments.reports.chart.empty.title' | dm }}</p>
        <p class="empty__description m-0">
            {{ 'experiments.reports.chart.empty.description' | dm }}
        </p>
    </div>
</ng-template>
