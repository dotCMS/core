<dot-form-dialog
    [saveButtonDisabled]="(isFormValid$ | async) === false"
    (cancel)="onCancel()"
    (save)="onSave()"
    data-testId="dialogForm"
>
    <form class="p-fluid" *ngIf="form" [formGroup]="form" data-testId="form">
        <div class="field" data-testId="titleField">
            <label for="title" dotFieldRequired>{{
                'templates.properties.form.label.title' | dm
            }}</label>
            <input
                id="title"
                pInputText
                formControlName="title"
                autofocus
                data-testId="templatePropsTitleField"
            />
            <dot-field-validation-message
                [field]="form.get('title')"
            ></dot-field-validation-message>
        </div>
        <div class="field" data-testId="descriptionField">
            <label for="description">{{
                'templates.properties.form.label.description' | dm
            }}</label>
            <textarea id="description" pInputTextarea formControlName="friendlyName"></textarea>
        </div>
        <ng-container *ngIf="form.get('theme')">
            <div class="field" data-testId="themeField">
                <label for="theme">{{ 'templates.properties.form.label.theme' | dm }}</label>
                <dot-theme-selector-dropdown
                    id="theme"
                    formControlName="theme"
                    data-testId="templatePropsThemeField"
                ></dot-theme-selector-dropdown>
            </div>
        </ng-container>
        <div class="field" data-testId="thumbnailField">
            <label for="thumbnail">{{ 'templates.properties.form.label.thumbnail' | dm }}</label>
            <dot-template-thumbnail-field formControlName="image"></dot-template-thumbnail-field>
        </div>
    </form>
</dot-form-dialog>
