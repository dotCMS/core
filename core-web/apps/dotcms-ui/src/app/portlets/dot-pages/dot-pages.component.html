<div>
    <div class="flex flex-col gap-4">
        <dot-page-favorites-panel
            (navigateToPage)="navigateToPage($event)"
            [favoritePages]="$favoritePages()"
            [isLoading]="$isFavoritePagesLoading()"
            (openMenu)="toggleMenu($event)" />
        <dot-pages-table
            [pages]="$pages()"
            [languages]="$systemLanguages()"
            [totalRecords]="$totalRecords()"
            [isLoading]="$isPagesLoading()"
            (navigateToPage)="navigateToPage($event)"
            (openMenu)="toggleMenu($event)"
            (pageChange)="scrollToTop()"
            (createPage)="dialogVisible.set(true)"
            (search)="onSearch($event)"
            (languageChange)="onLanguageChange($event)"
            (archivedChange)="onArchivedChange($event)"
            (lazyLoad)="onLazyLoad($event)"
            data-testId="pages-listing-panel" />
    </div>
</div>

<dot-create-page-dialog
    [visibility]="dialogVisible()"
    (visibilityChange)="dialogVisible.set($event)" />

<p-menu (onHide)="closeMenu()" [appendTo]="'body'" [popup]="true" #menu [model]="menuItems()" />

@if ($showBundleDialog()) {
    <dot-add-to-bundle (cancel)="onCloseBundleDialog()" [assetIdentifier]="$assetIdentifier()" />
}
