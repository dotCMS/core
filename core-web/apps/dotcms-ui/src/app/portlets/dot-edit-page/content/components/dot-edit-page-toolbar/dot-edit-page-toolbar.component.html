<dot-secondary-toolbar>
    <div class="main-toolbar-left">
        <dot-edit-page-info
            [apiLink]="apiLink"
            [title]="pageState.page.title"
            [url]="pageState.page.pageURI"
        ></dot-edit-page-info>
        <dot-icon-button
            *ngIf="showFavoritePageStar"
            [icon]="pageState.favoritePage ? 'grade' : 'star_outline'"
            [ngClass]="{
                'dot-favorite-page-highlight': pageState.favoritePage
            }"
            [pTooltip]="'favoritePage.star.icon.tooltip' | dm"
            (click)="favoritePage.emit(true)"
            data-testId="addFavoritePageButton"
            tooltipPosition="bottom"
        ></dot-icon-button>
    </div>

    <div class="main-toolbar-right">
        <dot-global-message data-testId="globalMessage" right></dot-global-message>
        <dot-edit-page-workflows-actions
            [page]="pageState.page"
            (fired)="actionFired.emit($event)"
        ></dot-edit-page-workflows-actions>
    </div>

    <div class="lower-toolbar-left w-7">
        <dot-edit-page-state-controller
            [pageState]="pageState"
            (modeChange)="stateChange()"
        ></dot-edit-page-state-controller>

        <p-checkbox
            class="dot-edit__what-changed-button"
            *ngIf="showWhatsChanged && isEnterpriseLicense$ | async"
            [binary]="true"
            [label]="'dot.common.whats.changed' | dm"
            (onChange)="whatschange.emit($event.checked)"
        ></p-checkbox>
    </div>

    <div class="lower-toolbar-right w-5">
        <dot-edit-page-view-as-controller class="flex w-full gap-2" [pageState]="pageState">
        </dot-edit-page-view-as-controller>
    </div>
</dot-secondary-toolbar>
