<i class="material-icons text-gray-400 text-xl ml-1">drag_indicator</i>

<div
    class="h-7 min-w-12 min-h-12 bg-(--color-palette-secondary-200) flex justify-center items-center rounded-full ml-1">
    <i class="material-icons text-(--color-palette-secondary-500) text-lg">{{ icon }}</i>
</div>

<div class="flex flex-col overflow-hidden pr-1 grow gap-2 py-3">
    <div class="h-4 flex items-center justify-between mb-1">
        <span class="truncate text-black font-semibold text-sm block">{{ field.name }}</span>
        @if (!field.fixed) {
            <p-button
                (click)="removeItem($event)"
                id="info-container__delete"
                [text]="true"
                [rounded]="true"
                severity="danger"
                size="small"
                icon="pi pi-trash" />
        }
    </div>
    <div class="h-4 flex items-center justify-between">
        @if (variableToShow) {
            <dot-copy-link [label]="variableToShow" [copy]="variableToShow" />
        }

        @if ($isSmall()) {
            <div>
                @if (true) {
                    <p-button
                        (click)="openAttr($event)"
                        [class.open]="open"
                        data-testid="field-info-button"
                        [text]="true"
                        [rounded]="true"
                        size="small"
                        [ngClass]="{ 'bg-primary-200': open }"
                        icon="pi pi-info-circle" />
                }
            </div>
        } @else {
            <div class="flex gap-3 text-xs">
                <p class="text-gray-900 font-bold m-0">{{ fieldTypeLabel }}</p>
                @for (field of fieldAttributesArray; track field; let index = $index) {
                    <p class="text-gray-700 m-0">
                        {{ field }}
                    </p>
                }
            </div>
        }
    </div>
</div>

<p-popover
    (onShow)="setOpen(true)"
    (onHide)="setOpen(false)"
    #op
    appendTo="body"
    styleClass="contentType__overlayPanel shadow-lg rounded-md border border-gray-200">
    <div class="flex flex-col text-black p-2 min-w-50">
        <p class="font-bold text-sm m-0">{{ fieldTypeLabel }}</p>
        @if (fieldAttributesString.length) {
            <p class="mt-1 text-sm m-0">
                {{ fieldAttributesString }}
            </p>
        }
    </div>
</p-popover>
