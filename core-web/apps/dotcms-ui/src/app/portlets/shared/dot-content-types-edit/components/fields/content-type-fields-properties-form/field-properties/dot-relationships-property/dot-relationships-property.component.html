<div *ngIf="!editing" class="field relationship__type">
    <div class="flex items-center">
        <p-radioButton
            (click)="clean()"
            [(ngModel)]="status"
            [value]="STATUS_NEW"
            inputId="newRelationship">
        </p-radioButton>
        <label for="newRelationship" class="ml-2">{{'contenttypes.field.properties.relationship.new.label' | dm}}</label>
    </div>

    <div class="flex items-center">
        <p-radioButton
            (click)="clean()"
            [(ngModel)]="status"
            [value]="STATUS_EXISTING"
            inputId="existingRelationship">
        </p-radioButton>
        <label for="existingRelationship" class="ml-2">{{'contenttypes.field.properties.relationship.existing.label' | dm}}</label>
    </div>
</div>

<div class="relationship__config">
    <dot-new-relationships
        *ngIf="status === STATUS_NEW; else existing"
        (switch)="handleChange($event)"
        [velocityVar]="group.get(property.name).value.velocityVar"
        [cardinality]="group.get(property.name).value.cardinality"
        [editing]="editing"
        class="relationships__new"></dot-new-relationships>

    <ng-template #existing>
        <div class="field">
            <label [for]="property.name" [checkIsRequiredControl]="property.name" dotFieldRequired>
                Relationship
            </label>
            <dot-edit-relationships
                (switch)="handleChange($event)"
                [id]="property.name"
                class="relationships__existing"></dot-edit-relationships>
        </div>
    </ng-template>

    <dot-field-validation-message
        [message]="getValidationErrorMessage()"
        [field]="group.controls[property.name]"></dot-field-validation-message>
</div>
